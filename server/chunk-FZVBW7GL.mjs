import './polyfills.server.mjs';
import{$ as J,A as OE,B as kd,Ba as h1,C as Nd,D as mr,E as qt,F as ds,Fa as d1,G as oi,H as ai,Ha as On,I as A0,Ia as p0,J as un,K as Gt,L as Ke,M as fs,N as Fd,O as Y,P as o1,Q as l0,R as c0,S as kr,T as Te,U as u0,V as Ai,W as Zo,X as xd,Y as NA,Z as h0,_ as q,a as hs,aa as Kt,b as XL,ba as Li,c as gc,ca as Ze,d as ZL,da as FA,e as Xo,ea as $o,f as pc,fa as K,g as Xn,ga as ea,h as Tr,ha as Md,i as Je,ia as d0,j as $L,ja as a1,k as Rd,l as Td,la as A1,m as e1,n as t1,o as xE,p as n1,q as ME,qa as f0,r as kA,s as r1,sa as g0,t as s0,u as i1,ua as UE,v as LE,va as l1,w as si,wa as PE,x as o0,xa as c1,y as a0,ya as u1,z as s1}from"./chunk-UH34UDUW.mjs";import{A as ue,B as Cr,C as an,D as I0,E as B1,F as Ud,G as de,H as Sn,I as WE,J as y0,K as ci,L as na,M as ho,N as Cc,O as Q1,P as Nr,Q as zZ,R as B0,S as Dt,a as M,b as Ec,c as VE,d as f1,e as g1,f as hn,g as mc,h as Ld,i as E0,j as p1,k as gs,l as m0,m as qE,n as GE,o as E1,p as HE,q as Xt,r as m1,s as C1,t as li,u as ta,v as YE,w as Od,x as C0,y as I1,z as y1}from"./chunk-LBAAQUQ6.mjs";import{a as x,b as se,c as B,d as ii,e as C,g as Dd,h as i0,i as E,j as fc,k as us,l as TA,m as Ln}from"./chunk-DYTSPR25.mjs";var qe=C(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=hi.DEFAULT_MAX_SEND_MESSAGE_LENGTH=hi.Propagate=hi.LogVerbosity=hi.Status=void 0;var nU=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t}(nU||(hi.Status=nU={})),rU=function(t){return t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.ERROR=2]="ERROR",t[t.NONE=3]="NONE",t}(rU||(hi.LogVerbosity=rU={})),iU=function(t){return t[t.DEADLINE=1]="DEADLINE",t[t.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",t[t.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",t[t.CANCELLATION=8]="CANCELLATION",t[t.DEFAULTS=65535]="DEFAULTS",t}(iU||(hi.Propagate=iU={}));hi.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;hi.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var Q_=C((kFe,D7)=>{D7.exports={name:"@grpc/grpc-js",version:"1.9.14",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var Mt=C($n=>{"use strict";var w_,__,v_,S_;Object.defineProperty($n,"__esModule",{value:!0});$n.isTracerEnabled=$n.trace=$n.log=$n.setLoggerVerbosity=$n.setLogger=$n.getLogger=void 0;var Aa=qe(),R7=B("process"),T7=Q_().version,k7={error:(t,...e)=>{console.error("E "+t,...e)},info:(t,...e)=>{console.error("I "+t,...e)},debug:(t,...e)=>{console.error("D "+t,...e)}},PA=k7,vc=Aa.LogVerbosity.ERROR,N7=(__=(w_=process.env.GRPC_NODE_VERBOSITY)!==null&&w_!==void 0?w_:process.env.GRPC_VERBOSITY)!==null&&__!==void 0?__:"";switch(N7.toUpperCase()){case"DEBUG":vc=Aa.LogVerbosity.DEBUG;break;case"INFO":vc=Aa.LogVerbosity.INFO;break;case"ERROR":vc=Aa.LogVerbosity.ERROR;break;case"NONE":vc=Aa.LogVerbosity.NONE;break;default:}var F7=()=>PA;$n.getLogger=F7;var x7=t=>{PA=t};$n.setLogger=x7;var M7=t=>{vc=t};$n.setLoggerVerbosity=M7;var L7=(t,...e)=>{let n;if(t>=vc){switch(t){case Aa.LogVerbosity.DEBUG:n=PA.debug;break;case Aa.LogVerbosity.INFO:n=PA.info;break;case Aa.LogVerbosity.ERROR:n=PA.error;break}n||(n=PA.error),n&&n.bind(PA)(...e)}};$n.log=L7;var O7=(S_=(v_=process.env.GRPC_NODE_TRACE)!==null&&v_!==void 0?v_:process.env.GRPC_TRACE)!==null&&S_!==void 0?S_:"",b_=new Set,sU=new Set;for(let t of O7.split(","))t.startsWith("-")?sU.add(t.substring(1)):b_.add(t);var U7=b_.has("all");function P7(t,e,n){oU(e)&&(0,$n.log)(t,new Date().toISOString()+" | v"+T7+" "+R7.pid+" | "+e+" | "+n)}$n.trace=P7;function oU(t){return!sU.has(t)&&(U7||b_.has(t))}$n.isTracerEnabled=oU});var Sm=C(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.getErrorCode=Sc.getErrorMessage=void 0;function V7(t){return t instanceof Error?t.message:String(t)}Sc.getErrorMessage=V7;function q7(t){return typeof t=="object"&&t!==null&&"code"in t&&typeof t.code=="number"?t.code:null}Sc.getErrorCode=q7});var er=C(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.Metadata=void 0;var G7=Mt(),H7=qe(),Y7=Sm(),W7=/^[0-9a-z_.-]+$/,J7=/^[ -~]*$/;function z7(t){return W7.test(t)}function j7(t){return J7.test(t)}function AU(t){return t.endsWith("-bin")}function K7(t){return!t.startsWith("grpc-")}function bm(t){return t.toLowerCase()}function aU(t,e){if(!z7(t))throw new Error('Metadata key "'+t+'" contains illegal characters');if(e!=null)if(AU(t)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!j7(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var D_=class t{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,n){e=bm(e),aU(e,n),this.internalRepr.set(e,[n])}add(e,n){e=bm(e),aU(e,n);let r=this.internalRepr.get(e);r===void 0?this.internalRepr.set(e,[n]):r.push(n)}remove(e){e=bm(e),this.internalRepr.delete(e)}get(e){return e=bm(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[n,r]of this.internalRepr)if(r.length>0){let i=r[0];e[n]=Buffer.isBuffer(i)?Buffer.from(i):i}return e}clone(){let e=new t(this.options),n=e.internalRepr;for(let[r,i]of this.internalRepr){let s=i.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);n.set(r,s)}return e}merge(e){for(let[n,r]of e.internalRepr){let i=(this.internalRepr.get(n)||[]).concat(r);this.internalRepr.set(n,i)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[n,r]of this.internalRepr)e[n]=r.map(X7);return e}toJSON(){let e={};for(let[n,r]of this.internalRepr)e[n]=r;return e}static fromHttp2Headers(e){let n=new t;for(let r of Object.keys(e)){if(r.charAt(0)===":")continue;let i=e[r];try{AU(r)?Array.isArray(i)?i.forEach(s=>{n.add(r,Buffer.from(s,"base64"))}):i!==void 0&&(K7(r)?i.split(",").forEach(s=>{n.add(r,Buffer.from(s.trim(),"base64"))}):n.add(r,Buffer.from(i,"base64"))):Array.isArray(i)?i.forEach(s=>{n.add(r,s)}):i!==void 0&&n.add(r,i)}catch(s){let o=`Failed to add metadata entry ${r}: ${i}. ${(0,Y7.getErrorMessage)(s)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,G7.log)(H7.LogVerbosity.ERROR,o)}}return n}};Dm.Metadata=D_;var X7=t=>Buffer.isBuffer(t)?t.toString("base64"):t});var F_=C(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.CallCredentials=void 0;var N_=er();function Z7(t){return"getRequestHeaders"in t&&typeof t.getRequestHeaders=="function"}var bc=class t{static createFromMetadataGenerator(e){return new T_(e)}static createFromGoogleCredential(e){return t.createFromMetadataGenerator((n,r)=>{let i;Z7(e)?i=e.getRequestHeaders(n.service_url):i=new Promise((s,o)=>{e.getRequestMetadata(n.service_url,(a,A)=>{if(a){o(a);return}if(!A){o(new Error("Headers not set by metadata plugin"));return}s(A)})}),i.then(s=>{let o=new N_.Metadata;for(let a of Object.keys(s))o.add(a,s[a]);r(null,o)},s=>{r(s)})})}static createEmpty(){return new k_}};Rm.CallCredentials=bc;var R_=class t extends bc{constructor(e){super(),this.creds=e}generateMetadata(e){return E(this,null,function*(){let n=new N_.Metadata,r=yield Promise.all(this.creds.map(i=>i.generateMetadata(e)));for(let i of r)n.merge(i);return n})}compose(e){return new t(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof t?this.creds.every((n,r)=>n._equals(e.creds[r])):!1}},T_=class t extends bc{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((n,r)=>{this.metadataGenerator(e,(i,s)=>{s!==void 0?n(s):r(i)})})}compose(e){return new R_([this,e])}_equals(e){return this===e?!0:e instanceof t?this.metadataGenerator===e.metadataGenerator:!1}},k_=class t extends bc{generateMetadata(e){return Promise.resolve(new N_.Metadata)}compose(e){return e}_equals(e){return e instanceof t}}});var M_=C(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.getDefaultRootsData=Dc.CIPHER_SUITES=void 0;var $7=B("fs");Dc.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var lU=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,x_=null;function eee(){return lU?(x_===null&&(x_=$7.readFileSync(lU)),x_):null}Dc.getDefaultRootsData=eee});var Nm=C(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.ChannelCredentials=void 0;var tee=B("tls"),nee=F_(),cU=M_();function L_(t,e){if(t&&!(t instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var Rc=class{constructor(e){this.callCredentials=e||nee.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,n,r,i){var s;if(L_(e,"Root certificate"),L_(n,"Private key"),L_(r,"Certificate chain"),n&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!n&&r)throw new Error("Certificate chain must be given with accompanying private key");let o=(0,tee.createSecureContext)({ca:(s=e??(0,cU.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,key:n??void 0,cert:r??void 0,ciphers:cU.CIPHER_SUITES});return new Tm(o,i??{})}static createFromSecureContext(e,n){return new Tm(e,n??{})}static createInsecure(){return new O_}};km.ChannelCredentials=Rc;var O_=class t extends Rc{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof t}},Tm=class t extends Rc{constructor(e,n){super(),this.secureContext=e,this.verifyOptions=n,this.connectionOptions={secureContext:e},n?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=n.checkServerIdentity)}compose(e){let n=this.callCredentials.compose(e);return new U_(this,n)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof t?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},U_=class t extends Rc{constructor(e,n){super(n),this.channelCredentials=e}compose(e){let n=this.callCredentials.compose(e);return new t(this.channelCredentials,n)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof t?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var ca=C(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.validateLoadBalancingConfig=Vn.getFirstUsableConfig=Vn.isLoadBalancerNameRegistered=Vn.createLoadBalancer=Vn.registerDefaultLoadBalancerType=Vn.registerLoadBalancerType=Vn.createChildChannelControlHelper=void 0;function ree(t,e){var n,r,i,s,o,a,A,l,c,u;return{createSubchannel:(r=(n=e.createSubchannel)===null||n===void 0?void 0:n.bind(e))!==null&&r!==void 0?r:t.createSubchannel.bind(t),updateState:(s=(i=e.updateState)===null||i===void 0?void 0:i.bind(e))!==null&&s!==void 0?s:t.updateState.bind(t),requestReresolution:(a=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&a!==void 0?a:t.requestReresolution.bind(t),addChannelzChild:(l=(A=e.addChannelzChild)===null||A===void 0?void 0:A.bind(e))!==null&&l!==void 0?l:t.addChannelzChild.bind(t),removeChannelzChild:(u=(c=e.removeChannelzChild)===null||c===void 0?void 0:c.bind(e))!==null&&u!==void 0?u:t.removeChannelzChild.bind(t)}}Vn.createChildChannelControlHelper=ree;var la={},P_=null;function iee(t,e,n){la[t]={LoadBalancer:e,LoadBalancingConfig:n}}Vn.registerLoadBalancerType=iee;function see(t){P_=t}Vn.registerDefaultLoadBalancerType=see;function oee(t,e){let n=t.getLoadBalancerName();return n in la?new la[n].LoadBalancer(e):null}Vn.createLoadBalancer=oee;function aee(t){return t in la}Vn.isLoadBalancerNameRegistered=aee;function Aee(t,e=!1){for(let n of t)if(n.getLoadBalancerName()in la)return n;return e&&P_?new la[P_].LoadBalancingConfig:null}Vn.getFirstUsableConfig=Aee;function lee(t){if(!(t!==null&&typeof t=="object"))throw new Error("Load balancing config must be an object");let e=Object.keys(t);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let n=e[0];if(n in la)return la[n].LoadBalancingConfig.createFromJson(t[n]);throw new Error(`Unrecognized load balancing config name ${n}`)}Vn.validateLoadBalancingConfig=lee});var V_=C(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.extractAndSelectServiceConfig=ua.validateServiceConfig=ua.validateRetryThrottling=void 0;var cee=B("os"),Fm=qe(),uee=ca(),xm=/^\d+(\.\d{1,9})?s$/,hee="node";function dee(t){if("service"in t&&t.service!==""){if(typeof t.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof t.service}`);if("method"in t&&t.method!==""){if(typeof t.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof t.service}`);return{service:t.service,method:t.method}}else return{service:t.service}}else{if("method"in t&&t.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function fee(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in t)||typeof t.initialBackoff!="string"||!xm.test(t.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in t)||typeof t.maxBackoff!="string"||!xm.test(t.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in t)||typeof t.backoffMultiplier!="number"||t.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in t&&Array.isArray(t.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(t.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of t.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(Fm.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(Fm.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:t.maxAttempts,initialBackoff:t.initialBackoff,maxBackoff:t.maxBackoff,backoffMultiplier:t.backoffMultiplier,retryableStatusCodes:t.retryableStatusCodes}}function gee(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in t&&(typeof t.hedgingDelay!="string"||!xm.test(t.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in t&&Array.isArray(t.nonFatalStatusCodes))for(let n of t.nonFatalStatusCodes)if(typeof n=="number"){if(!Object.values(Fm.Status).includes(n))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof n=="string"){if(!Object.values(Fm.Status).includes(n.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:t.maxAttempts};return t.hedgingDelay&&(e.hedgingDelay=t.hedgingDelay),t.nonFatalStatusCodes&&(e.nonFatalStatusCodes=t.nonFatalStatusCodes),e}function pee(t){var e;let n={name:[]};if(!("name"in t)||!Array.isArray(t.name))throw new Error("Invalid method config: invalid name array");for(let r of t.name)n.name.push(dee(r));if("waitForReady"in t){if(typeof t.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");n.waitForReady=t.waitForReady}if("timeout"in t)if(typeof t.timeout=="object"){if(!("seconds"in t.timeout)||typeof t.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in t.timeout)||typeof t.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");n.timeout=t.timeout}else if(typeof t.timeout=="string"&&xm.test(t.timeout)){let r=t.timeout.substring(0,t.timeout.length-1).split(".");n.timeout={seconds:r[0]|0,nanos:((e=r[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in t){if(typeof t.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");n.maxRequestBytes=t.maxRequestBytes}if("maxResponseBytes"in t){if(typeof t.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");n.maxResponseBytes=t.maxResponseBytes}if("retryPolicy"in t){if("hedgingPolicy"in t)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");n.retryPolicy=fee(t.retryPolicy)}else"hedgingPolicy"in t&&(n.hedgingPolicy=gee(t.hedgingPolicy));return n}function uU(t){if(!("maxTokens"in t)||typeof t.maxTokens!="number"||t.maxTokens<=0||t.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in t)||typeof t.tokenRatio!="number"||t.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+t.maxTokens.toFixed(3),tokenRatio:+t.tokenRatio.toFixed(3)}}ua.validateRetryThrottling=uU;function hU(t){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in t)if(typeof t.loadBalancingPolicy=="string")e.loadBalancingPolicy=t.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in t)if(Array.isArray(t.loadBalancingConfig))for(let r of t.loadBalancingConfig)e.loadBalancingConfig.push((0,uee.validateLoadBalancingConfig)(r));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in t&&Array.isArray(t.methodConfig))for(let r of t.methodConfig)e.methodConfig.push(pee(r));"retryThrottling"in t&&(e.retryThrottling=uU(t.retryThrottling));let n=[];for(let r of e.methodConfig)for(let i of r.name){for(let s of n)if(i.service===s.service&&i.method===s.method)throw new Error(`Invalid service config: duplicate name ${i.service}/${i.method}`);n.push(i)}return e}ua.validateServiceConfig=hU;function Eee(t){if(!("serviceConfig"in t))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:hU(t.serviceConfig)};if("clientLanguage"in t)if(Array.isArray(t.clientLanguage)){e.clientLanguage=[];for(let r of t.clientLanguage)if(typeof r=="string")e.clientLanguage.push(r);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in t)if(Array.isArray(t.clientHostname)){e.clientHostname=[];for(let r of t.clientHostname)if(typeof r=="string")e.clientHostname.push(r);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in t)if(typeof t.percentage=="number"&&0<=t.percentage&&t.percentage<=100)e.percentage=t.percentage;else throw new Error("Invalid service config choice: invalid percentage");let n=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let r in t)if(!n.includes(r))throw new Error(`Invalid service config choice: unexpected field ${r}`);return e}function mee(t,e){if(!Array.isArray(t))throw new Error("Invalid service config list");for(let n of t){let r=Eee(n);if(!(typeof r.percentage=="number"&&e>r.percentage)){if(Array.isArray(r.clientHostname)){let i=!1;for(let s of r.clientHostname)s===cee.hostname()&&(i=!0);if(!i)continue}if(Array.isArray(r.clientLanguage)){let i=!1;for(let s of r.clientLanguage)s===hee&&(i=!0);if(!i)continue}return r.serviceConfig}}throw new Error("No matching service config found")}function Cee(t,e){for(let n of t)if(n.length>0&&n[0].startsWith("grpc_config=")){let r=n.join("").substring(12),i=JSON.parse(r);return mee(i,e)}return null}ua.extractAndSelectServiceConfig=Cee});var di=C(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.ConnectivityState=void 0;var dU=function(t){return t[t.IDLE=0]="IDLE",t[t.CONNECTING=1]="CONNECTING",t[t.READY=2]="READY",t[t.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",t[t.SHUTDOWN=4]="SHUTDOWN",t}(dU||(Mm.ConnectivityState=dU={}))});var xr=C(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.uriToString=ha.splitHostPort=ha.parseUri=void 0;var Iee=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function yee(t){let e=Iee.exec(t);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}ha.parseUri=yee;var fU=/^\d+$/;function Bee(t){if(t.startsWith("[")){let e=t.indexOf("]");if(e===-1)return null;let n=t.substring(1,e);if(n.indexOf(":")===-1)return null;if(t.length>e+1)if(t[e+1]===":"){let r=t.substring(e+2);return fU.test(r)?{host:n,port:+r}:null}else return null;else return{host:n}}else{let e=t.split(":");return e.length===2?fU.test(e[1])?{host:e[0],port:+e[1]}:null:{host:t}}}ha.splitHostPort=Bee;function Qee(t){let e="";return t.scheme!==void 0&&(e+=t.scheme+":"),t.authority!==void 0&&(e+="//"+t.authority+"/"),e+=t.path,e}ha.uriToString=Qee});var ys=C(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.mapUriDefaultScheme=fi.getDefaultAuthority=fi.createResolver=fi.registerDefaultScheme=fi.registerResolver=void 0;var G_=xr(),Tc={},q_=null;function wee(t,e){Tc[t]=e}fi.registerResolver=wee;function _ee(t){q_=t}fi.registerDefaultScheme=_ee;function vee(t,e,n){if(t.scheme!==void 0&&t.scheme in Tc)return new Tc[t.scheme](t,e,n);throw new Error(`No resolver could be created for target ${(0,G_.uriToString)(t)}`)}fi.createResolver=vee;function See(t){if(t.scheme!==void 0&&t.scheme in Tc)return Tc[t.scheme].getDefaultAuthority(t);throw new Error(`Invalid target ${(0,G_.uriToString)(t)}`)}fi.getDefaultAuthority=See;function bee(t){return t.scheme===void 0||!(t.scheme in Tc)?q_!==null?{scheme:q_,authority:void 0,path:(0,G_.uriToString)(t)}:null:t}fi.mapUriDefaultScheme=bee});var fa=C(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.QueuePicker=da.UnavailablePicker=da.PickResultType=void 0;var Dee=er(),Ree=qe(),Lm=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.QUEUE=1]="QUEUE",t[t.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",t[t.DROP=3]="DROP",t}(Lm||(da.PickResultType=Lm={})),H_=class{constructor(e){this.status=Object.assign({code:Ree.Status.UNAVAILABLE,details:"No connection established",metadata:new Dee.Metadata},e)}pick(e){return{pickResultType:Lm.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};da.UnavailablePicker=H_;var Y_=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:Lm.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};da.QueuePicker=Y_});var Ef=C(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.BackoffTimeout=void 0;var Tee=1e3,kee=1.6,Nee=12e4,Fee=.2;function xee(t,e){return Math.random()*(e-t)+t}var W_=class{constructor(e,n){this.callback=e,this.initialDelay=Tee,this.multiplier=kee,this.maxDelay=Nee,this.jitter=Fee,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,n&&(n.initialDelay&&(this.initialDelay=n.initialDelay),n.multiplier&&(this.multiplier=n.multiplier),n.jitter&&(this.jitter=n.jitter),n.maxDelay&&(this.maxDelay=n.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var n,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(r=(n=this.timerId).unref)===null||r===void 0||r.call(n)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),n=e*this.jitter;this.nextDelay=e+xee(-n,n)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,n=this.startTime;n.setMilliseconds(n.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<n?this.runTimer(n.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,n;this.hasRef=!0,(n=(e=this.timerId).ref)===null||n===void 0||n.call(e)}unref(){var e,n;this.hasRef=!1,(n=(e=this.timerId).unref)===null||n===void 0||n.call(e)}getEndTime(){return this.endTime}};Om.BackoffTimeout=W_});var Pm=C(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.ChildLoadBalancerHandler=void 0;var Mee=ca(),Lee=di(),Oee="child_load_balancer_helper",J_=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(n){this.parent=n,this.child=null}createSubchannel(n,r){return this.parent.channelControlHelper.createSubchannel(n,r)}updateState(n,r){var i;if(this.calledByPendingChild()){if(n===Lee.ConnectivityState.CONNECTING)return;(i=this.parent.currentChild)===null||i===void 0||i.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(n,r)}requestReresolution(){var n;let r=(n=this.parent.pendingChild)!==null&&n!==void 0?n:this.parent.currentChild;this.child===r&&this.parent.channelControlHelper.requestReresolution()}setChild(n){this.child=n}addChannelzChild(n){this.parent.channelControlHelper.addChannelzChild(n)}removeChannelzChild(n){this.parent.channelControlHelper.removeChannelzChild(n)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,n){return e.getLoadBalancerName()!==n.getLoadBalancerName()}updateAddressList(e,n,r){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,n)){let s=new this.ChildPolicyHelper(this),o=(0,Mee.createLoadBalancer)(n,s);s.setChild(o),this.currentChild===null?(this.currentChild=o,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=o,i=this.pendingChild)}else this.pendingChild===null?i=this.currentChild:i=this.pendingChild;this.latestConfig=n,i.updateAddressList(e,n,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return Oee}};Um.ChildLoadBalancerHandler=J_});var pU=C(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.ResolvingLoadBalancer=void 0;var Uee=ca(),Pee=V_(),Ir=di(),Vee=ys(),kc=fa(),qee=Ef(),z_=qe(),Gee=er(),Hee=Mt(),Yee=qe(),Wee=xr(),Jee=Pm(),zee="resolving_load_balancer";function gU(t){Hee.trace(Yee.LogVerbosity.DEBUG,zee,t)}var jee=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function Kee(t,e,n,r){for(let i of n.name)switch(r){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===t&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===t&&i.method===e)return!0}return!1}function Xee(t,e,n,r){for(let i of n)if(Kee(t,e,i,r))return i;return null}function Zee(t){return function(n,r){var i,s;let o=n.split("/").filter(l=>l.length>0),a=(i=o[0])!==null&&i!==void 0?i:"",A=(s=o[1])!==null&&s!==void 0?s:"";if(t&&t.methodConfig)for(let l of jee){let c=Xee(a,A,t.methodConfig,l);if(c)return{methodConfig:c,pickInformation:{},status:z_.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:z_.Status.OK,dynamicFilterFactories:[]}}}var j_=class{constructor(e,n,r,i,s){this.target=e,this.channelControlHelper=n,this.onSuccessfulResolution=i,this.onFailedResolution=s,this.latestChildState=Ir.ConnectivityState.IDLE,this.latestChildPicker=new kc.QueuePicker(this),this.currentState=Ir.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,Pee.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(Ir.ConnectivityState.IDLE,new kc.QueuePicker(this)),this.childLoadBalancer=new Jee.ChildLoadBalancerHandler({createSubchannel:n.createSubchannel.bind(n),requestReresolution:()=>{this.backoffTimeout.isRunning()?(gU("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,A)=>{this.latestChildState=a,this.latestChildPicker=A,this.updateState(a,A)},addChannelzChild:n.addChannelzChild.bind(n),removeChannelzChild:n.removeChannelzChild.bind(n)}),this.innerResolver=(0,Vee.createResolver)(e,{onSuccessfulResolution:(a,A,l,c,u)=>{var h;this.backoffTimeout.stop(),this.backoffTimeout.reset();let d=null;A===null?l===null?(this.previousServiceConfig=null,d=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(l):d=this.previousServiceConfig:(d=A,this.previousServiceConfig=A);let f=(h=d?.loadBalancingConfig)!==null&&h!==void 0?h:[],g=(0,Uee.getFirstUsableConfig)(f,!0);if(g===null){this.handleResolutionFailure({code:z_.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new Gee.Metadata});return}this.childLoadBalancer.updateAddressList(a,g,u);let m=d??this.defaultServiceConfig;this.onSuccessfulResolution(m,c??Zee(m))},onError:a=>{this.handleResolutionFailure(a)}},r);let o={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new qee.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},o),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===Ir.ConnectivityState.IDLE&&this.updateState(Ir.ConnectivityState.CONNECTING,new kc.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,n){gU((0,Wee.uriToString)(this.target)+" "+Ir.ConnectivityState[this.currentState]+" -> "+Ir.ConnectivityState[e]),e===Ir.ConnectivityState.IDLE&&(n=new kc.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,n)}handleResolutionFailure(e){this.latestChildState===Ir.ConnectivityState.IDLE&&(this.updateState(Ir.ConnectivityState.TRANSIENT_FAILURE,new kc.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===Ir.ConnectivityState.IDLE||this.currentState===Ir.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,n){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=Ir.ConnectivityState.IDLE,this.latestChildPicker=new kc.QueuePicker(this),this.currentState=Ir.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};Vm.ResolvingLoadBalancer=j_});var EU=C(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.channelOptionsEqual=Nc.recognizedOptions=void 0;Nc.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0};function $ee(t,e){let n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i+=1)if(n[i]!==r[i]||t[n[i]]!==e[r[i]])return!1;return!0}Nc.channelOptionsEqual=$ee});var Qs=C(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.stringToSubchannelAddress=Bs.subchannelAddressToString=Bs.subchannelAddressEqual=Bs.isTcpSubchannelAddress=void 0;var ete=B("net");function mf(t){return"port"in t}Bs.isTcpSubchannelAddress=mf;function tte(t,e){return!t&&!e?!0:!t||!e?!1:mf(t)?mf(e)&&t.host===e.host&&t.port===e.port:!mf(e)&&t.path===e.path}Bs.subchannelAddressEqual=tte;function nte(t){return mf(t)?t.host+":"+t.port:t.path}Bs.subchannelAddressToString=nte;var rte=443;function ite(t,e){return(0,ete.isIP)(t)?{host:t,port:e??rte}:{path:t}}Bs.stringToSubchannelAddress=ite});var qm=C(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.addAdminServicesToServer=Fc.registerAdminService=void 0;var mU=[];function ste(t,e){mU.push({getServiceDefinition:t,getHandlers:e})}Fc.registerAdminService=ste;function ote(t){for(let{getServiceDefinition:e,getHandlers:n}of mU)t.addService(e(),n())}Fc.addAdminServicesToServer=ote});var CU=C(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.ClientDuplexStreamImpl=gi.ClientWritableStreamImpl=gi.ClientReadableStreamImpl=gi.ClientUnaryCallImpl=gi.callErrorFromStatus=void 0;var ate=B("events"),ev=B("stream"),Cf=qe();function Ate(t,e){let n=`${t.code} ${Cf.Status[t.code]}: ${t.details}`,i=`${new Error(n).stack}
for call at
${e}`;return Object.assign(new Error(n),t,{stack:i})}gi.callErrorFromStatus=Ate;var K_=class extends ate.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Cf.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,n;return(n=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:"unknown"}};gi.ClientUnaryCallImpl=K_;var X_=class extends ev.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Cf.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,n;return(n=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:"unknown"}_read(e){var n;(n=this.call)===null||n===void 0||n.startRead()}};gi.ClientReadableStreamImpl=X_;var Z_=class extends ev.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Cf.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,n;return(n=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:"unknown"}_write(e,n,r){var i;let s={callback:r},o=Number(n);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var n;(n=this.call)===null||n===void 0||n.halfClose(),e()}};gi.ClientWritableStreamImpl=Z_;var $_=class extends ev.Duplex{constructor(e,n){super({objectMode:!0}),this.serialize=e,this.deserialize=n}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Cf.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,n;return(n=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:"unknown"}_read(e){var n;(n=this.call)===null||n===void 0||n.startRead()}_write(e,n,r){var i;let s={callback:r},o=Number(n);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var n;(n=this.call)===null||n===void 0||n.halfClose(),e()}};gi.ClientDuplexStreamImpl=$_});var IU=C(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.InterceptingListenerImpl=xc.isInterceptingListener=void 0;function lte(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}xc.isInterceptingListener=lte;var tv=class{constructor(e,n){this.listener=e,this.nextListener=n,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,n=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(n),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,n=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=n,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(n),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,n=>{this.processingMetadata||this.processingMessage?this.pendingStatus=n:this.nextListener.onReceiveStatus(n)})}};xc.InterceptingListenerImpl=tv});var Av=C(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.getInterceptingCall=pi.InterceptingCall=pi.RequesterBuilder=pi.ListenerBuilder=pi.InterceptorConfigurationError=void 0;var cte=er(),yU=IU(),BU=qe(),QU=Sm(),yf=class t extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,t)}};pi.InterceptorConfigurationError=yf;var rv=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};pi.ListenerBuilder=rv;var iv=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};pi.RequesterBuilder=iv;var nv={onReceiveMetadata:(t,e)=>{e(t)},onReceiveMessage:(t,e)=>{e(t)},onReceiveStatus:(t,e)=>{e(t)}},If={start:(t,e,n)=>{n(t,e)},sendMessage:(t,e)=>{e(t)},halfClose:t=>{t()},cancel:t=>{t()}},sv=class{constructor(e,n){var r,i,s,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,n?this.requester={start:(r=n.start)!==null&&r!==void 0?r:If.start,sendMessage:(i=n.sendMessage)!==null&&i!==void 0?i:If.sendMessage,halfClose:(s=n.halfClose)!==null&&s!==void 0?s:If.halfClose,cancel:(o=n.cancel)!==null&&o!==void 0?o:If.cancel}:this.requester=If}cancelWithStatus(e,n){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,n)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,n){var r,i,s,o,a,A;let l={onReceiveMetadata:(i=(r=n?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(n))!==null&&i!==void 0?i:c=>{},onReceiveMessage:(o=(s=n?.onReceiveMessage)===null||s===void 0?void 0:s.bind(n))!==null&&o!==void 0?o:c=>{},onReceiveStatus:(A=(a=n?.onReceiveStatus)===null||a===void 0?void 0:a.bind(n))!==null&&A!==void 0?A:c=>{}};this.processingMetadata=!0,this.requester.start(e,l,(c,u)=>{var h,d,f;this.processingMetadata=!1;let g;if((0,yU.isInterceptingListener)(u))g=u;else{let m={onReceiveMetadata:(h=u.onReceiveMetadata)!==null&&h!==void 0?h:nv.onReceiveMetadata,onReceiveMessage:(d=u.onReceiveMessage)!==null&&d!==void 0?d:nv.onReceiveMessage,onReceiveStatus:(f=u.onReceiveStatus)!==null&&f!==void 0?f:nv.onReceiveStatus};g=new yU.InterceptingListenerImpl(m,l)}this.nextCall.start(c,g),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,n){this.processingMessage=!0,this.requester.sendMessage(n,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=n):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};pi.InterceptingCall=sv;function ute(t,e,n){var r,i;let s=(r=n.deadline)!==null&&r!==void 0?r:1/0,o=n.host,a=(i=n.parent)!==null&&i!==void 0?i:null,A=n.propagate_flags,l=n.credentials,c=t.createCall(e,s,o,a,A);return l&&c.setCredentials(l),c}var Gm=class{constructor(e,n){this.call=e,this.methodDefinition=n}cancelWithStatus(e,n){this.call.cancelWithStatus(e,n)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,n){let r;try{r=this.methodDefinition.requestSerialize(n)}catch(i){this.call.cancelWithStatus(BU.Status.INTERNAL,`Request message serialization failure: ${(0,QU.getErrorMessage)(i)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,n){let r=null;this.call.start(e,{onReceiveMetadata:i=>{var s;(s=n?.onReceiveMetadata)===null||s===void 0||s.call(n,i)},onReceiveMessage:i=>{var s;let o;try{o=this.methodDefinition.responseDeserialize(i)}catch(a){r={code:BU.Status.INTERNAL,details:`Response message parsing error: ${(0,QU.getErrorMessage)(a)}`,metadata:new cte.Metadata},this.call.cancelWithStatus(r.code,r.details);return}(s=n?.onReceiveMessage)===null||s===void 0||s.call(n,o)},onReceiveStatus:i=>{var s,o;r?(s=n?.onReceiveStatus)===null||s===void 0||s.call(n,r):(o=n?.onReceiveStatus)===null||o===void 0||o.call(n,i)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},ov=class extends Gm{constructor(e,n){super(e,n)}start(e,n){var r,i;let s=!1,o={onReceiveMetadata:(i=(r=n?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(n))!==null&&i!==void 0?i:a=>{},onReceiveMessage:a=>{var A;s=!0,(A=n?.onReceiveMessage)===null||A===void 0||A.call(n,a)},onReceiveStatus:a=>{var A,l;s||(A=n?.onReceiveMessage)===null||A===void 0||A.call(n,null),(l=n?.onReceiveStatus)===null||l===void 0||l.call(n,a)}};super.start(e,o),this.call.startRead()}},av=class extends Gm{};function hte(t,e,n){let r=ute(t,n.path,e);return n.responseStream?new av(r,n):new ov(r,n)}function dte(t,e,n,r){if(t.clientInterceptors.length>0&&t.clientInterceptorProviders.length>0)throw new yf("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(t.callInterceptors.length>0&&t.callInterceptorProviders.length>0)throw new yf("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];t.callInterceptors.length>0||t.callInterceptorProviders.length>0?i=[].concat(t.callInterceptors,t.callInterceptorProviders.map(a=>a(e))).filter(a=>a):i=[].concat(t.clientInterceptors,t.clientInterceptorProviders.map(a=>a(e))).filter(a=>a);let s=Object.assign({},n,{method_definition:e});return i.reduceRight((a,A)=>l=>A(l,a),a=>hte(r,a,e))(s)}pi.getInterceptingCall=dte});var uv=C(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.Client=void 0;var ws=CU(),fte=hv(),gte=di(),ga=qe(),Mc=er(),Hm=Av(),Gi=Symbol(),Lc=Symbol(),Oc=Symbol(),mo=Symbol();function lv(t){return typeof t=="function"}function Uc(t){return t.stack.split(`
`).slice(1).join(`
`)}var cv=class{constructor(e,n,r={}){var i,s;if(r=Object.assign({},r),this[Lc]=(i=r.interceptors)!==null&&i!==void 0?i:[],delete r.interceptors,this[Oc]=(s=r.interceptor_providers)!==null&&s!==void 0?s:[],delete r.interceptor_providers,this[Lc].length>0&&this[Oc].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[mo]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[Gi]=r.channelOverride;else if(r.channelFactoryOverride){let o=r.channelFactoryOverride;delete r.channelFactoryOverride,this[Gi]=o(e,n,r)}else this[Gi]=new fte.ChannelImplementation(e,n,r)}close(){this[Gi].close()}getChannel(){return this[Gi]}waitForReady(e,n){let r=i=>{if(i){n(new Error("Failed to connect before the deadline"));return}let s;try{s=this[Gi].getConnectivityState(!0)}catch{n(new Error("The channel has been closed"));return}if(s===gte.ConnectivityState.READY)n();else try{this[Gi].watchConnectivityState(s,e,r)}catch{n(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,n,r){if(lv(e))return{metadata:new Mc.Metadata,options:{},callback:e};if(lv(n))return e instanceof Mc.Metadata?{metadata:e,options:{},callback:n}:{metadata:new Mc.Metadata,options:e,callback:n};if(!(e instanceof Mc.Metadata&&n instanceof Object&&lv(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:n,callback:r}}makeUnaryRequest(e,n,r,i,s,o,a){var A,l;let c=this.checkOptionalUnaryResponseArguments(s,o,a),u={path:e,requestStream:!1,responseStream:!1,requestSerialize:n,responseDeserialize:r},h={argument:i,metadata:c.metadata,call:new ws.ClientUnaryCallImpl,channel:this[Gi],methodDefinition:u,callOptions:c.options,callback:c.callback};this[mo]&&(h=this[mo](h));let d=h.call,f={clientInterceptors:this[Lc],clientInterceptorProviders:this[Oc],callInterceptors:(A=h.callOptions.interceptors)!==null&&A!==void 0?A:[],callInterceptorProviders:(l=h.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},g=(0,Hm.getInterceptingCall)(f,h.methodDefinition,h.callOptions,h.channel);d.call=g;let m=null,y=!1,I=new Error;return g.start(h.metadata,{onReceiveMetadata:_=>{d.emit("metadata",_)},onReceiveMessage(_){m!==null&&g.cancelWithStatus(ga.Status.INTERNAL,"Too many responses received"),m=_},onReceiveStatus(_){if(!y){if(y=!0,_.code===ga.Status.OK)if(m===null){let w=Uc(I);h.callback((0,ws.callErrorFromStatus)({code:ga.Status.INTERNAL,details:"No message received",metadata:_.metadata},w))}else h.callback(null,m);else{let w=Uc(I);h.callback((0,ws.callErrorFromStatus)(_,w))}I=null,d.emit("status",_)}}}),g.sendMessage(i),g.halfClose(),d}makeClientStreamRequest(e,n,r,i,s,o){var a,A;let l=this.checkOptionalUnaryResponseArguments(i,s,o),c={path:e,requestStream:!0,responseStream:!1,requestSerialize:n,responseDeserialize:r},u={metadata:l.metadata,call:new ws.ClientWritableStreamImpl(n),channel:this[Gi],methodDefinition:c,callOptions:l.options,callback:l.callback};this[mo]&&(u=this[mo](u));let h=u.call,d={clientInterceptors:this[Lc],clientInterceptorProviders:this[Oc],callInterceptors:(a=u.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(A=u.callOptions.interceptor_providers)!==null&&A!==void 0?A:[]},f=(0,Hm.getInterceptingCall)(d,u.methodDefinition,u.callOptions,u.channel);h.call=f;let g=null,m=!1,y=new Error;return f.start(u.metadata,{onReceiveMetadata:I=>{h.emit("metadata",I)},onReceiveMessage(I){g!==null&&f.cancelWithStatus(ga.Status.INTERNAL,"Too many responses received"),g=I},onReceiveStatus(I){if(!m){if(m=!0,I.code===ga.Status.OK)if(g===null){let _=Uc(y);u.callback((0,ws.callErrorFromStatus)({code:ga.Status.INTERNAL,details:"No message received",metadata:I.metadata},_))}else u.callback(null,g);else{let _=Uc(y);u.callback((0,ws.callErrorFromStatus)(I,_))}y=null,h.emit("status",I)}}}),h}checkMetadataAndOptions(e,n){let r,i;return e instanceof Mc.Metadata?(r=e,n?i=n:i={}):(e?i=e:i={},r=new Mc.Metadata),{metadata:r,options:i}}makeServerStreamRequest(e,n,r,i,s,o){var a,A;let l=this.checkMetadataAndOptions(s,o),c={path:e,requestStream:!1,responseStream:!0,requestSerialize:n,responseDeserialize:r},u={argument:i,metadata:l.metadata,call:new ws.ClientReadableStreamImpl(r),channel:this[Gi],methodDefinition:c,callOptions:l.options};this[mo]&&(u=this[mo](u));let h=u.call,d={clientInterceptors:this[Lc],clientInterceptorProviders:this[Oc],callInterceptors:(a=u.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(A=u.callOptions.interceptor_providers)!==null&&A!==void 0?A:[]},f=(0,Hm.getInterceptingCall)(d,u.methodDefinition,u.callOptions,u.channel);h.call=f;let g=!1,m=new Error;return f.start(u.metadata,{onReceiveMetadata(y){h.emit("metadata",y)},onReceiveMessage(y){h.push(y)},onReceiveStatus(y){if(!g){if(g=!0,h.push(null),y.code!==ga.Status.OK){let I=Uc(m);h.emit("error",(0,ws.callErrorFromStatus)(y,I))}m=null,h.emit("status",y)}}}),f.sendMessage(i),f.halfClose(),h}makeBidiStreamRequest(e,n,r,i,s){var o,a;let A=this.checkMetadataAndOptions(i,s),l={path:e,requestStream:!0,responseStream:!0,requestSerialize:n,responseDeserialize:r},c={metadata:A.metadata,call:new ws.ClientDuplexStreamImpl(n,r),channel:this[Gi],methodDefinition:l,callOptions:A.options};this[mo]&&(c=this[mo](c));let u=c.call,h={clientInterceptors:this[Lc],clientInterceptorProviders:this[Oc],callInterceptors:(o=c.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(a=c.callOptions.interceptor_providers)!==null&&a!==void 0?a:[]},d=(0,Hm.getInterceptingCall)(h,c.methodDefinition,c.callOptions,c.channel);u.call=d;let f=!1,g=new Error;return d.start(c.metadata,{onReceiveMetadata(m){u.emit("metadata",m)},onReceiveMessage(m){u.push(m)},onReceiveStatus(m){if(!f){if(f=!0,u.push(null),m.code!==ga.Status.OK){let y=Uc(g);u.emit("error",(0,ws.callErrorFromStatus)(m,y))}g=null,u.emit("status",m)}}}),u}};Ym.Client=cv});var fv=C(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.loadPackageDefinition=Pc.makeClientConstructor=void 0;var Bf=uv(),pte={unary:Bf.Client.prototype.makeUnaryRequest,server_stream:Bf.Client.prototype.makeServerStreamRequest,client_stream:Bf.Client.prototype.makeClientStreamRequest,bidi:Bf.Client.prototype.makeBidiStreamRequest};function dv(t){return["__proto__","prototype","constructor"].includes(t)}function wU(t,e,n){n||(n={});class r extends Bf.Client{}return Object.keys(t).forEach(i=>{if(dv(i))return;let s=t[i],o;if(typeof i=="string"&&i.charAt(0)==="$")throw new Error("Method names cannot start with $");s.requestStream?s.responseStream?o="bidi":o="client_stream":s.responseStream?o="server_stream":o="unary";let a=s.requestSerialize,A=s.responseDeserialize,l=Ete(pte[o],s.path,a,A);r.prototype[i]=l,Object.assign(r.prototype[i],s),s.originalName&&!dv(s.originalName)&&(r.prototype[s.originalName]=r.prototype[i])}),r.service=t,r.serviceName=e,r}Pc.makeClientConstructor=wU;function Ete(t,e,n,r){return function(...i){return t.call(this,e,n,r,...i)}}function mte(t){return"format"in t}function Cte(t){let e={};for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let r=t[n],i=n.split(".");if(i.some(a=>dv(a)))continue;let s=i[i.length-1],o=e;for(let a of i.slice(0,-1))o[a]||(o[a]={}),o=o[a];mte(r)?o[s]=r:o[s]=wU(r,s,{})}return e}Pc.loadPackageDefinition=Cte});var jU=C((ixe,zU)=>{var Ite=1/0,yte="[object Symbol]",Bte=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qte=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jm="\\ud800-\\udfff",kU="\\u0300-\\u036f\\ufe20-\\ufe23",NU="\\u20d0-\\u20f0",FU="\\u2700-\\u27bf",xU="a-z\\xdf-\\xf6\\xf8-\\xff",wte="\\xac\\xb1\\xd7\\xf7",_te="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vte="\\u2000-\\u206f",Ste=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",MU="A-Z\\xc0-\\xd6\\xd8-\\xde",LU="\\ufe0e\\ufe0f",OU=wte+_te+vte+Ste,pv="['\u2019]",bte="["+Jm+"]",_U="["+OU+"]",Wm="["+kU+NU+"]",UU="\\d+",Dte="["+FU+"]",PU="["+xU+"]",VU="[^"+Jm+OU+UU+FU+xU+MU+"]",gv="\\ud83c[\\udffb-\\udfff]",Rte="(?:"+Wm+"|"+gv+")",qU="[^"+Jm+"]",Ev="(?:\\ud83c[\\udde6-\\uddff]){2}",mv="[\\ud800-\\udbff][\\udc00-\\udfff]",Vc="["+MU+"]",GU="\\u200d",vU="(?:"+PU+"|"+VU+")",Tte="(?:"+Vc+"|"+VU+")",SU="(?:"+pv+"(?:d|ll|m|re|s|t|ve))?",bU="(?:"+pv+"(?:D|LL|M|RE|S|T|VE))?",HU=Rte+"?",YU="["+LU+"]?",kte="(?:"+GU+"(?:"+[qU,Ev,mv].join("|")+")"+YU+HU+")*",WU=YU+HU+kte,Nte="(?:"+[Dte,Ev,mv].join("|")+")"+WU,Fte="(?:"+[qU+Wm+"?",Wm,Ev,mv,bte].join("|")+")",xte=RegExp(pv,"g"),Mte=RegExp(Wm,"g"),Lte=RegExp(gv+"(?="+gv+")|"+Fte+WU,"g"),Ote=RegExp([Vc+"?"+PU+"+"+SU+"(?="+[_U,Vc,"$"].join("|")+")",Tte+"+"+bU+"(?="+[_U,Vc+vU,"$"].join("|")+")",Vc+"?"+vU+"+"+SU,Vc+"+"+bU,UU,Nte].join("|"),"g"),Ute=RegExp("["+GU+Jm+kU+NU+LU+"]"),Pte=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vte={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},qte=typeof global=="object"&&global&&global.Object===Object&&global,Gte=typeof self=="object"&&self&&self.Object===Object&&self,Hte=qte||Gte||Function("return this")();function Yte(t,e,n,r){var i=-1,s=t?t.length:0;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Wte(t){return t.split("")}function Jte(t){return t.match(Bte)||[]}function zte(t){return function(e){return t?.[e]}}var jte=zte(Vte);function JU(t){return Ute.test(t)}function Kte(t){return Pte.test(t)}function Xte(t){return JU(t)?Zte(t):Wte(t)}function Zte(t){return t.match(Lte)||[]}function $te(t){return t.match(Ote)||[]}var ene=Object.prototype,tne=ene.toString,DU=Hte.Symbol,RU=DU?DU.prototype:void 0,TU=RU?RU.toString:void 0;function nne(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function rne(t){if(typeof t=="string")return t;if(Ane(t))return TU?TU.call(t):"";var e=t+"";return e=="0"&&1/t==-Ite?"-0":e}function ine(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:nne(t,e,n)}function sne(t){return function(e){e=zm(e);var n=JU(e)?Xte(e):void 0,r=n?n[0]:e.charAt(0),i=n?ine(n,1).join(""):e.slice(1);return r[t]()+i}}function one(t){return function(e){return Yte(dne(une(e).replace(xte,"")),t,"")}}function ane(t){return!!t&&typeof t=="object"}function Ane(t){return typeof t=="symbol"||ane(t)&&tne.call(t)==yte}function zm(t){return t==null?"":rne(t)}var lne=one(function(t,e,n){return e=e.toLowerCase(),t+(n?cne(e):e)});function cne(t){return hne(zm(t).toLowerCase())}function une(t){return t=zm(t),t&&t.replace(Qte,jte).replace(Mte,"")}var hne=sne("toUpperCase");function dne(t,e,n){return t=zm(t),e=n?void 0:e,e===void 0?Kte(t)?$te(t):Jte(t):t.match(e)||[]}zU.exports=lne});var Cv=C((sxe,KU)=>{"use strict";KU.exports=fne;function fne(t,e){for(var n=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(a,A){n[r]=function(c){if(s)if(s=!1,c)A(c);else{for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h++]=arguments[h];a.apply(null,u)}};try{t.apply(e||null,n)}catch(l){s&&(s=!1,A(l))}})}});var eP=C($U=>{"use strict";var jm=$U;jm.length=function(e){var n=e.length;if(!n)return 0;for(var r=0;--n%4>1&&e.charAt(n)==="=";)++r;return Math.ceil(e.length*3)/4-r};var qc=new Array(64),ZU=new Array(123);for(Hi=0;Hi<64;)ZU[qc[Hi]=Hi<26?Hi+65:Hi<52?Hi+71:Hi<62?Hi-4:Hi-59|43]=Hi++;var Hi;jm.encode=function(e,n,r){for(var i=null,s=[],o=0,a=0,A;n<r;){var l=e[n++];switch(a){case 0:s[o++]=qc[l>>2],A=(l&3)<<4,a=1;break;case 1:s[o++]=qc[A|l>>4],A=(l&15)<<2,a=2;break;case 2:s[o++]=qc[A|l>>6],s[o++]=qc[l&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=qc[A],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var XU="invalid encoding";jm.decode=function(e,n,r){for(var i=r,s=0,o,a=0;a<e.length;){var A=e.charCodeAt(a++);if(A===61&&s>1)break;if((A=ZU[A])===void 0)throw Error(XU);switch(s){case 0:o=A,s=1;break;case 1:n[r++]=o<<2|(A&48)>>4,o=A,s=2;break;case 2:n[r++]=(o&15)<<4|(A&60)>>2,o=A,s=3;break;case 3:n[r++]=(o&3)<<6|A,s=0;break}}if(s===1)throw Error(XU);return r-i};jm.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var nP=C((axe,tP)=>{"use strict";tP.exports=Km;function Km(){this._listeners={}}Km.prototype.on=function(e,n,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:n,ctx:r||this}),this};Km.prototype.off=function(e,n){if(e===void 0)this._listeners={};else if(n===void 0)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===n?r.splice(i,1):++i;return this};Km.prototype.emit=function(e){var n=this._listeners[e];if(n){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<n.length;)n[i].fn.apply(n[i++].ctx,r)}return this}});var lP=C((Axe,AP)=>{"use strict";AP.exports=rP(rP);function rP(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=n[3]===128;function i(A,l,c){e[0]=A,l[c]=n[0],l[c+1]=n[1],l[c+2]=n[2],l[c+3]=n[3]}function s(A,l,c){e[0]=A,l[c]=n[3],l[c+1]=n[2],l[c+2]=n[1],l[c+3]=n[0]}t.writeFloatLE=r?i:s,t.writeFloatBE=r?s:i;function o(A,l){return n[0]=A[l],n[1]=A[l+1],n[2]=A[l+2],n[3]=A[l+3],e[0]}function a(A,l){return n[3]=A[l],n[2]=A[l+1],n[1]=A[l+2],n[0]=A[l+3],e[0]}t.readFloatLE=r?o:a,t.readFloatBE=r?a:o}():function(){function e(r,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,s,o);else if(isNaN(i))r(2143289344,s,o);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var A=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-A)*8388608)&8388607;r((a<<31|A+127<<23|l)>>>0,s,o)}}t.writeFloatLE=e.bind(null,iP),t.writeFloatBE=e.bind(null,sP);function n(r,i,s){var o=r(i,s),a=(o>>31)*2+1,A=o>>>23&255,l=o&8388607;return A===255?l?NaN:a*(1/0):A===0?a*1401298464324817e-60*l:a*Math.pow(2,A-150)*(l+8388608)}t.readFloatLE=n.bind(null,oP),t.readFloatBE=n.bind(null,aP)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=n[7]===128;function i(A,l,c){e[0]=A,l[c]=n[0],l[c+1]=n[1],l[c+2]=n[2],l[c+3]=n[3],l[c+4]=n[4],l[c+5]=n[5],l[c+6]=n[6],l[c+7]=n[7]}function s(A,l,c){e[0]=A,l[c]=n[7],l[c+1]=n[6],l[c+2]=n[5],l[c+3]=n[4],l[c+4]=n[3],l[c+5]=n[2],l[c+6]=n[1],l[c+7]=n[0]}t.writeDoubleLE=r?i:s,t.writeDoubleBE=r?s:i;function o(A,l){return n[0]=A[l],n[1]=A[l+1],n[2]=A[l+2],n[3]=A[l+3],n[4]=A[l+4],n[5]=A[l+5],n[6]=A[l+6],n[7]=A[l+7],e[0]}function a(A,l){return n[7]=A[l],n[6]=A[l+1],n[5]=A[l+2],n[4]=A[l+3],n[3]=A[l+4],n[2]=A[l+5],n[1]=A[l+6],n[0]=A[l+7],e[0]}t.readDoubleLE=r?o:a,t.readDoubleBE=r?a:o}():function(){function e(r,i,s,o,a,A){var l=o<0?1:0;if(l&&(o=-o),o===0)r(0,a,A+i),r(1/o>0?0:2147483648,a,A+s);else if(isNaN(o))r(0,a,A+i),r(2146959360,a,A+s);else if(o>17976931348623157e292)r(0,a,A+i),r((l<<31|2146435072)>>>0,a,A+s);else{var c;if(o<22250738585072014e-324)c=o/5e-324,r(c>>>0,a,A+i),r((l<<31|c/4294967296)>>>0,a,A+s);else{var u=Math.floor(Math.log(o)/Math.LN2);u===1024&&(u=1023),c=o*Math.pow(2,-u),r(c*4503599627370496>>>0,a,A+i),r((l<<31|u+1023<<20|c*1048576&1048575)>>>0,a,A+s)}}}t.writeDoubleLE=e.bind(null,iP,0,4),t.writeDoubleBE=e.bind(null,sP,4,0);function n(r,i,s,o,a){var A=r(o,a+i),l=r(o,a+s),c=(l>>31)*2+1,u=l>>>20&2047,h=4294967296*(l&1048575)+A;return u===2047?h?NaN:c*(1/0):u===0?c*5e-324*h:c*Math.pow(2,u-1075)*(h+4503599627370496)}t.readDoubleLE=n.bind(null,oP,0,4),t.readDoubleBE=n.bind(null,aP,4,0)}(),t}function iP(t,e,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function sP(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=t&255}function oP(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function aP(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Iv=C((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var uP=C(cP=>{"use strict";var yv=cP;yv.length=function(e){for(var n=0,r=0,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?n+=1:r<2048?n+=2:(r&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,n+=4):n+=3;return n};yv.read=function(e,n,r){var i=r-n;if(i<1)return"";for(var s=null,o=[],a=0,A;n<r;)A=e[n++],A<128?o[a++]=A:A>191&&A<224?o[a++]=(A&31)<<6|e[n++]&63:A>239&&A<365?(A=((A&7)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,o[a++]=55296+(A>>10),o[a++]=56320+(A&1023)):o[a++]=(A&15)<<12|(e[n++]&63)<<6|e[n++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};yv.write=function(e,n,r){for(var i=r,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128);return r-i}});var dP=C((cxe,hP)=>{"use strict";hP.exports=gne;function gne(t,e,n){var r=n||8192,i=r>>>1,s=null,o=r;return function(A){if(A<1||A>i)return t(A);o+A>r&&(s=t(r),o=0);var l=e.call(s,o,o+=A);return o&7&&(o=(o|7)+1),l}}});var gP=C((uxe,fP)=>{"use strict";fP.exports=gn;var Qf=_s();function gn(t,e){this.lo=t>>>0,this.hi=e>>>0}var VA=gn.zero=new gn(0,0);VA.toNumber=function(){return 0};VA.zzEncode=VA.zzDecode=function(){return this};VA.length=function(){return 1};var pne=gn.zeroHash="\0\0\0\0\0\0\0\0";gn.fromNumber=function(e){if(e===0)return VA;var n=e<0;n&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return n&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new gn(r,i)};gn.from=function(e){if(typeof e=="number")return gn.fromNumber(e);if(Qf.isString(e))if(Qf.Long)e=Qf.Long.fromString(e);else return gn.fromNumber(parseInt(e,10));return e.low||e.high?new gn(e.low>>>0,e.high>>>0):VA};gn.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var n=~this.lo+1>>>0,r=~this.hi>>>0;return n||(r=r+1>>>0),-(n+r*4294967296)}return this.lo+this.hi*4294967296};gn.prototype.toLong=function(e){return Qf.Long?new Qf.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var pa=String.prototype.charCodeAt;gn.fromHash=function(e){return e===pne?VA:new gn((pa.call(e,0)|pa.call(e,1)<<8|pa.call(e,2)<<16|pa.call(e,3)<<24)>>>0,(pa.call(e,4)|pa.call(e,5)<<8|pa.call(e,6)<<16|pa.call(e,7)<<24)>>>0)};gn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};gn.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};gn.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};gn.prototype.length=function(){var e=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?n===0?e<16384?e<128?1:2:e<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}});var _s=C(Bv=>{"use strict";var $=Bv;$.asPromise=Cv();$.base64=eP();$.EventEmitter=nP();$.float=lP();$.inquire=Iv();$.utf8=uP();$.pool=dP();$.LongBits=gP();$.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);$.global=$.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Bv;$.emptyArray=Object.freeze?Object.freeze([]):[];$.emptyObject=Object.freeze?Object.freeze({}):{};$.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};$.isString=function(e){return typeof e=="string"||e instanceof String};$.isObject=function(e){return e&&typeof e=="object"};$.isset=$.isSet=function(e,n){var r=e[n];return r!=null&&e.hasOwnProperty(n)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};$.Buffer=function(){try{var t=$.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();$._Buffer_from=null;$._Buffer_allocUnsafe=null;$.newBuffer=function(e){return typeof e=="number"?$.Buffer?$._Buffer_allocUnsafe(e):new $.Array(e):$.Buffer?$._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};$.Array=typeof Uint8Array<"u"?Uint8Array:Array;$.Long=$.global.dcodeIO&&$.global.dcodeIO.Long||$.global.Long||$.inquire("long");$.key2Re=/^true|false|0|1$/;$.key32Re=/^-?(?:0|[1-9][0-9]*)$/;$.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;$.longToHash=function(e){return e?$.LongBits.from(e).toHash():$.LongBits.zeroHash};$.longFromHash=function(e,n){var r=$.LongBits.fromHash(e);return $.Long?$.Long.fromBits(r.lo,r.hi,n):r.toNumber(!!n)};function pP(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;++i)(t[r[i]]===void 0||!n)&&(t[r[i]]=e[r[i]]);return t}$.merge=pP;$.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function EP(t){function e(n,r){if(!(this instanceof e))return new e(n,r);Object.defineProperty(this,"message",{get:function(){return n}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&pP(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}$.newError=EP;$.ProtocolError=EP("ProtocolError");$.oneOfGetter=function(e){for(var n={},r=0;r<e.length;++r)n[e[r]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(n[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};$.oneOfSetter=function(e){return function(n){for(var r=0;r<e.length;++r)e[r]!==n&&delete this[e[r]]}};$.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};$._configure=function(){var t=$.Buffer;if(!t){$._Buffer_from=$._Buffer_allocUnsafe=null;return}$._Buffer_from=t.from!==Uint8Array.from&&t.from||function(n,r){return new t(n,r)},$._Buffer_allocUnsafe=t.allocUnsafe||function(n){return new t(n)}}});var Zm=C((dxe,yP)=>{"use strict";yP.exports=Pe;var Ei=_s(),Qv,Xm=Ei.LongBits,mP=Ei.base64,CP=Ei.utf8;function wf(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function _v(){}function Ene(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Pe(){this.len=0,this.head=new wf(_v,0,0),this.tail=this.head,this.states=null}var IP=function(){return Ei.Buffer?function(){return(Pe.create=function(){return new Qv})()}:function(){return new Pe}};Pe.create=IP();Pe.alloc=function(e){return new Ei.Array(e)};Ei.Array!==Array&&(Pe.alloc=Ei.pool(Pe.alloc,Ei.Array.prototype.subarray));Pe.prototype._push=function(e,n,r){return this.tail=this.tail.next=new wf(e,n,r),this.len+=n,this};function vv(t,e,n){e[n]=t&255}function mne(t,e,n){for(;t>127;)e[n++]=t&127|128,t>>>=7;e[n]=t}function Sv(t,e){this.len=t,this.next=void 0,this.val=e}Sv.prototype=Object.create(wf.prototype);Sv.prototype.fn=mne;Pe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Sv((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Pe.prototype.int32=function(e){return e<0?this._push(bv,10,Xm.fromNumber(e)):this.uint32(e)};Pe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function bv(t,e,n){for(;t.hi;)e[n++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=t.lo&127|128,t.lo=t.lo>>>7;e[n++]=t.lo}Pe.prototype.uint64=function(e){var n=Xm.from(e);return this._push(bv,n.length(),n)};Pe.prototype.int64=Pe.prototype.uint64;Pe.prototype.sint64=function(e){var n=Xm.from(e).zzEncode();return this._push(bv,n.length(),n)};Pe.prototype.bool=function(e){return this._push(vv,1,e?1:0)};function wv(t,e,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}Pe.prototype.fixed32=function(e){return this._push(wv,4,e>>>0)};Pe.prototype.sfixed32=Pe.prototype.fixed32;Pe.prototype.fixed64=function(e){var n=Xm.from(e);return this._push(wv,4,n.lo)._push(wv,4,n.hi)};Pe.prototype.sfixed64=Pe.prototype.fixed64;Pe.prototype.float=function(e){return this._push(Ei.float.writeFloatLE,4,e)};Pe.prototype.double=function(e){return this._push(Ei.float.writeDoubleLE,8,e)};var Cne=Ei.Array.prototype.set?function(e,n,r){n.set(e,r)}:function(e,n,r){for(var i=0;i<e.length;++i)n[r+i]=e[i]};Pe.prototype.bytes=function(e){var n=e.length>>>0;if(!n)return this._push(vv,1,0);if(Ei.isString(e)){var r=Pe.alloc(n=mP.length(e));mP.decode(e,r,0),e=r}return this.uint32(n)._push(Cne,n,e)};Pe.prototype.string=function(e){var n=CP.length(e);return n?this.uint32(n)._push(CP.write,n,e):this._push(vv,1,0)};Pe.prototype.fork=function(){return this.states=new Ene(this),this.head=this.tail=new wf(_v,0,0),this.len=0,this};Pe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new wf(_v,0,0),this.len=0),this};Pe.prototype.ldelim=function(){var e=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=n,this.len+=r),this};Pe.prototype.finish=function(){for(var e=this.head.next,n=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,n,r),r+=e.len,e=e.next;return n};Pe._configure=function(t){Qv=t,Pe.create=IP(),Qv._configure()}});var wP=C((fxe,QP)=>{"use strict";QP.exports=vs;var BP=Zm();(vs.prototype=Object.create(BP.prototype)).constructor=vs;var Ea=_s();function vs(){BP.call(this)}vs._configure=function(){vs.alloc=Ea._Buffer_allocUnsafe,vs.writeBytesBuffer=Ea.Buffer&&Ea.Buffer.prototype instanceof Uint8Array&&Ea.Buffer.prototype.set.name==="set"?function(e,n,r){n.set(e,r)}:function(e,n,r){if(e.copy)e.copy(n,r,0,e.length);else for(var i=0;i<e.length;)n[r++]=e[i++]}};vs.prototype.bytes=function(e){Ea.isString(e)&&(e=Ea._Buffer_from(e,"base64"));var n=e.length>>>0;return this.uint32(n),n&&this._push(vs.writeBytesBuffer,n,e),this};function Ine(t,e,n){t.length<40?Ea.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}vs.prototype.string=function(e){var n=Ea.Buffer.byteLength(e);return this.uint32(n),n&&this._push(Ine,n,e),this};vs._configure()});var eC=C((gxe,DP)=>{"use strict";DP.exports=Ht;var Yi=_s(),Rv,SP=Yi.LongBits,yne=Yi.utf8;function Wi(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Ht(t){this.buf=t,this.pos=0,this.len=t.length}var _P=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ht(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ht(e);throw Error("illegal buffer")},bP=function(){return Yi.Buffer?function(n){return(Ht.create=function(i){return Yi.Buffer.isBuffer(i)?new Rv(i):_P(i)})(n)}:_P};Ht.create=bP();Ht.prototype._slice=Yi.Array.prototype.subarray||Yi.Array.prototype.slice;Ht.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Wi(this,10);return e}}();Ht.prototype.int32=function(){return this.uint32()|0};Ht.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Dv(){var t=new SP(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Wi(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Wi(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Ht.prototype.bool=function(){return this.uint32()!==0};function $m(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Ht.prototype.fixed32=function(){if(this.pos+4>this.len)throw Wi(this,4);return $m(this.buf,this.pos+=4)};Ht.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Wi(this,4);return $m(this.buf,this.pos+=4)|0};function vP(){if(this.pos+8>this.len)throw Wi(this,8);return new SP($m(this.buf,this.pos+=4),$m(this.buf,this.pos+=4))}Ht.prototype.float=function(){if(this.pos+4>this.len)throw Wi(this,4);var e=Yi.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ht.prototype.double=function(){if(this.pos+8>this.len)throw Wi(this,4);var e=Yi.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ht.prototype.bytes=function(){var e=this.uint32(),n=this.pos,r=this.pos+e;if(r>this.len)throw Wi(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(n,r);if(n===r){var i=Yi.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,n,r)};Ht.prototype.string=function(){var e=this.bytes();return yne.read(e,0,e.length)};Ht.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Wi(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Wi(this);while(this.buf[this.pos++]&128);return this};Ht.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Ht._configure=function(t){Rv=t,Ht.create=bP(),Rv._configure();var e=Yi.Long?"toLong":"toNumber";Yi.merge(Ht.prototype,{int64:function(){return Dv.call(this)[e](!1)},uint64:function(){return Dv.call(this)[e](!0)},sint64:function(){return Dv.call(this).zzDecode()[e](!1)},fixed64:function(){return vP.call(this)[e](!0)},sfixed64:function(){return vP.call(this)[e](!1)}})}});var NP=C((pxe,kP)=>{"use strict";kP.exports=qA;var TP=eC();(qA.prototype=Object.create(TP.prototype)).constructor=qA;var RP=_s();function qA(t){TP.call(this,t)}qA._configure=function(){RP.Buffer&&(qA.prototype._slice=RP.Buffer.prototype.slice)};qA.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};qA._configure()});var xP=C((Exe,FP)=>{"use strict";FP.exports=_f;var Tv=_s();(_f.prototype=Object.create(Tv.EventEmitter.prototype)).constructor=_f;function _f(t,e,n){if(typeof t!="function")throw TypeError("rpcImpl must be a function");Tv.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!n}_f.prototype.rpcCall=function t(e,n,r,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return Tv.asPromise(t,o,e,n,r,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,n[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(A,l){if(A)return o.emit("error",A,e),s(A);if(l===null){o.end(!0);return}if(!(l instanceof r))try{l=r[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(c){return o.emit("error",c,e),s(c)}return o.emit("data",l,e),s(null,l)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};_f.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var kv=C(MP=>{"use strict";var Bne=MP;Bne.Service=xP()});var Nv=C((Cxe,LP)=>{"use strict";LP.exports={}});var PP=C(UP=>{"use strict";var yr=UP;yr.build="minimal";yr.Writer=Zm();yr.BufferWriter=wP();yr.Reader=eC();yr.BufferReader=NP();yr.util=_s();yr.rpc=kv();yr.roots=Nv();yr.configure=OP;function OP(){yr.util._configure(),yr.Writer._configure(yr.BufferWriter),yr.Reader._configure(yr.BufferReader)}OP()});var qP=C((yxe,VP)=>{"use strict";VP.exports=Fv;function Fv(t,e){typeof t=="string"&&(e=t,t=void 0);var n=[];function r(s){if(typeof s!="string"){var o=i();if(Fv.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var a=Object.keys(s),A=new Array(a.length+1),l=new Array(a.length),c=0;c<a.length;)A[c]=a[c],l[c]=s[a[c++]];return A[c]=o,Function.apply(null,A).apply(null,l)}return Function(o)()}for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h]=arguments[++h];if(h=0,s=s.replace(/%([%dfijs])/g,function(f,g){var m=u[h++];switch(g){case"d":case"f":return String(Number(m));case"i":return String(Math.floor(m));case"j":return JSON.stringify(m);case"s":return String(m)}return"%"}),h!==u.length)throw Error("parameter count mismatch");return n.push(s),r}function i(s){return"function "+(s||e||"")+"("+(t&&t.join(",")||"")+`){
  `+n.join(`
  `)+`
}`}return r.toString=i,r}Fv.verbose=!1});var HP=C((Bxe,GP)=>{"use strict";GP.exports=vf;var Qne=Cv(),wne=Iv(),xv=wne("fs");function vf(t,e,n){return typeof e=="function"?(n=e,e={}):e||(e={}),n?!e.xhr&&xv&&xv.readFile?xv.readFile(t,function(i,s){return i&&typeof XMLHttpRequest<"u"?vf.xhr(t,e,n):i?n(i):n(null,e.binary?s:s.toString("utf8"))}):vf.xhr(t,e,n):Qne(vf,this,t,e)}vf.xhr=function(e,n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return r(Error("status "+i.status));if(n.binary){var o=i.response;if(!o){o=[];for(var a=0;a<i.responseText.length;++a)o.push(i.responseText.charCodeAt(a)&255)}return r(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return r(null,i.responseText)}},n.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var JP=C(WP=>{"use strict";var Lv=WP,YP=Lv.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},Mv=Lv.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var n=e.split("/"),r=YP(e),i="";r&&(i=n.shift()+"/");for(var s=0;s<n.length;)n[s]===".."?s>0&&n[s-1]!==".."?n.splice(--s,2):r?n.splice(s,1):++s:n[s]==="."?n.splice(s,1):++s;return i+n.join("/")};Lv.resolve=function(e,n,r){return r||(n=Mv(n)),YP(n)?n:(r||(e=Mv(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?Mv(e+"/"+n):n)}});var GA=C(zP=>{"use strict";var Sf=zP,_ne=pn(),vne=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function bf(t,e){var n=0,r={};for(e|=0;n<t.length;)r[vne[n+e]]=t[n++];return r}Sf.basic=bf([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Sf.defaults=bf([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",_ne.emptyArray,null]);Sf.long=bf([0,0,0,1,1],7);Sf.mapKey=bf([0,0,0,5,5,0,0,0,1,1,0,2],2);Sf.packed=bf([1,5,0,0,0,5,5,0,0,0,1,1,0])});var ma=C((_xe,XP)=>{"use strict";XP.exports=mi;var tC=HA();((mi.prototype=Object.create(tC.prototype)).constructor=mi).className="Field";var jP=Ji(),KP=GA(),Zt=pn(),Ov,Sne=/^required|optional|repeated$/;mi.fromJSON=function(e,n){return new mi(e,n.id,n.type,n.rule,n.extend,n.options,n.comment)};function mi(t,e,n,r,i,s,o){if(Zt.isObject(r)?(o=i,s=r,r=i=void 0):Zt.isObject(i)&&(o=s,s=i,i=void 0),tC.call(this,t,s),!Zt.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!Zt.isString(n))throw TypeError("type must be a string");if(r!==void 0&&!Sne.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!Zt.isString(i))throw TypeError("extend must be a string");r==="proto3_optional"&&(r="optional"),this.rule=r&&r!=="optional"?r:void 0,this.type=n,this.id=e,this.extend=i||void 0,this.required=r==="required",this.optional=!this.required,this.repeated=r==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=Zt.Long?KP.long[n]!==void 0:!1,this.bytes=n==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=o}Object.defineProperty(mi.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});mi.prototype.setOption=function(e,n,r){return e==="packed"&&(this._packed=null),tC.prototype.setOption.call(this,e,n,r)};mi.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return Zt.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",n?this.comment:void 0])};mi.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=KP.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Ov?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof jP&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof jP))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=Zt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;Zt.base64.test(this.typeDefault)?Zt.base64.decode(this.typeDefault,e=Zt.newBuffer(Zt.base64.length(this.typeDefault)),0):Zt.utf8.write(this.typeDefault,e=Zt.newBuffer(Zt.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=Zt.emptyObject:this.repeated?this.defaultValue=Zt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Ov&&(this.parent.ctor.prototype[this.name]=this.defaultValue),tC.prototype.resolve.call(this)};mi.d=function(e,n,r,i){return typeof n=="function"?n=Zt.decorateType(n).name:n&&typeof n=="object"&&(n=Zt.decorateEnum(n).name),function(o,a){Zt.decorateType(o.constructor).add(new mi(a,e,n,r,{default:i}))}};mi._configure=function(e){Ov=e}});var Gc=C((vxe,e2)=>{"use strict";e2.exports=Ci;var rC=HA();((Ci.prototype=Object.create(rC.prototype)).constructor=Ci).className="OneOf";var ZP=ma(),nC=pn();function Ci(t,e,n,r){if(Array.isArray(e)||(n=e,e=void 0),rC.call(this,t,n),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}Ci.fromJSON=function(e,n){return new Ci(e,n.oneof,n.options,n.comment)};Ci.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return nC.toObject(["options",this.options,"oneof",this.oneof,"comment",n?this.comment:void 0])};function $P(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}Ci.prototype.add=function(e){if(!(e instanceof ZP))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,$P(this),this};Ci.prototype.remove=function(e){if(!(e instanceof ZP))throw TypeError("field must be a Field");var n=this.fieldsArray.indexOf(e);if(n<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(n,1),n=this.oneof.indexOf(e.name),n>-1&&this.oneof.splice(n,1),e.partOf=null,this};Ci.prototype.onAdd=function(e){rC.prototype.onAdd.call(this,e);for(var n=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=n,n.fieldsArray.push(i))}$P(this)};Ci.prototype.onRemove=function(e){for(var n=0,r;n<this.fieldsArray.length;++n)(r=this.fieldsArray[n]).parent&&r.parent.remove(r);rC.prototype.onRemove.call(this,e)};Ci.d=function(){for(var e=new Array(arguments.length),n=0;n<arguments.length;)e[n]=arguments[n++];return function(i,s){nC.decorateType(i.constructor).add(new Ci(s,e)),Object.defineProperty(i,s,{get:nC.oneOfGetter(e),set:nC.oneOfSetter(e)})}}});var Wc=C((Sxe,i2)=>{"use strict";i2.exports=Ge;var Uv=HA();((Ge.prototype=Object.create(Uv.prototype)).constructor=Ge).className="Namespace";var t2=ma(),iC=pn(),bne=Gc(),Hc,Df,Yc;Ge.fromJSON=function(e,n){return new Ge(e,n.options).addJSON(n.nested)};function n2(t,e){if(t&&t.length){for(var n={},r=0;r<t.length;++r)n[t[r].name]=t[r].toJSON(e);return n}}Ge.arrayToJSON=n2;Ge.isReservedId=function(e,n){if(e){for(var r=0;r<e.length;++r)if(typeof e[r]!="string"&&e[r][0]<=n&&e[r][1]>n)return!0}return!1};Ge.isReservedName=function(e,n){if(e){for(var r=0;r<e.length;++r)if(e[r]===n)return!0}return!1};function Ge(t,e){Uv.call(this,t,e),this.nested=void 0,this._nestedArray=null}function r2(t){return t._nestedArray=null,t}Object.defineProperty(Ge.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=iC.toArray(this.nested))}});Ge.prototype.toJSON=function(e){return iC.toObject(["options",this.options,"nested",n2(this.nestedArray,e)])};Ge.prototype.addJSON=function(e){var n=this;if(e)for(var r=Object.keys(e),i=0,s;i<r.length;++i)s=e[r[i]],n.add((s.fields!==void 0?Hc.fromJSON:s.values!==void 0?Yc.fromJSON:s.methods!==void 0?Df.fromJSON:s.id!==void 0?t2.fromJSON:Ge.fromJSON)(r[i],s));return this};Ge.prototype.get=function(e){return this.nested&&this.nested[e]||null};Ge.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof Yc)return this.nested[e].values;throw Error("no such enum: "+e)};Ge.prototype.add=function(e){if(!(e instanceof t2&&e.extend!==void 0||e instanceof Hc||e instanceof bne||e instanceof Yc||e instanceof Df||e instanceof Ge))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var n=this.get(e.name);if(n)if(n instanceof Ge&&e instanceof Ge&&!(n instanceof Hc||n instanceof Df)){for(var r=n.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(n),this.nested||(this.nested={}),e.setOptions(n.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),r2(this)};Ge.prototype.remove=function(e){if(!(e instanceof Uv))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),r2(this)};Ge.prototype.define=function(e,n){if(iC.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(r=r.nested[i],!(r instanceof Ge))throw Error("path conflicts with non-namespace objects")}else r.add(r=new Ge(i))}return n&&r.addJSON(n),r};Ge.prototype.resolveAll=function(){for(var e=this.nestedArray,n=0;n<e.length;)e[n]instanceof Ge?e[n++].resolveAll():e[n++].resolve();return this.resolve()};Ge.prototype.lookup=function(e,n,r){if(typeof n=="boolean"?(r=n,n=void 0):n&&!Array.isArray(n)&&(n=[n]),iC.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),n);var i=this.get(e[0]);if(i){if(e.length===1){if(!n||n.indexOf(i.constructor)>-1)return i}else if(i instanceof Ge&&(i=i.lookup(e.slice(1),n,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof Ge&&(i=this._nestedArray[s].lookup(e,n,!0)))return i;return this.parent===null||r?null:this.parent.lookup(e,n)};Ge.prototype.lookupType=function(e){var n=this.lookup(e,[Hc]);if(!n)throw Error("no such type: "+e);return n};Ge.prototype.lookupEnum=function(e){var n=this.lookup(e,[Yc]);if(!n)throw Error("no such Enum '"+e+"' in "+this);return n};Ge.prototype.lookupTypeOrEnum=function(e){var n=this.lookup(e,[Hc,Yc]);if(!n)throw Error("no such Type or Enum '"+e+"' in "+this);return n};Ge.prototype.lookupService=function(e){var n=this.lookup(e,[Df]);if(!n)throw Error("no such Service '"+e+"' in "+this);return n};Ge._configure=function(t,e,n){Hc=t,Df=e,Yc=n}});var sC=C((bxe,s2)=>{"use strict";s2.exports=Co;var Pv=ma();((Co.prototype=Object.create(Pv.prototype)).constructor=Co).className="MapField";var Dne=GA(),Rf=pn();function Co(t,e,n,r,i,s){if(Pv.call(this,t,e,r,void 0,void 0,i,s),!Rf.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}Co.fromJSON=function(e,n){return new Co(e,n.id,n.keyType,n.type,n.options,n.comment)};Co.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return Rf.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",n?this.comment:void 0])};Co.prototype.resolve=function(){if(this.resolved)return this;if(Dne.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Pv.prototype.resolve.call(this)};Co.d=function(e,n,r){return typeof r=="function"?r=Rf.decorateType(r).name:r&&typeof r=="object"&&(r=Rf.decorateEnum(r).name),function(s,o){Rf.decorateType(s.constructor).add(new Co(o,e,n,r))}}});var oC=C((Dxe,o2)=>{"use strict";o2.exports=YA;var Vv=HA();((YA.prototype=Object.create(Vv.prototype)).constructor=YA).className="Method";var Jc=pn();function YA(t,e,n,r,i,s,o,a,A){if(Jc.isObject(i)?(o=i,i=s=void 0):Jc.isObject(s)&&(o=s,s=void 0),!(e===void 0||Jc.isString(e)))throw TypeError("type must be a string");if(!Jc.isString(n))throw TypeError("requestType must be a string");if(!Jc.isString(r))throw TypeError("responseType must be a string");Vv.call(this,t,o),this.type=e||"rpc",this.requestType=n,this.requestStream=i?!0:void 0,this.responseType=r,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=A}YA.fromJSON=function(e,n){return new YA(e,n.type,n.requestType,n.responseType,n.requestStream,n.responseStream,n.options,n.comment,n.parsedOptions)};YA.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return Jc.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",n?this.comment:void 0,"parsedOptions",this.parsedOptions])};YA.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),Vv.prototype.resolve.call(this))}});var aC=C((Rxe,A2)=>{"use strict";A2.exports=Ii;var Ca=Wc();((Ii.prototype=Object.create(Ca.prototype)).constructor=Ii).className="Service";var qv=oC(),Tf=pn(),Rne=kv();function Ii(t,e){Ca.call(this,t,e),this.methods={},this._methodsArray=null}Ii.fromJSON=function(e,n){var r=new Ii(e,n.options);if(n.methods)for(var i=Object.keys(n.methods),s=0;s<i.length;++s)r.add(qv.fromJSON(i[s],n.methods[i[s]]));return n.nested&&r.addJSON(n.nested),r.comment=n.comment,r};Ii.prototype.toJSON=function(e){var n=Ca.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return Tf.toObject(["options",n&&n.options||void 0,"methods",Ca.arrayToJSON(this.methodsArray,e)||{},"nested",n&&n.nested||void 0,"comment",r?this.comment:void 0])};Object.defineProperty(Ii.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Tf.toArray(this.methods))}});function a2(t){return t._methodsArray=null,t}Ii.prototype.get=function(e){return this.methods[e]||Ca.prototype.get.call(this,e)};Ii.prototype.resolveAll=function(){for(var e=this.methodsArray,n=0;n<e.length;++n)e[n].resolve();return Ca.prototype.resolve.call(this)};Ii.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof qv?(this.methods[e.name]=e,e.parent=this,a2(this)):Ca.prototype.add.call(this,e)};Ii.prototype.remove=function(e){if(e instanceof qv){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,a2(this)}return Ca.prototype.remove.call(this,e)};Ii.prototype.create=function(e,n,r){for(var i=new Rne.Service(e,n,r),s=0,o;s<this.methodsArray.length;++s){var a=Tf.lcFirst((o=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=Tf.codegen(["r","c"],Tf.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var AC=C((Txe,l2)=>{"use strict";l2.exports=Ss;var Tne=_s();function Ss(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)this[e[n]]=t[e[n]]}Ss.create=function(e){return this.$type.create(e)};Ss.encode=function(e,n){return this.$type.encode(e,n)};Ss.encodeDelimited=function(e,n){return this.$type.encodeDelimited(e,n)};Ss.decode=function(e){return this.$type.decode(e)};Ss.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};Ss.verify=function(e){return this.$type.verify(e)};Ss.fromObject=function(e){return this.$type.fromObject(e)};Ss.toObject=function(e,n){return this.$type.toObject(e,n)};Ss.prototype.toJSON=function(){return this.$type.toObject(this,Tne.toJSONOptions)}});var Gv=C((kxe,u2)=>{"use strict";u2.exports=Fne;var kne=Ji(),Io=GA(),c2=pn();function Nne(t){return"missing required '"+t.name+"'"}function Fne(t){var e=c2.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var r=t._fieldsArray[n].resolve(),i=r.resolvedType instanceof kne?"int32":r.type,s="m"+c2.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),Io.defaults[r.keyType]!==void 0?e("k=%j",Io.defaults[r.keyType]):e("k=null"),Io.defaults[i]!==void 0?e("value=%j",Io.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),Io.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",n):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),Io.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',s):e("%s[k]=value",s)):r.repeated?(e("if(!(%s&&%s.length))",s,s)("%s=[]",s),Io.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),Io.basic[i]===void 0?e(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,n):e("%s.push(r.%s())",s,i)):Io.basic[i]===void 0?e(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,n):e("%s=r.%s()",s,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t._fieldsArray.length;++n){var o=t._fieldsArray[n];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",Nne(o))}return e("return m")}});var Wv=C((Nxe,h2)=>{"use strict";h2.exports=Lne;var xne=Ji(),Hv=pn();function yi(t,e){return t.name+": "+e+(t.repeated&&e!=="array"?"[]":t.map&&e!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function Yv(t,e,n,r){if(e.resolvedType)if(e.resolvedType instanceof xne){t("switch(%s){",r)("default:")("return%j",yi(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),s=0;s<i.length;++s)t("case %i:",e.resolvedType.values[i[s]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",r)("return%j",yi(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",yi(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',r)("return%j",yi(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',r)("return%j",yi(e,"boolean"));break;case"string":t("if(!util.isString(%s))",r)("return%j",yi(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",yi(e,"buffer"));break}return t}function Mne(t,e,n){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",yi(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",yi(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",yi(e,"boolean key"));break}return t}function Lne(t){var e=Hv.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,r={};n.length&&e("var p={}");for(var i=0;i<t.fieldsArray.length;++i){var s=t._fieldsArray[i].resolve(),o="m"+Hv.safeProp(s.name);if(s.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,s.name),s.map)e("if(!util.isObject(%s))",o)("return%j",yi(s,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),Mne(e,s,"k[i]"),Yv(e,s,i,o+"[k[i]]")("}");else if(s.repeated)e("if(!Array.isArray(%s))",o)("return%j",yi(s,"array"))("for(var i=0;i<%s.length;++i){",o),Yv(e,s,i,o+"[i]")("}");else{if(s.partOf){var a=Hv.safeProp(s.partOf.name);r[s.partOf.name]===1&&e("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),r[s.partOf.name]=1,e("p%s=1",a)}Yv(e,s,i,o)}s.optional&&e("}")}return e("return null")}});var jv=C(f2=>{"use strict";var d2=f2,kf=Ji(),bs=pn();function Jv(t,e,n,r){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof kf){t("switch(d%s){",r);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)s[o[a]]===e.typeDefault&&!i&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),e.repeated||t("break"),i=!0),t("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",r,s[o[a]])("break");t("}")}else t('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var A=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",r,r);break;case"uint64":A=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,A)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,A?"true":"");break;case"bytes":t('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":t("m%s=String(d%s)",r,r);break;case"bool":t("m%s=Boolean(d%s)",r,r);break}}return t}d2.fromObject=function(e){var n=e.fieldsArray,r=bs.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!n.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<n.length;++i){var s=n[i].resolve(),o=bs.safeProp(s.name);s.map?(r("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),Jv(r,s,i,o+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),Jv(r,s,i,o+"[i]")("}")("}")):(s.resolvedType instanceof kf||r("if(d%s!=null){",o),Jv(r,s,i,o),s.resolvedType instanceof kf||r("}"))}return r("return m")};function zv(t,e,n,r){if(e.resolvedType)e.resolvedType instanceof kf?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,n,r,r,n,r,r):t("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var i=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:t("d%s=m%s",r,r);break}}return t}d2.toObject=function(e){var n=e.fieldsArray.slice().sort(bs.compareFieldsById);if(!n.length)return bs.codegen()("return {}");for(var r=bs.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],o=[],a=0;a<n.length;++a)n[a].partOf||(n[a].resolve().repeated?i:n[a].map?s:o).push(n[a]);if(i.length){for(r("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)r("d%s=[]",bs.safeProp(i[a].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),a=0;a<s.length;++a)r("d%s={}",bs.safeProp(s[a].name));r("}")}if(o.length){for(r("if(o.defaults){"),a=0;a<o.length;++a){var A=o[a],l=bs.safeProp(A.name);if(A.resolvedType instanceof kf)r("d%s=o.enums===String?%j:%j",l,A.resolvedType.valuesById[A.typeDefault],A.typeDefault);else if(A.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",A.typeDefault.low,A.typeDefault.high,A.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,A.typeDefault.toString(),A.typeDefault.toNumber());else if(A.bytes){var c="["+Array.prototype.slice.call(A.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,A.typeDefault))("else{")("d%s=%s",l,c)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else r("d%s=%j",l,A.typeDefault)}r("}")}var u=!1;for(a=0;a<n.length;++a){var A=n[a],h=e._fieldsArray.indexOf(A),l=bs.safeProp(A.name);A.map?(u||(u=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),zv(r,A,h,l+"[ks2[j]]")("}")):A.repeated?(r("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),zv(r,A,h,l+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",l,A.name),zv(r,A,h,l),A.partOf&&r("if(o.oneofs)")("d%s=%j",bs.safeProp(A.partOf.name),A.name)),r("}")}return r("return d")}});var Kv=C(g2=>{"use strict";var One=g2,Une=AC();One[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),n=this.lookup(e);if(n){var r=t["@type"].charAt(0)==="."?t["@type"].slice(1):t["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var n="type.googleapis.com/",r="",i="";if(e&&e.json&&t.type_url&&t.value){i=t.type_url.substring(t.type_url.lastIndexOf("/")+1),r=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(t=s.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof Une){var o=t.$type.toObject(t,e),a=t.$type.fullName[0]==="."?t.$type.fullName.slice(1):t.$type.fullName;return r===""&&(r=n),i=r+a,o["@type"]=i,o}return this.toObject(t,e)}}});var uC=C((Mxe,E2)=>{"use strict";E2.exports=lt;var zi=Wc();((lt.prototype=Object.create(zi.prototype)).constructor=lt).className="Type";var Pne=Ji(),$v=Gc(),lC=ma(),Vne=sC(),qne=aC(),Xv=AC(),Zv=eC(),Gne=Zm(),qn=pn(),Hne=eS(),Yne=Gv(),Wne=Wv(),p2=jv(),Jne=Kv();function lt(t,e){zi.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(lt.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var n=this.fields[t[e]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=qn.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=qn.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=lt.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof Xv||((t.prototype=new Xv).constructor=t,qn.merge(t.prototype,e)),t.$type=t.prototype.$type=this,qn.merge(t,Xv,!0),this._ctor=t;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:qn.oneOfGetter(this._oneofsArray[n].oneof),set:qn.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(t.prototype,r)}}});lt.generateConstructor=function(e){for(var n=qn.codegen(["p"],e.name),r=0,i;r<e.fieldsArray.length;++r)(i=e._fieldsArray[r]).map?n("this%s={}",qn.safeProp(i.name)):i.repeated&&n("this%s=[]",qn.safeProp(i.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function cC(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}lt.fromJSON=function(e,n){var r=new lt(e,n.options);r.extensions=n.extensions,r.reserved=n.reserved;for(var i=Object.keys(n.fields),s=0;s<i.length;++s)r.add((typeof n.fields[i[s]].keyType<"u"?Vne.fromJSON:lC.fromJSON)(i[s],n.fields[i[s]]));if(n.oneofs)for(i=Object.keys(n.oneofs),s=0;s<i.length;++s)r.add($v.fromJSON(i[s],n.oneofs[i[s]]));if(n.nested)for(i=Object.keys(n.nested),s=0;s<i.length;++s){var o=n.nested[i[s]];r.add((o.id!==void 0?lC.fromJSON:o.fields!==void 0?lt.fromJSON:o.values!==void 0?Pne.fromJSON:o.methods!==void 0?qne.fromJSON:zi.fromJSON)(i[s],o))}return n.extensions&&n.extensions.length&&(r.extensions=n.extensions),n.reserved&&n.reserved.length&&(r.reserved=n.reserved),n.group&&(r.group=!0),n.comment&&(r.comment=n.comment),r};lt.prototype.toJSON=function(e){var n=zi.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return qn.toObject(["options",n&&n.options||void 0,"oneofs",zi.arrayToJSON(this.oneofsArray,e),"fields",zi.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",n&&n.nested||void 0,"comment",r?this.comment:void 0])};lt.prototype.resolveAll=function(){for(var e=this.fieldsArray,n=0;n<e.length;)e[n++].resolve();var r=this.oneofsArray;for(n=0;n<r.length;)r[n++].resolve();return zi.prototype.resolveAll.call(this)};lt.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};lt.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof lC&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),cC(this)}return e instanceof $v?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),cC(this)):zi.prototype.add.call(this,e)};lt.prototype.remove=function(e){if(e instanceof lC&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),cC(this)}if(e instanceof $v){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),cC(this)}return zi.prototype.remove.call(this,e)};lt.prototype.isReservedId=function(e){return zi.isReservedId(this.reserved,e)};lt.prototype.isReservedName=function(e){return zi.isReservedName(this.reserved,e)};lt.prototype.create=function(e){return new this.ctor(e)};lt.prototype.setup=function(){for(var e=this.fullName,n=[],r=0;r<this.fieldsArray.length;++r)n.push(this._fieldsArray[r].resolve().resolvedType);this.encode=Hne(this)({Writer:Gne,types:n,util:qn}),this.decode=Yne(this)({Reader:Zv,types:n,util:qn}),this.verify=Wne(this)({types:n,util:qn}),this.fromObject=p2.fromObject(this)({types:n,util:qn}),this.toObject=p2.toObject(this)({types:n,util:qn});var i=Jne[e];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};lt.prototype.encode=function(e,n){return this.setup().encode(e,n)};lt.prototype.encodeDelimited=function(e,n){return this.encode(e,n&&n.len?n.fork():n).ldelim()};lt.prototype.decode=function(e,n){return this.setup().decode(e,n)};lt.prototype.decodeDelimited=function(e){return e instanceof Zv||(e=Zv.create(e)),this.decode(e,e.uint32())};lt.prototype.verify=function(e){return this.setup().verify(e)};lt.prototype.fromObject=function(e){return this.setup().fromObject(e)};lt.prototype.toObject=function(e,n){return this.setup().toObject(e,n)};lt.d=function(e){return function(r){qn.decorateType(r,e)}}});var fC=C((Lxe,B2)=>{"use strict";B2.exports=Mr;var dC=Wc();((Mr.prototype=Object.create(dC.prototype)).constructor=Mr).className="Root";var nS=ma(),C2=Ji(),zne=Gc(),Ia=pn(),I2,tS,Nf;function Mr(t){dC.call(this,"",t),this.deferred=[],this.files=[]}Mr.fromJSON=function(e,n){return n||(n=new Mr),e.options&&n.setOptions(e.options),n.addJSON(e.nested)};Mr.prototype.resolvePath=Ia.path.resolve;Mr.prototype.fetch=Ia.fetch;function y2(){}Mr.prototype.load=function t(e,n,r){typeof n=="function"&&(r=n,n=void 0);var i=this;if(!r)return Ia.asPromise(t,i,e,n);var s=r===y2;function o(d,f){if(r){if(s)throw d;var g=r;r=null,g(d,f)}}function a(d){var f=d.lastIndexOf("google/protobuf/");if(f>-1){var g=d.substring(f);if(g in Nf)return g}return null}function A(d,f){try{if(Ia.isString(f)&&f.charAt(0)==="{"&&(f=JSON.parse(f)),!Ia.isString(f))i.setOptions(f.options).addJSON(f.nested);else{tS.filename=d;var g=tS(f,i,n),m,y=0;if(g.imports)for(;y<g.imports.length;++y)(m=a(g.imports[y])||i.resolvePath(d,g.imports[y]))&&l(m);if(g.weakImports)for(y=0;y<g.weakImports.length;++y)(m=a(g.weakImports[y])||i.resolvePath(d,g.weakImports[y]))&&l(m,!0)}}catch(I){o(I)}!s&&!c&&o(null,i)}function l(d,f){if(d=a(d)||d,!(i.files.indexOf(d)>-1)){if(i.files.push(d),d in Nf){s?A(d,Nf[d]):(++c,setTimeout(function(){--c,A(d,Nf[d])}));return}if(s){var g;try{g=Ia.fs.readFileSync(d).toString("utf8")}catch(m){f||o(m);return}A(d,g)}else++c,i.fetch(d,function(m,y){if(--c,!!r){if(m){f?c||o(null,i):o(m);return}A(d,y)}})}}var c=0;Ia.isString(e)&&(e=[e]);for(var u=0,h;u<e.length;++u)(h=i.resolvePath("",e[u]))&&l(h);if(s)return i;c||o(null,i)};Mr.prototype.loadSync=function(e,n){if(!Ia.isNode)throw Error("not supported");return this.load(e,n,y2)};Mr.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return dC.prototype.resolveAll.call(this)};var hC=/^[A-Z]/;function m2(t,e){var n=e.parent.lookup(e.extend);if(n){var r=new nS(e.fullName,e.id,e.type,e.rule,void 0,e.options);return n.get(r.name)||(r.declaringField=e,e.extensionField=r,n.add(r)),!0}return!1}Mr.prototype._handleAdd=function(e){if(e instanceof nS)e.extend!==void 0&&!e.extensionField&&(m2(this,e)||this.deferred.push(e));else if(e instanceof C2)hC.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof zne)){if(e instanceof I2)for(var n=0;n<this.deferred.length;)m2(this,this.deferred[n])?this.deferred.splice(n,1):++n;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);hC.test(e.name)&&(e.parent[e.name]=e)}};Mr.prototype._handleRemove=function(e){if(e instanceof nS){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var n=this.deferred.indexOf(e);n>-1&&this.deferred.splice(n,1)}}else if(e instanceof C2)hC.test(e.name)&&delete e.parent[e.name];else if(e instanceof dC){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);hC.test(e.name)&&delete e.parent[e.name]}};Mr._configure=function(t,e,n){I2=t,tS=e,Nf=n}});var pn=C((Oxe,w2)=>{"use strict";var Yt=w2.exports=_s(),Q2=Nv(),rS,iS;Yt.codegen=qP();Yt.fetch=HP();Yt.path=JP();Yt.fs=Yt.inquire("fs");Yt.toArray=function(e){if(e){for(var n=Object.keys(e),r=new Array(n.length),i=0;i<n.length;)r[i]=e[n[i++]];return r}return[]};Yt.toObject=function(e){for(var n={},r=0;r<e.length;){var i=e[r++],s=e[r++];s!==void 0&&(n[i]=s)}return n};var jne=/\\/g,Kne=/"/g;Yt.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};Yt.safeProp=function(e){return!/^[$\w_]+$/.test(e)||Yt.isReserved(e)?'["'+e.replace(jne,"\\\\").replace(Kne,'\\"')+'"]':"."+e};Yt.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var Xne=/_([a-z])/g;Yt.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(Xne,function(n,r){return r.toUpperCase()})};Yt.compareFieldsById=function(e,n){return e.id-n.id};Yt.decorateType=function(e,n){if(e.$type)return n&&e.$type.name!==n&&(Yt.decorateRoot.remove(e.$type),e.$type.name=n,Yt.decorateRoot.add(e.$type)),e.$type;rS||(rS=uC());var r=new rS(n||e.name);return Yt.decorateRoot.add(r),r.ctor=e,Object.defineProperty(e,"$type",{value:r,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:r,enumerable:!1}),r};var Zne=0;Yt.decorateEnum=function(e){if(e.$type)return e.$type;iS||(iS=Ji());var n=new iS("Enum"+Zne++,e);return Yt.decorateRoot.add(n),Object.defineProperty(e,"$type",{value:n,enumerable:!1}),n};Yt.setProperty=function(e,n,r){function i(s,o,a){var A=o.shift();if(A==="__proto__"||A==="prototype")return s;if(o.length>0)s[A]=i(s[A]||{},o,a);else{var l=s[A];l&&(a=[].concat(l).concat(a)),s[A]=a}return s}if(typeof e!="object")throw TypeError("dst must be an object");if(!n)throw TypeError("path must be specified");return n=n.split("."),i(e,n,r)};Object.defineProperty(Yt,"decorateRoot",{get:function(){return Q2.decorated||(Q2.decorated=new(fC()))}})});var HA=C((Uxe,_2)=>{"use strict";_2.exports=Lr;Lr.className="ReflectionObject";var gC=pn(),pC;function Lr(t,e){if(!gC.isString(t))throw TypeError("name must be a string");if(e&&!gC.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Lr.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}});Lr.prototype.toJSON=function(){throw Error()};Lr.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var n=e.root;n instanceof pC&&n._handleAdd(this)};Lr.prototype.onRemove=function(e){var n=e.root;n instanceof pC&&n._handleRemove(this),this.parent=null,this.resolved=!1};Lr.prototype.resolve=function(){return this.resolved?this:(this.root instanceof pC&&(this.resolved=!0),this)};Lr.prototype.getOption=function(e){if(this.options)return this.options[e]};Lr.prototype.setOption=function(e,n,r){return(!r||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=n),this};Lr.prototype.setParsedOption=function(e,n,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var s=i.find(function(A){return Object.prototype.hasOwnProperty.call(A,e)});if(s){var o=s[e];gC.setProperty(o,r,n)}else s={},s[e]=gC.setProperty({},r,n),i.push(s)}else{var a={};a[e]=n,i.push(a)}return this};Lr.prototype.setOptions=function(e,n){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],n);return this};Lr.prototype.toString=function(){var e=this.constructor.className,n=this.fullName;return n.length?e+" "+n:e};Lr._configure=function(t){pC=t}});var Ji=C((Pxe,b2)=>{"use strict";b2.exports=Ds;var v2=HA();((Ds.prototype=Object.create(v2.prototype)).constructor=Ds).className="Enum";var S2=Wc(),EC=pn();function Ds(t,e,n,r,i,s){if(v2.call(this,t,n),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.valuesOptions=s,this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)typeof e[o[a]]=="number"&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}Ds.fromJSON=function(e,n){var r=new Ds(e,n.values,n.options,n.comment,n.comments);return r.reserved=n.reserved,r};Ds.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return EC.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",n?this.comment:void 0,"comments",n?this.comments:void 0])};Ds.prototype.add=function(e,n,r,i){if(!EC.isString(e))throw TypeError("name must be a string");if(!EC.isInteger(n))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(n))throw Error("id "+n+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[n]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+n+" in "+this);this.values[e]=n}else this.valuesById[this.values[e]=n]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this};Ds.prototype.remove=function(e){if(!EC.isString(e))throw TypeError("name must be a string");var n=this.values[e];if(n==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[n],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};Ds.prototype.isReservedId=function(e){return S2.isReservedId(this.reserved,e)};Ds.prototype.isReservedName=function(e){return S2.isReservedName(this.reserved,e)}});var eS=C((Vxe,R2)=>{"use strict";R2.exports=ere;var $ne=Ji(),sS=GA(),oS=pn();function D2(t,e,n,r){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(e.id<<3|2)>>>0)}function ere(t){for(var e=oS.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),n,r,i=t.fieldsArray.slice().sort(oS.compareFieldsById),n=0;n<i.length;++n){var s=i[n].resolve(),o=t._fieldsArray.indexOf(s),a=s.resolvedType instanceof $ne?"int32":s.type,A=sS.basic[a];r="m"+oS.safeProp(s.name),s.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|sS.mapKey[s.keyType],s.keyType),A===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|A,a,r),e("}")("}")):s.repeated?(e("if(%s!=null&&%s.length){",r,r),s.packed&&sS.packed[a]!==void 0?e("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",a,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),A===void 0?D2(e,s,o,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(s.id<<3|A)>>>0,a,r)),e("}")):(s.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,s.name),A===void 0?D2(e,s,o,r):e("w.uint32(%i).%s(%s)",(s.id<<3|A)>>>0,a,r))}return e("return w")}});var k2=C((qxe,T2)=>{"use strict";var xe=T2.exports=PP();xe.build="light";function tre(t,e,n){return typeof e=="function"?(n=e,e=new xe.Root):e||(e=new xe.Root),e.load(t,n)}xe.load=tre;function nre(t,e){return e||(e=new xe.Root),e.loadSync(t)}xe.loadSync=nre;xe.encoder=eS();xe.decoder=Gv();xe.verifier=Wv();xe.converter=jv();xe.ReflectionObject=HA();xe.Namespace=Wc();xe.Root=fC();xe.Enum=Ji();xe.Type=uC();xe.Field=ma();xe.OneOf=Gc();xe.MapField=sC();xe.Service=aC();xe.Method=oC();xe.Message=AC();xe.wrappers=Kv();xe.types=GA();xe.util=pn();xe.ReflectionObject._configure(xe.Root);xe.Namespace._configure(xe.Type,xe.Service,xe.Enum);xe.Root._configure(xe.Type);xe.Field._configure(xe.Type)});var AS=C((Gxe,x2)=>{"use strict";x2.exports=F2;var aS=/[\s{}=;:[\],'"()<>]/g,rre=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,ire=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,sre=/^ *[*/]+ */,ore=/^\s*\*?\/*/,are=/\n/g,Are=/\s/,lre=/\\(.?)/g,cre={0:"\0",r:"\r",n:`
`,t:"	"};function N2(t){return t.replace(lre,function(e,n){switch(n){case"\\":case"":return n;default:return cre[n]||""}})}F2.unescape=N2;function F2(t,e){t=t.toString();var n=0,r=t.length,i=1,s=0,o={},a=[],A=null;function l(w){return Error("illegal "+w+" (line "+i+")")}function c(){var w=A==="'"?ire:rre;w.lastIndex=n-1;var S=w.exec(t);if(!S)throw l("string");return n=w.lastIndex,m(A),A=null,N2(S[1])}function u(w){return t.charAt(w)}function h(w,S,T){var Z={type:t.charAt(w++),lineEmpty:!1,leading:T},pe;e?pe=2:pe=3;var ke=w-pe,we;do if(--ke<0||(we=t.charAt(ke))===`
`){Z.lineEmpty=!0;break}while(we===" "||we==="	");for(var b=t.substring(w,S).split(are),ce=0;ce<b.length;++ce)b[ce]=b[ce].replace(e?ore:sre,"").trim();Z.text=b.join(`
`).trim(),o[i]=Z,s=i}function d(w){var S=f(w),T=t.substring(w,S),Z=/^\s*\/\//.test(T);return Z}function f(w){for(var S=w;S<r&&u(S)!==`
`;)S++;return S}function g(){if(a.length>0)return a.shift();if(A)return c();var w,S,T,Z,pe,ke=n===0;do{if(n===r)return null;for(w=!1;Are.test(T=u(n));)if(T===`
`&&(ke=!0,++i),++n===r)return null;if(u(n)==="/"){if(++n===r)throw l("comment");if(u(n)==="/")if(e){if(Z=n,pe=!1,d(n-1)){pe=!0;do if(n=f(n),n===r||(n++,!ke))break;while(d(n))}else n=Math.min(r,f(n)+1);pe&&(h(Z,n,ke),ke=!0),i++,w=!0}else{for(pe=u(Z=n+1)==="/";u(++n)!==`
`;)if(n===r)return null;++n,pe&&(h(Z,n-1,ke),ke=!0),++i,w=!0}else if((T=u(n))==="*"){Z=n+1,pe=e||u(Z)==="*";do{if(T===`
`&&++i,++n===r)throw l("comment");S=T,T=u(n)}while(S!=="*"||T!=="/");++n,pe&&(h(Z,n-2,ke),ke=!0),w=!0}else return"/"}}while(w);var we=n;aS.lastIndex=0;var b=aS.test(u(we++));if(!b)for(;we<r&&!aS.test(u(we));)++we;var ce=t.substring(n,n=we);return(ce==='"'||ce==="'")&&(A=ce),ce}function m(w){a.push(w)}function y(){if(!a.length){var w=g();if(w===null)return null;m(w)}return a[0]}function I(w,S){var T=y(),Z=T===w;if(Z)return g(),!0;if(!S)throw l("token '"+T+"', '"+w+"' expected");return!1}function _(w){var S=null,T;return w===void 0?(T=o[i-1],delete o[i-1],T&&(e||T.type==="*"||T.lineEmpty)&&(S=T.leading?T.text:null)):(s<w&&y(),T=o[w],delete o[w],T&&!T.lineEmpty&&(e||T.type==="/")&&(S=T.leading?null:T.text)),S}return Object.defineProperty({next:g,peek:y,push:m,skip:I,cmnt:_},"line",{get:function(){return i}})}});var V2=C((Hxe,P2)=>{"use strict";P2.exports=yo;yo.filename=null;yo.defaults={keepCase:!1};var ure=AS(),M2=fC(),L2=uC(),O2=ma(),hre=sC(),U2=Gc(),dre=Ji(),fre=aC(),gre=oC(),lS=GA(),cS=pn(),pre=/^[1-9][0-9]*$/,Ere=/^-?[1-9][0-9]*$/,mre=/^0[x][0-9a-fA-F]+$/,Cre=/^-?0[x][0-9a-fA-F]+$/,Ire=/^0[0-7]+$/,yre=/^-?0[0-7]+$/,Bre=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Rs=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Ts=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Qre=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function yo(t,e,n){e instanceof M2||(n=e,e=new M2),n||(n=yo.defaults);var r=n.preferTrailingComment||!1,i=ure(t,n.alternateCommentMode||!1),s=i.next,o=i.push,a=i.peek,A=i.skip,l=i.cmnt,c=!0,u,h,d,f,g=!1,m=e,y=n.keepCase?function(k){return k}:cS.camelCase;function I(k,N,U){var ie=yo.filename;return U||(yo.filename=null),Error("illegal "+(N||"token")+" '"+k+"' ("+(ie?ie+", ":"")+"line "+i.line+")")}function _(){var k=[],N;do{if((N=s())!=='"'&&N!=="'")throw I(N);k.push(s()),A(N),N=a()}while(N==='"'||N==="'");return k.join("")}function w(k){var N=s();switch(N){case"'":case'"':return o(N),_();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return T(N,!0)}catch{if(k&&Ts.test(N))return N;throw I(N,"value")}}function S(k,N){var U,ie;do N&&((U=a())==='"'||U==="'")?k.push(_()):k.push([ie=Z(s()),A("to",!0)?Z(s()):ie]);while(A(",",!0));A(";")}function T(k,N){var U=1;switch(k.charAt(0)==="-"&&(U=-1,k=k.substring(1)),k){case"inf":case"INF":case"Inf":return U*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(pre.test(k))return U*parseInt(k,10);if(mre.test(k))return U*parseInt(k,16);if(Ire.test(k))return U*parseInt(k,8);if(Bre.test(k))return U*parseFloat(k);throw I(k,"number",N)}function Z(k,N){switch(k){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!N&&k.charAt(0)==="-")throw I(k,"id");if(Ere.test(k))return parseInt(k,10);if(Cre.test(k))return parseInt(k,16);if(yre.test(k))return parseInt(k,8);throw I(k,"id")}function pe(){if(u!==void 0)throw I("package");if(u=s(),!Ts.test(u))throw I(u,"name");m=m.define(u),A(";")}function ke(){var k=a(),N;switch(k){case"weak":N=d||(d=[]),s();break;case"public":s();default:N=h||(h=[]);break}k=_(),A(";"),N.push(k)}function we(){if(A("="),f=_(),g=f==="proto3",!g&&f!=="proto2")throw I(f,"syntax");A(";")}function b(k,N){switch(N){case"option":return We(k,N),A(";"),!0;case"message":return D(k,N),!0;case"enum":return Ue(k,N),!0;case"service":return je(k,N),!0;case"extend":return dc(k,N),!0}return!1}function ce(k,N,U){var ie=i.line;if(k&&(typeof k.comment!="string"&&(k.comment=l()),k.filename=yo.filename),A("{",!0)){for(var te;(te=s())!=="}";)N(te);A(";",!0)}else U&&U(),A(";"),k&&(typeof k.comment!="string"||r)&&(k.comment=l(ie)||k.comment)}function D(k,N){if(!Rs.test(N=s()))throw I(N,"type name");var U=new L2(N);ce(U,function(te){if(!b(U,te))switch(te){case"map":re(U,te);break;case"required":case"repeated":p(U,te);break;case"optional":g?p(U,"proto3_optional"):p(U,"optional");break;case"oneof":Oe(U,te);break;case"extensions":S(U.extensions||(U.extensions=[]));break;case"reserved":S(U.reserved||(U.reserved=[]),!0);break;default:if(!g||!Ts.test(te))throw I(te);o(te),p(U,"optional");break}}),k.add(U)}function p(k,N,U){var ie=s();if(ie==="group"){L(k,N);return}for(;ie.endsWith(".")||a().startsWith(".");)ie+=s();if(!Ts.test(ie))throw I(ie,"type");var te=s();if(!Rs.test(te))throw I(te,"name");te=y(te),A("=");var Re=new O2(te,Z(s()),ie,N,U);if(ce(Re,function(Rr){if(Rr==="option")We(Re,Rr),A(";");else throw I(Rr)},function(){it(Re)}),N==="proto3_optional"){var vn=new U2("_"+te);Re.setOption("proto3_optional",!0),vn.add(Re),k.add(vn)}else k.add(Re);!g&&Re.repeated&&(lS.packed[ie]!==void 0||lS.basic[ie]===void 0)&&Re.setOption("packed",!1,!0)}function L(k,N){var U=s();if(!Rs.test(U))throw I(U,"name");var ie=cS.lcFirst(U);U===ie&&(U=cS.ucFirst(U)),A("=");var te=Z(s()),Re=new L2(U);Re.group=!0;var vn=new O2(ie,te,U,N);vn.filename=yo.filename,ce(Re,function(Rr){switch(Rr){case"option":We(Re,Rr),A(";");break;case"required":case"repeated":p(Re,Rr);break;case"optional":g?p(Re,"proto3_optional"):p(Re,"optional");break;case"message":D(Re,Rr);break;case"enum":Ue(Re,Rr);break;default:throw I(Rr)}}),k.add(Re).add(vn)}function re(k){A("<");var N=s();if(lS.mapKey[N]===void 0)throw I(N,"type");A(",");var U=s();if(!Ts.test(U))throw I(U,"type");A(">");var ie=s();if(!Rs.test(ie))throw I(ie,"name");A("=");var te=new hre(y(ie),Z(s()),N,U);ce(te,function(vn){if(vn==="option")We(te,vn),A(";");else throw I(vn)},function(){it(te)}),k.add(te)}function Oe(k,N){if(!Rs.test(N=s()))throw I(N,"name");var U=new U2(y(N));ce(U,function(te){te==="option"?(We(U,te),A(";")):(o(te),p(U,"optional"))}),k.add(U)}function Ue(k,N){if(!Rs.test(N=s()))throw I(N,"name");var U=new dre(N);ce(U,function(te){switch(te){case"option":We(U,te),A(";");break;case"reserved":S(U.reserved||(U.reserved=[]),!0);break;default:rt(U,te)}}),k.add(U)}function rt(k,N){if(!Rs.test(N))throw I(N,"name");A("=");var U=Z(s(),!0),ie={options:void 0};ie.setOption=function(te,Re){this.options===void 0&&(this.options={}),this.options[te]=Re},ce(ie,function(Re){if(Re==="option")We(ie,Re),A(";");else throw I(Re)},function(){it(ie)}),k.add(N,U,ie.comment,ie.options)}function We(k,N){var U=A("(",!0);if(!Ts.test(N=s()))throw I(N,"name");var ie=N,te=ie,Re;U&&(A(")"),ie="("+ie+")",te=ie,N=a(),Qre.test(N)&&(Re=N.slice(1),ie+=N,s())),A("=");var vn=on(k,ie);ye(k,te,vn,Re)}function on(k,N){if(A("{",!0)){for(var U={};!A("}",!0);){if(!Rs.test(Mn=s()))throw I(Mn,"name");if(Mn===null)throw I(Mn,"end of input");var ie,te=Mn;if(A(":",!0),a()==="{")ie=on(k,N+"."+Mn);else if(a()==="["){ie=[];var Re;if(A("[",!0)){do Re=w(!0),ie.push(Re);while(A(",",!0));A("]"),typeof Re<"u"&&It(k,N+"."+Mn,Re)}}else ie=w(!0),It(k,N+"."+Mn,ie);var vn=U[te];vn&&(ie=[].concat(vn).concat(ie)),U[te]=ie,A(",",!0),A(";",!0)}return U}var Ko=w(!0);return It(k,N,Ko),Ko}function It(k,N,U){k.setOption&&k.setOption(N,U)}function ye(k,N,U,ie){k.setParsedOption&&k.setParsedOption(N,U,ie)}function it(k){if(A("[",!0)){do We(k,"option");while(A(",",!0));A("]")}return k}function je(k,N){if(!Rs.test(N=s()))throw I(N,"service name");var U=new fre(N);ce(U,function(te){if(!b(U,te))if(te==="rpc")_n(U,te);else throw I(te)}),k.add(U)}function _n(k,N){var U=l(),ie=N;if(!Rs.test(N=s()))throw I(N,"name");var te=N,Re,vn,Ko,Rr;if(A("("),A("stream",!0)&&(vn=!0),!Ts.test(N=s())||(Re=N,A(")"),A("returns"),A("("),A("stream",!0)&&(Rr=!0),!Ts.test(N=s())))throw I(N);Ko=N,A(")");var FE=new gre(te,ie,Re,Ko,vn,Rr);FE.comment=U,ce(FE,function(r0){if(r0==="option")We(FE,r0),A(";");else throw I(r0)}),k.add(FE)}function dc(k,N){if(!Ts.test(N=s()))throw I(N,"reference");var U=N;ce(null,function(te){switch(te){case"required":case"repeated":p(k,te,U);break;case"optional":g?p(k,"proto3_optional",U):p(k,"optional",U);break;default:if(!g||!Ts.test(te))throw I(te);o(te),p(k,"optional",U);break}})}for(var Mn;(Mn=s())!==null;)switch(Mn){case"package":if(!c)throw I(Mn);pe();break;case"import":if(!c)throw I(Mn);ke();break;case"syntax":if(!c)throw I(Mn);we();break;case"option":We(m,Mn),A(";");break;default:if(b(m,Mn)){c=!1;continue}throw I(Mn)}return yo.filename=null,{package:u,imports:h,weakImports:d,syntax:f,root:e}}});var H2=C((Yxe,G2)=>{"use strict";G2.exports=ji;var wre=/\/|\./;function ji(t,e){wre.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),ji[t]=e}ji("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var q2;ji("duration",{Duration:q2={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});ji("timestamp",{Timestamp:q2});ji("empty",{Empty:{fields:{}}});ji("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});ji("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});ji("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});ji.get=function(e){return ji[e]||null}});var W2=C((Wxe,Y2)=>{"use strict";var ya=Y2.exports=k2();ya.build="full";ya.tokenize=AS();ya.parse=V2();ya.common=H2();ya.Root._configure(ya.Type,ya.parse,ya.common)});var mC=C((Jxe,J2)=>{"use strict";J2.exports=W2()});var uS=C((zxe,_re)=>{_re.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var Z2=C((be,X2)=>{"use strict";var tr=mC();X2.exports=be=tr.descriptor=tr.Root.fromJSON(uS()).lookup(".google.protobuf");var z2=tr.Namespace,Ff=tr.Root,Bo=tr.Enum,Ba=tr.Type,Qa=tr.Field,vre=tr.MapField,CC=tr.OneOf,xf=tr.Service,IC=tr.Method;Ff.fromDescriptor=function(e){typeof e.length=="number"&&(e=be.FileDescriptorSet.decode(e));var n=new Ff;if(e.file)for(var r,i,s=0,o;s<e.file.length;++s){if(i=n,(r=e.file[s]).package&&r.package.length&&(i=n.define(r.package)),r.name&&r.name.length&&n.files.push(i.filename=r.name),r.messageType)for(o=0;o<r.messageType.length;++o)i.add(Ba.fromDescriptor(r.messageType[o],r.syntax));if(r.enumType)for(o=0;o<r.enumType.length;++o)i.add(Bo.fromDescriptor(r.enumType[o]));if(r.extension)for(o=0;o<r.extension.length;++o)i.add(Qa.fromDescriptor(r.extension[o]));if(r.service)for(o=0;o<r.service.length;++o)i.add(xf.fromDescriptor(r.service[o]));var a=zc(r.options,be.FileOptions);if(a){var A=Object.keys(a);for(o=0;o<A.length;++o)i.setOption(A[o],a[A[o]])}}return n};Ff.prototype.toDescriptor=function(e){var n=be.FileDescriptorSet.create();return j2(this,n.file,e),n};function j2(t,e,n){var r=be.FileDescriptorProto.create({name:t.filename||(t.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});n&&(r.syntax=n),t instanceof Ff||(r.package=t.fullName.substring(1));for(var i=0,s;i<t.nestedArray.length;++i)(s=t._nestedArray[i])instanceof Ba?r.messageType.push(s.toDescriptor(n)):s instanceof Bo?r.enumType.push(s.toDescriptor()):s instanceof Qa?r.extension.push(s.toDescriptor(n)):s instanceof xf?r.service.push(s.toDescriptor()):s instanceof z2&&j2(s,e,n);r.options=jc(t.options,be.FileOptions),r.messageType.length+r.enumType.length+r.extension.length+r.service.length&&e.push(r)}var Sre=0;Ba.fromDescriptor=function(e,n){typeof e.length=="number"&&(e=be.DescriptorProto.decode(e));var r=new Ba(e.name.length?e.name:"Type"+Sre++,zc(e.options,be.MessageOptions)),i;if(e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)r.add(CC.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var s=Qa.fromDescriptor(e.field[i],n);r.add(s),e.field[i].hasOwnProperty("oneofIndex")&&r.oneofsArray[e.field[i].oneofIndex].add(s)}if(e.extension)for(i=0;i<e.extension.length;++i)r.add(Qa.fromDescriptor(e.extension[i],n));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)r.add(Ba.fromDescriptor(e.nestedType[i],n)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&r.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)r.add(Bo.fromDescriptor(e.enumType[i]));if(e.extensionRange&&e.extensionRange.length)for(r.extensions=[],i=0;i<e.extensionRange.length;++i)r.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(r.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)r.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)r.reserved.push(e.reservedName[i])}return r};Ba.prototype.toDescriptor=function(e){var n=be.DescriptorProto.create({name:this.name}),r;for(r=0;r<this.fieldsArray.length;++r){var i;if(n.field.push(i=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof vre){var s=hS(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),o=hS(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),a=o===11||o===14?this._fieldsArray[r].resolvedType&&K2(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;n.nestedType.push(be.DescriptorProto.create({name:i.typeName,field:[be.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),be.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:a})],options:be.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)n.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof Qa?n.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof Ba?n.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof Bo&&n.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)n.extensionRange.push(be.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)typeof this.reserved[r]=="string"?n.reservedName.push(this.reserved[r]):n.reservedRange.push(be.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return n.options=jc(this.options,be.MessageOptions),n};var bre=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Qa.fromDescriptor=function(e,n){if(typeof e.length=="number"&&(e=be.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var r;e.typeName&&e.typeName.length?r=e.typeName:r=Nre(e.type);var i;switch(e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var s=e.extendee;e.extendee!==void 0&&(s=s.length?s:void 0);var o=new Qa(e.name.length?e.name:"field"+e.number,e.number,r,i,s);if(o.options=zc(e.options,be.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:var A=bre.exec(a);A&&(a=parseInt(a));break}o.setOption("default",a)}return Fre(e.type)&&(n==="proto3"?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o};Qa.prototype.toDescriptor=function(e){var n=be.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)n.type=11,n.typeName=tr.util.ucFirst(this.name),n.label=3;else{switch(n.type=hS(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:n.typeName=this.resolvedType?K2(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":n.label=3;break;case"required":n.label=2;break;default:n.label=1;break}}if(n.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(n.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(n.options=jc(this.options,be.FieldOptions),this.options.default!=null&&(n.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((n.options||(n.options=be.FieldOptions.create())).packed=!1):this.packed&&((n.options||(n.options=be.FieldOptions.create())).packed=!0),n};var Dre=0;Bo.fromDescriptor=function(e){typeof e.length=="number"&&(e=be.EnumDescriptorProto.decode(e));var n={};if(e.value)for(var r=0;r<e.value.length;++r){var i=e.value[r].name,s=e.value[r].number||0;n[i&&i.length?i:"NAME"+s]=s}return new Bo(e.name&&e.name.length?e.name:"Enum"+Dre++,n,zc(e.options,be.EnumOptions))};Bo.prototype.toDescriptor=function(){for(var e=[],n=0,r=Object.keys(this.values);n<r.length;++n)e.push(be.EnumValueDescriptorProto.create({name:r[n],number:this.values[r[n]]}));return be.EnumDescriptorProto.create({name:this.name,value:e,options:jc(this.options,be.EnumOptions)})};var Rre=0;CC.fromDescriptor=function(e){return typeof e.length=="number"&&(e=be.OneofDescriptorProto.decode(e)),new CC(e.name&&e.name.length?e.name:"oneof"+Rre++)};CC.prototype.toDescriptor=function(){return be.OneofDescriptorProto.create({name:this.name})};var Tre=0;xf.fromDescriptor=function(e){typeof e.length=="number"&&(e=be.ServiceDescriptorProto.decode(e));var n=new xf(e.name&&e.name.length?e.name:"Service"+Tre++,zc(e.options,be.ServiceOptions));if(e.method)for(var r=0;r<e.method.length;++r)n.add(IC.fromDescriptor(e.method[r]));return n};xf.prototype.toDescriptor=function(){for(var e=[],n=0;n<this.methodsArray.length;++n)e.push(this._methodsArray[n].toDescriptor());return be.ServiceDescriptorProto.create({name:this.name,method:e,options:jc(this.options,be.ServiceOptions)})};var kre=0;IC.fromDescriptor=function(e){return typeof e.length=="number"&&(e=be.MethodDescriptorProto.decode(e)),new IC(e.name&&e.name.length?e.name:"Method"+kre++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,zc(e.options,be.MethodOptions))};IC.prototype.toDescriptor=function(){return be.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:jc(this.options,be.MethodOptions)})};function Nre(t){switch(t){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+t)}function Fre(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function hS(t,e){switch(t){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof Bo)return 14;if(e instanceof Ba)return e.group?10:11;throw Error("illegal type: "+t)}function zc(t,e){if(t){for(var n=[],r=0,i,s,o;r<e.fieldsArray.length;++r)(s=(i=e._fieldsArray[r]).name)!=="uninterpretedOption"&&t.hasOwnProperty(s)&&(o=t[s],i.resolvedType instanceof Bo&&typeof o=="number"&&i.resolvedType.valuesById[o]!==void 0&&(o=i.resolvedType.valuesById[o]),n.push(xre(s),o));return n.length?tr.util.toObject(n):void 0}}function jc(t,e){if(t){for(var n=[],r=0,i=Object.keys(t),s,o;r<i.length;++r)if(o=t[s=i[r]],s!=="default"){var a=e.fields[s];!a&&!(a=e.fields[s=tr.util.camelCase(s)])||n.push(s,o)}return n.length?e.fromObject(tr.util.toObject(n)):void 0}}function K2(t,e){var n=t.fullName.split("."),r=e.fullName.split("."),i=0,s=0,o=r.length-1;if(!(t instanceof Ff)&&e instanceof z2)for(;i<n.length&&s<o&&n[i]===r[s];){var a=e.lookup(n[i++],!0);if(a!==null&&a!==e)break;++s}else for(;i<n.length&&s<o&&n[i]===r[s];++i,++s);return r.slice(s).join(".")}function xre(t){return t.substring(0,1)+t.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,n){return"_"+n.toLowerCase()})}});var $2=C((jxe,Mre)=>{Mre.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var eV=C((Kxe,Lre)=>{Lre.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var tV=C((Xxe,Ore)=>{Ore.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var sV=C(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.addCommonProtos=wa.loadProtosWithOptionsSync=wa.loadProtosWithOptions=void 0;var nV=B("fs"),rV=B("path"),Kc=mC();function iV(t,e){let n=t.resolvePath;t.resolvePath=(r,i)=>{if(rV.isAbsolute(i))return i;for(let s of e){let o=rV.join(s,i);try{return nV.accessSync(o,nV.constants.R_OK),o}catch{continue}}return process.emitWarning(`${i} not found in any of the include paths ${e}`),n(r,i)}}function Ure(t,e){return E(this,null,function*(){let n=new Kc.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));iV(n,e.includeDirs)}let r=yield n.load(t,e);return r.resolveAll(),r})}wa.loadProtosWithOptions=Ure;function Pre(t,e){let n=new Kc.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");iV(n,e.includeDirs)}let r=n.loadSync(t,e);return r.resolveAll(),r}wa.loadProtosWithOptionsSync=Pre;function Vre(){let t=$2(),e=uS(),n=eV(),r=tV();Kc.common("api",t.nested.google.nested.protobuf.nested),Kc.common("descriptor",e.nested.google.nested.protobuf.nested),Kc.common("source_context",n.nested.google.nested.protobuf.nested),Kc.common("type",r.nested.google.nested.protobuf.nested)}wa.addCommonProtos=Vre});var AV=C((aV,dS)=>{var oV=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n(D,p,L){this.low=D|0,this.high=p|0,this.unsigned=!!L}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0});function r(D){return(D&&D.__isLong__)===!0}function i(D){var p=Math.clz32(D&-D);return D?31-p:p}n.isLong=r;var s={},o={};function a(D,p){var L,re,Oe;return p?(D>>>=0,(Oe=0<=D&&D<256)&&(re=o[D],re)?re:(L=l(D,0,!0),Oe&&(o[D]=L),L)):(D|=0,(Oe=-128<=D&&D<128)&&(re=s[D],re)?re:(L=l(D,D<0?-1:0,!1),Oe&&(s[D]=L),L))}n.fromInt=a;function A(D,p){if(isNaN(D))return p?w:_;if(p){if(D<0)return w;if(D>=m)return ke}else{if(D<=-y)return we;if(D+1>=y)return pe}return D<0?A(-D,p).neg():l(D%g|0,D/g|0,p)}n.fromNumber=A;function l(D,p,L){return new n(D,p,L)}n.fromBits=l;var c=Math.pow;function u(D,p,L){if(D.length===0)throw Error("empty string");if(typeof p=="number"?(L=p,p=!1):p=!!p,D==="NaN"||D==="Infinity"||D==="+Infinity"||D==="-Infinity")return p?w:_;if(L=L||10,L<2||36<L)throw RangeError("radix");var re;if((re=D.indexOf("-"))>0)throw Error("interior hyphen");if(re===0)return u(D.substring(1),p,L).neg();for(var Oe=A(c(L,8)),Ue=_,rt=0;rt<D.length;rt+=8){var We=Math.min(8,D.length-rt),on=parseInt(D.substring(rt,rt+We),L);if(We<8){var It=A(c(L,We));Ue=Ue.mul(It).add(A(on))}else Ue=Ue.mul(Oe),Ue=Ue.add(A(on))}return Ue.unsigned=p,Ue}n.fromString=u;function h(D,p){return typeof D=="number"?A(D,p):typeof D=="string"?u(D,p):l(D.low,D.high,typeof p=="boolean"?p:D.unsigned)}n.fromValue=h;var d=65536,f=1<<24,g=d*d,m=g*g,y=m/2,I=a(f),_=a(0);n.ZERO=_;var w=a(0,!0);n.UZERO=w;var S=a(1);n.ONE=S;var T=a(1,!0);n.UONE=T;var Z=a(-1);n.NEG_ONE=Z;var pe=l(-1,2147483647,!1);n.MAX_VALUE=pe;var ke=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=ke;var we=l(0,-2147483648,!1);n.MIN_VALUE=we;var b=n.prototype;b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*g+(this.low>>>0):this.high*g+(this.low>>>0)},b.toString=function(p){if(p=p||10,p<2||36<p)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(we)){var L=A(p),re=this.div(L),Oe=re.mul(L).sub(this);return re.toString(p)+Oe.toInt().toString(p)}else return"-"+this.neg().toString(p);for(var Ue=A(c(p,6),this.unsigned),rt=this,We="";;){var on=rt.div(Ue),It=rt.sub(on.mul(Ue)).toInt()>>>0,ye=It.toString(p);if(rt=on,rt.isZero())return ye+We;for(;ye.length<6;)ye="0"+ye;We=""+ye+We}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(we)?64:this.neg().getNumBitsAbs();for(var p=this.high!=0?this.high:this.low,L=31;L>0&&!(p&1<<L);L--);return this.high!=0?L+33:L+1},b.isZero=function(){return this.high===0&&this.low===0},b.eqz=b.isZero,b.isNegative=function(){return!this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||this.high>=0},b.isOdd=function(){return(this.low&1)===1},b.isEven=function(){return(this.low&1)===0},b.equals=function(p){return r(p)||(p=h(p)),this.unsigned!==p.unsigned&&this.high>>>31===1&&p.high>>>31===1?!1:this.high===p.high&&this.low===p.low},b.eq=b.equals,b.notEquals=function(p){return!this.eq(p)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(p){return this.comp(p)<0},b.lt=b.lessThan,b.lessThanOrEqual=function(p){return this.comp(p)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(p){return this.comp(p)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function(p){return this.comp(p)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(p){if(r(p)||(p=h(p)),this.eq(p))return 0;var L=this.isNegative(),re=p.isNegative();return L&&!re?-1:!L&&re?1:this.unsigned?p.high>>>0>this.high>>>0||p.high===this.high&&p.low>>>0>this.low>>>0?-1:1:this.sub(p).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return!this.unsigned&&this.eq(we)?we:this.not().add(S)},b.neg=b.negate,b.add=function(p){r(p)||(p=h(p));var L=this.high>>>16,re=this.high&65535,Oe=this.low>>>16,Ue=this.low&65535,rt=p.high>>>16,We=p.high&65535,on=p.low>>>16,It=p.low&65535,ye=0,it=0,je=0,_n=0;return _n+=Ue+It,je+=_n>>>16,_n&=65535,je+=Oe+on,it+=je>>>16,je&=65535,it+=re+We,ye+=it>>>16,it&=65535,ye+=L+rt,ye&=65535,l(je<<16|_n,ye<<16|it,this.unsigned)},b.subtract=function(p){return r(p)||(p=h(p)),this.add(p.neg())},b.sub=b.subtract,b.multiply=function(p){if(this.isZero())return this;if(r(p)||(p=h(p)),e){var L=e.mul(this.low,this.high,p.low,p.high);return l(L,e.get_high(),this.unsigned)}if(p.isZero())return this.unsigned?w:_;if(this.eq(we))return p.isOdd()?we:_;if(p.eq(we))return this.isOdd()?we:_;if(this.isNegative())return p.isNegative()?this.neg().mul(p.neg()):this.neg().mul(p).neg();if(p.isNegative())return this.mul(p.neg()).neg();if(this.lt(I)&&p.lt(I))return A(this.toNumber()*p.toNumber(),this.unsigned);var re=this.high>>>16,Oe=this.high&65535,Ue=this.low>>>16,rt=this.low&65535,We=p.high>>>16,on=p.high&65535,It=p.low>>>16,ye=p.low&65535,it=0,je=0,_n=0,dc=0;return dc+=rt*ye,_n+=dc>>>16,dc&=65535,_n+=Ue*ye,je+=_n>>>16,_n&=65535,_n+=rt*It,je+=_n>>>16,_n&=65535,je+=Oe*ye,it+=je>>>16,je&=65535,je+=Ue*It,it+=je>>>16,je&=65535,je+=rt*on,it+=je>>>16,je&=65535,it+=re*ye+Oe*It+Ue*on+rt*We,it&=65535,l(_n<<16|dc,it<<16|je,this.unsigned)},b.mul=b.multiply,b.divide=function(p){if(r(p)||(p=h(p)),p.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&p.low===-1&&p.high===-1)return this;var L=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,p.low,p.high);return l(L,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?w:_;var re,Oe,Ue;if(this.unsigned){if(p.unsigned||(p=p.toUnsigned()),p.gt(this))return w;if(p.gt(this.shru(1)))return T;Ue=w}else{if(this.eq(we)){if(p.eq(S)||p.eq(Z))return we;if(p.eq(we))return S;var rt=this.shr(1);return re=rt.div(p).shl(1),re.eq(_)?p.isNegative()?S:Z:(Oe=this.sub(p.mul(re)),Ue=re.add(Oe.div(p)),Ue)}else if(p.eq(we))return this.unsigned?w:_;if(this.isNegative())return p.isNegative()?this.neg().div(p.neg()):this.neg().div(p).neg();if(p.isNegative())return this.div(p.neg()).neg();Ue=_}for(Oe=this;Oe.gte(p);){re=Math.max(1,Math.floor(Oe.toNumber()/p.toNumber()));for(var We=Math.ceil(Math.log(re)/Math.LN2),on=We<=48?1:c(2,We-48),It=A(re),ye=It.mul(p);ye.isNegative()||ye.gt(Oe);)re-=on,It=A(re,this.unsigned),ye=It.mul(p);It.isZero()&&(It=S),Ue=Ue.add(It),Oe=Oe.sub(ye)}return Ue},b.div=b.divide,b.modulo=function(p){if(r(p)||(p=h(p)),e){var L=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,p.low,p.high);return l(L,e.get_high(),this.unsigned)}return this.sub(this.div(p).mul(p))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return l(~this.low,~this.high,this.unsigned)},b.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},b.clz=b.countLeadingZeros,b.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},b.ctz=b.countTrailingZeros,b.and=function(p){return r(p)||(p=h(p)),l(this.low&p.low,this.high&p.high,this.unsigned)},b.or=function(p){return r(p)||(p=h(p)),l(this.low|p.low,this.high|p.high,this.unsigned)},b.xor=function(p){return r(p)||(p=h(p)),l(this.low^p.low,this.high^p.high,this.unsigned)},b.shiftLeft=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?l(this.low<<p,this.high<<p|this.low>>>32-p,this.unsigned):l(0,this.low<<p-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?l(this.low>>>p|this.high<<32-p,this.high>>p,this.unsigned):l(this.high>>p-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(p){return r(p)&&(p=p.toInt()),(p&=63)===0?this:p<32?l(this.low>>>p|this.high<<32-p,this.high>>>p,this.unsigned):p===32?l(this.high,0,this.unsigned):l(this.high>>>p-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.rotateLeft=function(p){var L;return r(p)&&(p=p.toInt()),(p&=63)===0?this:p===32?l(this.high,this.low,this.unsigned):p<32?(L=32-p,l(this.low<<p|this.high>>>L,this.high<<p|this.low>>>L,this.unsigned)):(p-=32,L=32-p,l(this.high<<p|this.low>>>L,this.low<<p|this.high>>>L,this.unsigned))},b.rotl=b.rotateLeft,b.rotateRight=function(p){var L;return r(p)&&(p=p.toInt()),(p&=63)===0?this:p===32?l(this.high,this.low,this.unsigned):p<32?(L=32-p,l(this.high<<L|this.low>>>p,this.low<<L|this.high>>>p,this.unsigned)):(p-=32,L=32-p,l(this.low<<L|this.high>>>p,this.high<<L|this.low>>>p,this.unsigned))},b.rotr=b.rotateRight,b.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},b.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},b.toBytes=function(p){return p?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var p=this.high,L=this.low;return[L&255,L>>>8&255,L>>>16&255,L>>>24,p&255,p>>>8&255,p>>>16&255,p>>>24]},b.toBytesBE=function(){var p=this.high,L=this.low;return[p>>>24,p>>>16&255,p>>>8&255,p&255,L>>>24,L>>>16&255,L>>>8&255,L&255]},n.fromBytes=function(p,L,re){return re?n.fromBytesLE(p,L):n.fromBytesBE(p,L)},n.fromBytesLE=function(p,L){return new n(p[0]|p[1]<<8|p[2]<<16|p[3]<<24,p[4]|p[5]<<8|p[6]<<16|p[7]<<24,L)},n.fromBytesBE=function(p,L){return new n(p[4]<<24|p[5]<<16|p[6]<<8|p[7],p[0]<<24|p[1]<<16|p[2]<<8|p[3],L)};var ce=n;return t.default=ce,"default"in t?t.default:t}({});typeof define=="function"&&define.amd?define([],function(){return oV}):typeof dS=="object"&&typeof aV=="object"&&(dS.exports=oV)});var ES=C(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.loadFileDescriptorSetFromObject=Gn.loadFileDescriptorSetFromBuffer=Gn.fromJSON=Gn.loadSync=Gn.load=Gn.isAnyExtension=Gn.Long=void 0;var qre=jU(),ks=mC(),gS=Z2(),pS=sV(),Gre=AV();Gn.Long=Gre;function Hre(t){return"@type"in t&&typeof t["@type"]=="string"}Gn.isAnyExtension=Hre;var uV={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function Yre(t,e){return t===""?e:t+"."+e}function Wre(t){return t instanceof ks.Service||t instanceof ks.Type||t instanceof ks.Enum}function Jre(t){return t instanceof ks.Namespace||t instanceof ks.Root}function hV(t,e){let n=Yre(e,t.name);return Wre(t)?[[n,t]]:Jre(t)&&typeof t.nested<"u"?Object.keys(t.nested).map(r=>hV(t.nested[r],n)).reduce((r,i)=>r.concat(i),[]):[]}function lV(t,e){return function(r){return t.toObject(t.decode(r),e)}}function cV(t){return function(n){if(Array.isArray(n))throw new Error(`Failed to serialize message: expected object with ${t.name} structure, got array instead`);let r=t.fromObject(n);return t.encode(r).finish()}}function zre(t,e,n,r){let i=t.resolvedRequestType,s=t.resolvedResponseType;return{path:"/"+e+"/"+t.name,requestStream:!!t.requestStream,responseStream:!!t.responseStream,requestSerialize:cV(i),requestDeserialize:lV(i,n),responseSerialize:cV(s),responseDeserialize:lV(s,n),originalName:qre(t.name),requestType:fS(i,r),responseType:fS(s,r)}}function jre(t,e,n,r){let i={};for(let s of t.methodsArray)i[s.name]=zre(s,e,n,r);return i}function fS(t,e){let n=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:n.$type.toObject(n,uV),fileDescriptorProtos:e}}function Kre(t,e){let n=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:n.$type.toObject(n,uV),fileDescriptorProtos:e}}function Xre(t,e,n,r){if(t instanceof ks.Service)return jre(t,e,n,r);if(t instanceof ks.Type)return fS(t,r);if(t instanceof ks.Enum)return Kre(t,r);throw new Error("Type mismatch in reflection object handling")}function yC(t,e){let n={};t.resolveAll();let i=t.toDescriptor("proto3").file.map(s=>Buffer.from(gS.FileDescriptorProto.encode(s).finish()));for(let[s,o]of hV(t,""))n[s]=Xre(o,s,e,i);return n}function dV(t,e){e=e||{};let n=ks.Root.fromDescriptor(t);return n.resolveAll(),yC(n,e)}function Zre(t,e){return(0,pS.loadProtosWithOptions)(t,e).then(n=>yC(n,e))}Gn.load=Zre;function $re(t,e){let n=(0,pS.loadProtosWithOptionsSync)(t,e);return yC(n,e)}Gn.loadSync=$re;function eie(t,e){e=e||{};let n=ks.Root.fromJSON(t);return n.resolveAll(),yC(n,e)}Gn.fromJSON=eie;function tie(t,e){let n=gS.FileDescriptorSet.decode(t);return dV(n,e)}Gn.loadFileDescriptorSetFromBuffer=tie;function nie(t,e){let n=gS.FileDescriptorSet.fromObject(t);return dV(n,e)}Gn.loadFileDescriptorSetFromObject=nie;(0,pS.addCommonProtos)()});var WA=C(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.setup=Bt.getChannelzServiceDefinition=Bt.getChannelzHandlers=Bt.unregisterChannelzRef=Bt.registerChannelzSocket=Bt.registerChannelzServer=Bt.registerChannelzSubchannel=Bt.registerChannelzChannel=Bt.ChannelzCallTracker=Bt.ChannelzChildrenTracker=Bt.ChannelzTrace=void 0;var fV=B("net"),Mf=di(),Of=qe(),rie=Qs(),iie=qm(),sie=fv();function mS(t){return{channel_id:t.id,name:t.name}}function BS(t){return{subchannel_id:t.id,name:t.name}}function oie(t){return{server_id:t.id}}function QC(t){return{socket_id:t.id,name:t.name}}var gV=32,CS=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,n,r){let i=new Date;this.events.push({description:n,severity:e,timestamp:i,childChannel:r?.kind==="channel"?r:void 0,childSubchannel:r?.kind==="subchannel"?r:void 0}),this.events.length>=gV*2&&(this.events=this.events.slice(gV)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Qo(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:Qo(e.timestamp),channel_ref:e.childChannel?mS(e.childChannel):null,subchannel_ref:e.childSubchannel?BS(e.childSubchannel):null}))}}};Bt.ChannelzTrace=CS;var IS=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var n,r,i;switch(e.kind){case"channel":{let s=(n=this.channelChildren.get(e.id))!==null&&n!==void 0?n:{ref:e,count:0};s.count+=1,this.channelChildren.set(e.id,s);break}case"subchannel":{let s=(r=this.subchannelChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};s.count+=1,this.subchannelChildren.set(e.id,s);break}case"socket":{let s=(i=this.socketChildren.get(e.id))!==null&&i!==void 0?i:{ref:e,count:0};s.count+=1,this.socketChildren.set(e.id,s);break}}}unrefChild(e){switch(e.kind){case"channel":{let n=this.channelChildren.get(e.id);n!==void 0&&(n.count-=1,n.count===0?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,n));break}case"subchannel":{let n=this.subchannelChildren.get(e.id);n!==void 0&&(n.count-=1,n.count===0?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,n));break}case"socket":{let n=this.socketChildren.get(e.id);n!==void 0&&(n.count-=1,n.count===0?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,n));break}}}getChildLists(){let e=[];for(let{ref:i}of this.channelChildren.values())e.push(i);let n=[];for(let{ref:i}of this.subchannelChildren.values())n.push(i);let r=[];for(let{ref:i}of this.socketChildren.values())r.push(i);return{channels:e,subchannels:n,sockets:r}}};Bt.ChannelzChildrenTracker=IS;var yS=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};Bt.ChannelzCallTracker=yS;var aie=1;function wC(){return aie++}var Lf=[],QS=[],_a=[],wS=[];function Aie(t,e,n){let r=wC(),i={id:r,name:t,kind:"channel"};return n&&(Lf[r]={ref:i,getInfo:e}),i}Bt.registerChannelzChannel=Aie;function lie(t,e,n){let r=wC(),i={id:r,name:t,kind:"subchannel"};return n&&(QS[r]={ref:i,getInfo:e}),i}Bt.registerChannelzSubchannel=lie;function cie(t,e){let n=wC(),r={id:n,kind:"server"};return e&&(_a[n]={ref:r,getInfo:t}),r}Bt.registerChannelzServer=cie;function uie(t,e,n){let r=wC(),i={id:r,name:t,kind:"socket"};return n&&(wS[r]={ref:i,getInfo:e}),i}Bt.registerChannelzSocket=uie;function hie(t){switch(t.kind){case"channel":delete Lf[t.id];return;case"subchannel":delete QS[t.id];return;case"server":delete _a[t.id];return;case"socket":delete wS[t.id];return}}Bt.unregisterChannelzRef=hie;function die(t){let e=Number.parseInt(t,16);return[e/256|0,e%256]}function pV(t){if(t==="")return[];let e=t.split(":").map(r=>die(r));return[].concat(...e)}function fie(t){if((0,fV.isIPv4)(t))return Buffer.from(Uint8Array.from(t.split(".").map(e=>Number.parseInt(e))));if((0,fV.isIPv6)(t)){let e,n,r=t.indexOf("::");r===-1?(e=t,n=""):(e=t.substring(0,r),n=t.substring(r+2));let i=Buffer.from(pV(e)),s=Buffer.from(pV(n)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}else return null}function mV(t){switch(t){case Mf.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case Mf.ConnectivityState.IDLE:return{state:"IDLE"};case Mf.ConnectivityState.READY:return{state:"READY"};case Mf.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case Mf.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Qo(t){if(!t)return null;let e=t.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function CV(t){let e=t.getInfo();return{ref:mS(t.ref),data:{target:e.target,state:mV(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Qo(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:e.children.channels.map(n=>mS(n)),subchannel_ref:e.children.subchannels.map(n=>BS(n))}}function gie(t,e){let n=Number.parseInt(t.request.channel_id),r=Lf[n];if(r===void 0){e({code:Of.Status.NOT_FOUND,details:"No channel data found for id "+n});return}e(null,{channel:CV(r)})}function pie(t,e){let n=Number.parseInt(t.request.max_results),r=[],i=Number.parseInt(t.request.start_channel_id);for(;i<Lf.length;i++){let s=Lf[i];if(s!==void 0&&(r.push(CV(s)),r.length>=n))break}e(null,{channel:r,end:i>=_a.length})}function IV(t){let e=t.getInfo();return{ref:oie(t.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Qo(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:e.listenerChildren.sockets.map(n=>QC(n))}}function Eie(t,e){let n=Number.parseInt(t.request.server_id),r=_a[n];if(r===void 0){e({code:Of.Status.NOT_FOUND,details:"No server data found for id "+n});return}e(null,{server:IV(r)})}function mie(t,e){let n=Number.parseInt(t.request.max_results),r=[],i=Number.parseInt(t.request.start_server_id);for(;i<_a.length;i++){let s=_a[i];if(s!==void 0&&(r.push(IV(s)),r.length>=n))break}e(null,{server:r,end:i>=_a.length})}function Cie(t,e){let n=Number.parseInt(t.request.subchannel_id),r=QS[n];if(r===void 0){e({code:Of.Status.NOT_FOUND,details:"No subchannel data found for id "+n});return}let i=r.getInfo(),s={ref:BS(r.ref),data:{target:i.target,state:mV(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:Qo(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(o=>QC(o))};e(null,{subchannel:s})}function EV(t){var e;return(0,rie.isTcpSubchannelAddress)(t)?{address:"tcpip_address",tcpip_address:{ip_address:(e=fie(t.host))!==null&&e!==void 0?e:void 0,port:t.port}}:{address:"uds_address",uds_address:{filename:t.path}}}function Iie(t,e){var n,r,i,s,o;let a=Number.parseInt(t.request.socket_id),A=wS[a];if(A===void 0){e({code:Of.Status.NOT_FOUND,details:"No socket data found for id "+a});return}let l=A.getInfo(),c=l.security?{model:"tls",tls:{cipher_suite:l.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(n=l.security.cipherSuiteStandardName)!==null&&n!==void 0?n:void 0,other_name:(r=l.security.cipherSuiteOtherName)!==null&&r!==void 0?r:void 0,local_certificate:(i=l.security.localCertificate)!==null&&i!==void 0?i:void 0,remote_certificate:(s=l.security.remoteCertificate)!==null&&s!==void 0?s:void 0}}:null,u={ref:QC(A.ref),local:l.localAddress?EV(l.localAddress):null,remote:l.remoteAddress?EV(l.remoteAddress):null,remote_name:(o=l.remoteName)!==null&&o!==void 0?o:void 0,security:c,data:{keep_alives_sent:l.keepAlivesSent,streams_started:l.streamsStarted,streams_succeeded:l.streamsSucceeded,streams_failed:l.streamsFailed,last_local_stream_created_timestamp:Qo(l.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Qo(l.lastRemoteStreamCreatedTimestamp),messages_received:l.messagesReceived,messages_sent:l.messagesSent,last_message_received_timestamp:Qo(l.lastMessageReceivedTimestamp),last_message_sent_timestamp:Qo(l.lastMessageSentTimestamp),local_flow_control_window:l.localFlowControlWindow?{value:l.localFlowControlWindow}:null,remote_flow_control_window:l.remoteFlowControlWindow?{value:l.remoteFlowControlWindow}:null}};e(null,{socket:u})}function yie(t,e){let n=Number.parseInt(t.request.server_id),r=_a[n];if(r===void 0){e({code:Of.Status.NOT_FOUND,details:"No server data found for id "+n});return}let i=Number.parseInt(t.request.start_socket_id),s=Number.parseInt(t.request.max_results),a=r.getInfo().sessionChildren.sockets.sort((c,u)=>c.id-u.id),A=[],l=0;for(;l<a.length&&!(a[l].id>=i&&(A.push(QC(a[l])),A.length>=s));l++);e(null,{socket_ref:A,end:l>=a.length})}function yV(){return{GetChannel:gie,GetTopChannels:pie,GetServer:Eie,GetServers:mie,GetSubchannel:Cie,GetSocket:Iie,GetServerSockets:yie}}Bt.getChannelzHandlers=yV;var BC=null;function BV(){if(BC)return BC;let t=ES().loadSync,e=t("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return BC=(0,sie.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,BC}Bt.getChannelzServiceDefinition=BV;function Bie(){(0,iie.registerAdminService)(BV,yV)}Bt.setup=Bie});var QV=C(vC=>{"use strict";Object.defineProperty(vC,"__esModule",{value:!0});vC.Subchannel=void 0;var ct=di(),Qie=Ef(),_S=Mt(),_C=qe(),wie=xr(),_ie=Qs(),Xc=WA(),vie="subchannel",Sie=~(1<<31),vS=class{constructor(e,n,r,i,s){var o;this.channelTarget=e,this.subchannelAddress=n,this.options=r,this.credentials=i,this.connector=s,this.connectivityState=ct.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new Xc.ChannelzCallTracker,this.childrenTracker=new Xc.ChannelzChildrenTracker,this.streamTracker=new Xc.ChannelzCallTracker;let a={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Qie.BackoffTimeout(()=>{this.handleBackoffTimer()},a),this.backoffTimeout.unref(),this.subchannelAddressString=(0,_ie.subchannelAddressToString)(n),this.keepaliveTime=(o=r["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Xc.ChannelzTrace,this.channelzRef=(0,Xc.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){_S.trace(_C.LogVerbosity.DEBUG,vie,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){_S.trace(_C.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([ct.ConnectivityState.TRANSIENT_FAILURE],ct.ConnectivityState.CONNECTING):this.transitionToState([ct.ConnectivityState.TRANSIENT_FAILURE],ct.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let n=Math.min(this.keepaliveTime,Sie);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":n})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(n=>{this.transitionToState([ct.ConnectivityState.CONNECTING],ct.ConnectivityState.READY)?(this.transport=n,this.channelzEnabled&&this.childrenTracker.refChild(n.getChannelzRef()),n.addDisconnectListener(r=>{this.transitionToState([ct.ConnectivityState.READY],ct.ConnectivityState.IDLE),r&&this.keepaliveTime>0&&(this.keepaliveTime*=2,_S.log(_C.LogVerbosity.ERROR,`Connection to ${(0,wie.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):n.shutdown()},n=>{this.transitionToState([ct.ConnectivityState.CONNECTING],ct.ConnectivityState.TRANSIENT_FAILURE,`${n}`)})}transitionToState(e,n,r){var i,s;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(ct.ConnectivityState[this.connectivityState]+" -> "+ct.ConnectivityState[n]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+ct.ConnectivityState[n]);let o=this.connectivityState;switch(this.connectivityState=n,n){case ct.ConnectivityState.READY:this.stopBackoff();break;case ct.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case ct.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(i=this.transport)===null||i===void 0||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case ct.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${n}`)}for(let a of this.stateListeners)a(this,o,n,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,Xc.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([ct.ConnectivityState.CONNECTING,ct.ConnectivityState.READY],ct.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,n,r,i){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let s;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),s={onCallEnd:o=>{o.code===_C.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):s={},this.transport.createCall(e,n,r,i,s)}startConnecting(){process.nextTick(()=>{this.transitionToState([ct.ConnectivityState.IDLE],ct.ConnectivityState.CONNECTING)||this.connectivityState===ct.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([ct.ConnectivityState.TRANSIENT_FAILURE],ct.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};vC.Subchannel=vS});var RS=C(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.setup=ba.DEFAULT_PORT=void 0;var wV=ys(),vV=B("dns"),SV=B("util"),bie=V_(),SS=qe(),bS=er(),Die=Mt(),Rie=qe(),va=xr(),_V=B("net"),Tie=Ef(),kie="dns_resolver";function Sa(t){Die.trace(Rie.LogVerbosity.DEBUG,kie,t)}ba.DEFAULT_PORT=443;var Nie=3e4,Fie=SV.promisify(vV.resolveTxt),xie=SV.promisify(vV.lookup);function Mie(...t){let e=[];for(let n=0;n<Math.max.apply(null,t.map(r=>r.length));n++)for(let r of t)n<r.length&&e.push(r[n]);return e}var DS=class{constructor(e,n,r){var i,s,o;this.target=e,this.listener=n,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,Sa("Resolver constructed for target "+(0,va.uriToString)(e));let a=(0,va.splitHostPort)(e.path);a===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,_V.isIPv4)(a.host)||(0,_V.isIPv6)(a.host)?(this.ipResult=[{host:a.host,port:(i=a.port)!==null&&i!==void 0?i:ba.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=a.host,this.port=(s=a.port)!==null&&s!==void 0?s:ba.DEFAULT_PORT),this.percentage=Math.random()*100,r["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:SS.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,va.uriToString)(this.target)}`,metadata:new bS.Metadata};let A={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new Tie.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},A),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=r["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:Nie,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(Sa("Returning IP address for target "+(0,va.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)Sa("Failed to parse DNS address "+(0,va.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:SS.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,va.uriToString)(this.target)}`,metadata:new bS.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;Sa("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=xie(e,{all:!0}),this.pendingLookupPromise.then(n=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let r=n.filter(o=>o.family===4),i=n.filter(o=>o.family===6);this.latestLookupResult=Mie(i,r).map(o=>({host:o.address,port:+this.port}));let s="["+this.latestLookupResult.map(o=>o.host+":"+o.port).join(",")+"]";if(Sa("Resolved addresses for target "+(0,va.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},n=>{this.pendingLookupPromise!==null&&(Sa("Resolution error for target "+(0,va.uriToString)(this.target)+": "+n.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=Fie(e),this.pendingTxtPromise.then(n=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,bie.extractAndSelectServiceConfig)(n,this.percentage)}catch(r){this.latestServiceConfigError={code:SS.Status.UNAVAILABLE,details:`Parsing service config failed with error ${r.message}`,metadata:new bS.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},n=>{}))}}startNextResolutionTimer(){var e,n;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=(n=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)===null||n===void 0?void 0:n.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?Sa('resolution update delayed by "min time between resolutions" rate limit'):Sa("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function Lie(){(0,wV.registerResolver)("dns",DS),(0,wV.registerDefaultScheme)("dns")}ba.setup=Lie});var TS=C(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.getProxiedConnection=eu.mapProxyName=void 0;var Uf=Mt(),Zc=qe(),Oie=ys(),Uie=B("http"),Pie=B("tls"),Vie=Mt(),bV=Qs(),$c=xr(),qie=B("url"),Gie=RS(),Hie="proxy";function Da(t){Vie.trace(Zc.LogVerbosity.DEBUG,Hie,t)}function Yie(){let t="",e="";if(process.env.grpc_proxy)e="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",t=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",t=process.env.http_proxy;else return{};let n;try{n=new qie.URL(t)}catch{return(0,Uf.log)(Zc.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(n.protocol!=="http:")return(0,Uf.log)(Zc.LogVerbosity.ERROR,`"${n.protocol}" scheme not supported in proxy URI`),{};let r=null;n.username&&(n.password?((0,Uf.log)(Zc.LogVerbosity.INFO,"userinfo found in proxy URI"),r=`${n.username}:${n.password}`):r=n.username);let i=n.hostname,s=n.port;s===""&&(s="80");let o={address:`${i}:${s}`};return r&&(o.creds=r),Da("Proxy server "+o.address+" set by environment variable "+e),o}function Wie(){let t=process.env.no_grpc_proxy,e="no_grpc_proxy";return t||(t=process.env.no_proxy,e="no_proxy"),t?(Da("No proxy server list set by environment variable "+e),t.split(",")):[]}function Jie(t,e){var n;let r={target:t,extraOptions:{}};if(((n=e["grpc.enable_http_proxy"])!==null&&n!==void 0?n:1)===0||t.scheme==="unix")return r;let i=Yie();if(!i.address)return r;let s=(0,$c.splitHostPort)(t.path);if(!s)return r;let o=s.host;for(let A of Wie())if(A===o)return Da("Not using proxy for target in no_proxy list: "+(0,$c.uriToString)(t)),r;let a={"grpc.http_connect_target":(0,$c.uriToString)(t)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}eu.mapProxyName=Jie;function zie(t,e,n){var r;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let i=e["grpc.http_connect_target"],s=(0,$c.parseUri)(i);if(s===null)return Promise.resolve({});let o=(0,$c.splitHostPort)(s.path);if(o===null)return Promise.resolve({});let a=`${o.host}:${(r=o.port)!==null&&r!==void 0?r:Gie.DEFAULT_PORT}`,A={method:"CONNECT",path:a},l={Host:a};(0,bV.isTcpSubchannelAddress)(t)?(A.host=t.host,A.port=t.port):A.socketPath=t.path,"grpc.http_connect_creds"in e&&(l["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),A.headers=l;let c=(0,bV.subchannelAddressToString)(t);return Da("Using proxy "+c+" to connect to "+A.path),new Promise((u,h)=>{let d=Uie.request(A);d.once("connect",(f,g,m)=>{var y;if(d.removeAllListeners(),g.removeAllListeners(),f.statusCode===200)if(Da("Successfully connected to "+A.path+" through proxy "+c),"secureContext"in n){let I=(0,Oie.getDefaultAuthority)(s),_=(0,$c.splitHostPort)(I),w=(y=_?.host)!==null&&y!==void 0?y:I,S=Pie.connect(Object.assign({host:w,servername:w,socket:g},n),()=>{Da("Successfully established a TLS connection to "+A.path+" through proxy "+c),u({socket:S,realTarget:s})});S.on("error",T=>{Da("Failed to establish a TLS connection to "+A.path+" through proxy "+c+" with error "+T.message),h()})}else Da("Successfully established a plaintext connection to "+A.path+" through proxy "+c),u({socket:g,realTarget:s});else(0,Uf.log)(Zc.LogVerbosity.ERROR,"Failed to connect to "+A.path+" through proxy "+c+" with status "+f.statusCode),h()}),d.once("error",f=>{d.removeAllListeners(),(0,Uf.log)(Zc.LogVerbosity.ERROR,"Failed to connect to proxy "+c+" with error "+f.message),h()}),d.end()})}eu.getProxiedConnection=zie});var NS=C(SC=>{"use strict";Object.defineProperty(SC,"__esModule",{value:!0});SC.StreamDecoder=void 0;var wo=function(t){return t[t.NO_DATA=0]="NO_DATA",t[t.READING_SIZE=1]="READING_SIZE",t[t.READING_MESSAGE=2]="READING_MESSAGE",t}(wo||{}),kS=class{constructor(){this.readState=wo.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let n=0,r,i=[];for(;n<e.length;)switch(this.readState){case wo.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=wo.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case wo.READING_SIZE:if(r=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+r),this.readSizeRemaining-=r,n+=r,this.readSizeRemaining===0)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=wo.READING_MESSAGE;else{let s=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=wo.NO_DATA,i.push(s)}break;case wo.READING_MESSAGE:if(r=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+r)),this.readMessageRemaining-=r,n+=r,this.readMessageRemaining===0){let s=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(s,this.readMessageSize+5);this.readState=wo.NO_DATA,i.push(o)}break;default:throw new Error("Unexpected read state")}return i}};SC.StreamDecoder=kS});var DV=C(bC=>{"use strict";Object.defineProperty(bC,"__esModule",{value:!0});bC.Http2SubchannelCall=void 0;var _o=B("http2"),jie=B("os"),st=qe(),Ra=er(),Kie=NS(),Xie=Mt(),Zie=qe(),$ie="subchannel_call";function ese(t){for(let[e,n]of Object.entries(jie.constants.errno))if(n===t)return e;return"Unknown system error "+t}var FS=class{constructor(e,n,r,i,s){this.http2Stream=e,this.callEventTracker=n,this.listener=r,this.transport=i,this.callId=s,this.decoder=new Kie.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=st.Status.UNKNOWN,this.finalStatus=null,this.internalError=null,e.on("response",(o,a)=>{let A="";for(let l of Object.keys(o))A+="		"+l+": "+o[l]+`
`;switch(this.trace(`Received server headers:
`+A),o[":status"]){case 400:this.mappedStatusCode=st.Status.INTERNAL;break;case 401:this.mappedStatusCode=st.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=st.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=st.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=st.Status.UNAVAILABLE;break;default:this.mappedStatusCode=st.Status.UNKNOWN}if(a&_o.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(o);else{let l;try{l=Ra.Metadata.fromHttp2Headers(o)}catch(c){this.endCall({code:st.Status.UNKNOWN,details:c.message,metadata:new Ra.Metadata});return}this.listener.onReceiveMetadata(l)}}),e.on("trailers",o=>{this.handleTrailers(o)}),e.on("data",o=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+o.length);let a=this.decoder.write(o);for(let A of a)this.trace("parsed message of length "+A.length),this.callEventTracker.addMessageReceived(),this.tryPush(A)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var o;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((o=this.finalStatus)===null||o===void 0?void 0:o.code)===st.Status.OK)return;let a,A="";switch(e.rstCode){case _o.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;a=st.Status.INTERNAL,A=`Received RST_STREAM with code ${e.rstCode}`;break;case _o.constants.NGHTTP2_REFUSED_STREAM:a=st.Status.UNAVAILABLE,A="Stream refused by server";break;case _o.constants.NGHTTP2_CANCEL:a=st.Status.CANCELLED,A="Call cancelled";break;case _o.constants.NGHTTP2_ENHANCE_YOUR_CALM:a=st.Status.RESOURCE_EXHAUSTED,A="Bandwidth exhausted or memory limit exceeded";break;case _o.constants.NGHTTP2_INADEQUATE_SECURITY:a=st.Status.PERMISSION_DENIED,A="Protocol not secure enough";break;case _o.constants.NGHTTP2_INTERNAL_ERROR:a=st.Status.INTERNAL,this.internalError===null?A=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(a=st.Status.UNAVAILABLE,A=this.internalError.message):A=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:a=st.Status.INTERNAL,A=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:a,details:A,metadata:new Ra.Metadata,rstCode:e.rstCode})})}),e.on("error",o=>{o.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+o.message+" code="+o.code+" errno="+ese(o.errno)+" syscall="+o.syscall),this.internalError=o),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:st.Status.UNAVAILABLE,details:"Connection dropped",metadata:new Ra.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){Xie.trace(Zie.LogVerbosity.DEBUG,$ie,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===st.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==st.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.callEventTracker.onStreamEnd(!0);let n="";for(let A of Object.keys(e))n+="		"+A+": "+e[A]+`
`;this.trace(`Received server trailers:
`+n);let r;try{r=Ra.Metadata.fromHttp2Headers(e)}catch{r=new Ra.Metadata}let i=r.getMap(),s=this.mappedStatusCode;if(s===st.Status.UNKNOWN&&typeof i["grpc-status"]=="string"){let A=Number(i["grpc-status"]);A in st.Status&&(s=A,this.trace("received status code "+A+" from server")),r.remove("grpc-status")}let o="";if(typeof i["grpc-message"]=="string"){try{o=decodeURI(i["grpc-message"])}catch{o=i["grpc-message"]}r.remove("grpc-message"),this.trace('received status details string "'+o+'" from server')}let a={code:s,details:o,metadata:r};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let n;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===st.Status.OK?n=_o.constants.NGHTTP2_NO_ERROR:n=_o.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+n),this.http2Stream.close(n)}}cancelWithStatus(e,n){this.trace("cancelWithStatus code: "+e+' details: "'+n+'"'),this.endCall({code:e,details:n,metadata:new Ra.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==st.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,n){this.trace("write() called with message of length "+n.length);let r=i=>{process.nextTick(()=>{var s;let o=st.Status.UNAVAILABLE;i?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=st.Status.INTERNAL),i&&this.cancelWithStatus(o,`Write error: ${i.message}`),(s=e.callback)===null||s===void 0||s.call(e)})};this.trace("sending data chunk of length "+n.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(n,r)}catch(i){this.endCall({code:st.Status.UNAVAILABLE,details:`Write failed with error ${i.message}`,metadata:new Ra.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};bC.Http2SubchannelCall=FS});var xS=C(DC=>{"use strict";Object.defineProperty(DC,"__esModule",{value:!0});DC.getNextCallNumber=void 0;var tse=0;function nse(){return tse++}DC.getNextCallNumber=nse});var kV=C(TC=>{"use strict";Object.defineProperty(TC,"__esModule",{value:!0});TC.Http2SubchannelConnector=void 0;var PS=B("http2"),RV=B("tls"),MS=WA(),Pf=qe(),rse=TS(),nu=Mt(),TV=ys(),RC=Qs(),tu=xr(),ise=B("net"),sse=DV(),ose=xS(),LS="transport",ase="transport_flowctrl",Ase=Q_().version,{HTTP2_HEADER_AUTHORITY:lse,HTTP2_HEADER_CONTENT_TYPE:cse,HTTP2_HEADER_METHOD:use,HTTP2_HEADER_PATH:hse,HTTP2_HEADER_TE:dse,HTTP2_HEADER_USER_AGENT:fse}=PS.constants,gse=2e4,pse=Buffer.from("too_many_pings","ascii"),OS=class{constructor(e,n,r,i){this.session=e,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=gse,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new MS.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,RC.subchannelAddressToString)(n),r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,MS.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${Ase}`,r["grpc.secondary_user_agent"]].filter(s=>s).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=r["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(s,o,a)=>{let A=!1;s===PS.constants.NGHTTP2_ENHANCE_YOUR_CALM&&a&&a.equals(pse)&&(A=!0),this.trace("connection closed by GOAWAY with code "+s+" and data "+a?.toString()),this.reportDisconnectToOwner(A)}),e.once("error",s=>{this.trace("connection closed with error "+s.message)}),nu.isTracerEnabled(LS)&&(e.on("remoteSettings",s=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))}),e.on("localSettings",s=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,n,r;let i=this.session.socket,s=i.remoteAddress?(0,RC.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,RC.stringToSubchannelAddress)(i.localAddress,i.localPort):null,a;if(this.session.encrypted){let l=i,c=l.getCipher(),u=l.getCertificate(),h=l.getPeerCertificate();a={cipherSuiteStandardName:(e=c.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:c.standardName?null:c.name,localCertificate:u&&"raw"in u?u.raw:null,remoteCertificate:h&&"raw"in h?h.raw:null}}else a=null;return{remoteAddress:s,localAddress:o,security:a,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(n=this.session.state.localWindowSize)!==null&&n!==void 0?n:null,remoteFlowControlWindow:(r=this.session.state.remoteWindowSize)!==null&&r!==void 0?r:null}}trace(e){nu.trace(Pf.LogVerbosity.DEBUG,LS,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){nu.trace(Pf.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){nu.trace(Pf.LogVerbosity.DEBUG,ase,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){nu.trace(Pf.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(n=>n(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,n;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(n=(e=this.keepaliveTimeoutId).unref)===null||n===void 0||n.call(e));try{this.session.ping((r,i,s)=>{r&&(this.keepaliveTrace("Ping failed with error "+r.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,n;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=(n=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||n===void 0?void 0:n.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,n,r,i,s){let o=e.toHttp2Headers();o[lse]=n,o[fse]=this.userAgent,o[cse]="application/grpc",o[use]="POST",o[hse]=r,o[dse]="trailers";let a;try{a=this.session.request(o)}catch(c){throw this.handleDisconnect(),c}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let A,l;return this.channelzEnabled?(this.streamTracker.addCallStarted(),A={addMessageSent:()=>{var c;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(c=s.addMessageSent)===null||c===void 0||c.call(s)},addMessageReceived:()=>{var c;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(c=s.addMessageReceived)===null||c===void 0||c.call(s)},onCallEnd:c=>{var u;(u=s.onCallEnd)===null||u===void 0||u.call(s,c),this.removeActiveCall(l)},onStreamEnd:c=>{var u;c?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(u=s.onStreamEnd)===null||u===void 0||u.call(s,c)}}):A={addMessageSent:()=>{var c;(c=s.addMessageSent)===null||c===void 0||c.call(s)},addMessageReceived:()=>{var c;(c=s.addMessageReceived)===null||c===void 0||c.call(s)},onCallEnd:c=>{var u;(u=s.onCallEnd)===null||u===void 0||u.call(s,c),this.removeActiveCall(l)},onStreamEnd:c=>{var u;(u=s.onStreamEnd)===null||u===void 0||u.call(s,c)}},l=new sse.Http2SubchannelCall(a,A,i,this,(0,ose.getNextCallNumber)()),this.addActiveCall(l),l}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,MS.unregisterChannelzRef)(this.channelzRef)}},US=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){nu.trace(Pf.LogVerbosity.DEBUG,LS,(0,tu.uriToString)(this.channelTarget)+" "+e)}createSession(e,n,r,i){return this.isShutdown?Promise.reject():new Promise((s,o)=>{var a,A,l;let c;i.realTarget?(c=(0,tu.uriToString)(i.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,tu.uriToString)(i.realTarget))):(c=null,this.trace("creating HTTP/2 session to "+(0,RC.subchannelAddressToString)(e)));let u=(0,TV.getDefaultAuthority)((a=i.realTarget)!==null&&a!==void 0?a:this.channelTarget),h=n._getConnectionOptions()||{};h.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?h.maxSessionMemory=r["grpc-node.max_session_memory"]:h.maxSessionMemory=Number.MAX_SAFE_INTEGER;let d="http://";if("secureContext"in h){if(d="https://",r["grpc.ssl_target_name_override"]){let m=r["grpc.ssl_target_name_override"];h.checkServerIdentity=(y,I)=>(0,RV.checkServerIdentity)(m,I),h.servername=m}else{let m=(l=(A=(0,tu.splitHostPort)(u))===null||A===void 0?void 0:A.host)!==null&&l!==void 0?l:"localhost";h.servername=m}i.socket&&(h.createConnection=(m,y)=>i.socket)}else h.createConnection=(m,y)=>i.socket?i.socket:ise.connect(e);h=Object.assign(Object.assign(Object.assign({},h),e),{enableTrace:r["grpc-node.tls_enable_trace"]===1});let f=PS.connect(d+u,h);this.session=f;let g="Failed to connect";f.unref(),f.once("connect",()=>{f.removeAllListeners(),s(new OS(f,e,r,c)),this.session=null}),f.once("close",()=>{this.session=null,setImmediate(()=>{o(`${g} (${new Date().toISOString()})`)})}),f.once("error",m=>{g=m.message,this.trace("connection failed with error "+g)})})}connect(e,n,r){var i,s;if(this.isShutdown)return Promise.reject();let o=n._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let a=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(A,l)=>(0,RV.checkServerIdentity)(a,l),o.servername=a}else if("grpc.http_connect_target"in r){let a=(0,TV.getDefaultAuthority)((i=(0,tu.parseUri)(r["grpc.http_connect_target"]))!==null&&i!==void 0?i:{path:"localhost"}),A=(0,tu.splitHostPort)(a);o.servername=(s=A?.host)!==null&&s!==void 0?s:a}r["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,rse.getProxiedConnection)(e,r,o).then(a=>this.createSession(e,n,r,a))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};TC.Http2SubchannelConnector=US});var NV=C(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.getSubchannelPool=ru.SubchannelPool=void 0;var Ese=EU(),mse=QV(),Cse=Qs(),Ise=xr(),yse=kV(),Bse=1e4,Vf=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let n in this.pool){let i=this.pool[n].filter(s=>!s.subchannel.unrefIfOneRef());i.length>0&&(e=!1),this.pool[n]=i}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,n;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},Bse),(n=(e=this.cleanupTimer).unref)===null||n===void 0||n.call(e))}getOrCreateSubchannel(e,n,r,i){this.ensureCleanupTask();let s=(0,Ise.uriToString)(e);if(s in this.pool){let a=this.pool[s];for(let A of a)if((0,Cse.subchannelAddressEqual)(n,A.subchannelAddress)&&(0,Ese.channelOptionsEqual)(r,A.channelArguments)&&i._equals(A.channelCredentials))return A.subchannel}let o=new mse.Subchannel(e,n,r,i,new yse.Http2SubchannelConnector(e));return s in this.pool||(this.pool[s]=[]),this.pool[s].push({subchannelAddress:n,channelArguments:r,channelCredentials:i,subchannel:o}),o.ref(),o}};ru.SubchannelPool=Vf;var Qse=new Vf;function wse(t){return t?Qse:new Vf}ru.getSubchannelPool=wse});var qS=C(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.FilterStackFactory=iu.FilterStack=void 0;var kC=class{constructor(e){this.filters=e}sendMetadata(e){let n=e;for(let r=0;r<this.filters.length;r++)n=this.filters[r].sendMetadata(n);return n}receiveMetadata(e){let n=e;for(let r=this.filters.length-1;r>=0;r--)n=this.filters[r].receiveMetadata(n);return n}sendMessage(e){let n=e;for(let r=0;r<this.filters.length;r++)n=this.filters[r].sendMessage(n);return n}receiveMessage(e){let n=e;for(let r=this.filters.length-1;r>=0;r--)n=this.filters[r].receiveMessage(n);return n}receiveTrailers(e){let n=e;for(let r=this.filters.length-1;r>=0;r--)n=this.filters[r].receiveTrailers(n);return n}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};iu.FilterStack=kC;var VS=class t{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new t([...this.factories])}createFilter(){return new kC(this.factories.map(e=>e.createFilter()))}};iu.FilterStackFactory=VS});var GS=C(NC=>{"use strict";Object.defineProperty(NC,"__esModule",{value:!0});NC.CompressionAlgorithms=void 0;var FV=function(t){return t[t.identity=0]="identity",t[t.deflate=1]="deflate",t[t.gzip=2]="gzip",t}(FV||(NC.CompressionAlgorithms=FV={}))});var xC=C(FC=>{"use strict";Object.defineProperty(FC,"__esModule",{value:!0});FC.BaseFilter=void 0;var HS=class{sendMetadata(e){return E(this,null,function*(){return e})}receiveMetadata(e){return e}sendMessage(e){return E(this,null,function*(){return e})}receiveMessage(e){return E(this,null,function*(){return e})}receiveTrailers(e){return e}};FC.BaseFilter=HS});var LV=C(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.CompressionFilterFactory=ou.CompressionFilter=void 0;var MC=B("zlib"),MV=GS(),_se=qe(),vse=xC(),Sse=Mt(),bse=t=>typeof t=="number"&&typeof MV.CompressionAlgorithms[t]=="string",su=class{writeMessage(e,n){return E(this,null,function*(){let r=e;n&&(r=yield this.compressMessage(r));let i=Buffer.allocUnsafe(r.length+5);return i.writeUInt8(n?1:0,0),i.writeUInt32BE(r.length,1),r.copy(i,5),i})}readMessage(e){return E(this,null,function*(){let n=e.readUInt8(0)===1,r=e.slice(5);return n&&(r=yield this.decompressMessage(r)),r})}},JA=class extends su{compressMessage(e){return E(this,null,function*(){return e})}writeMessage(e,n){return E(this,null,function*(){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r})}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},YS=class extends su{compressMessage(e){return new Promise((n,r)=>{MC.deflate(e,(i,s)=>{i?r(i):n(s)})})}decompressMessage(e){return new Promise((n,r)=>{MC.inflate(e,(i,s)=>{i?r(i):n(s)})})}},WS=class extends su{compressMessage(e){return new Promise((n,r)=>{MC.gzip(e,(i,s)=>{i?r(i):n(s)})})}decompressMessage(e){return new Promise((n,r)=>{MC.unzip(e,(i,s)=>{i?r(i):n(s)})})}},JS=class extends su{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function xV(t){switch(t){case"identity":return new JA;case"deflate":return new YS;case"gzip":return new WS;default:return new JS(t)}}var LC=class extends vse.BaseFilter{constructor(e,n){var r;super(),this.sharedFilterConfig=n,this.sendCompression=new JA,this.receiveCompression=new JA,this.currentCompressionAlgorithm="identity";let i=e["grpc.default_compression_algorithm"];if(i!==void 0)if(bse(i)){let s=MV.CompressionAlgorithms[i],o=(r=n.serverSupportedEncodingHeader)===null||r===void 0?void 0:r.split(",");(!o||o.includes(s))&&(this.currentCompressionAlgorithm=s,this.sendCompression=xV(this.currentCompressionAlgorithm))}else Sse.log(_se.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${i}`)}sendMetadata(e){return E(this,null,function*(){let n=yield e;return n.set("grpc-accept-encoding","identity,deflate,gzip"),n.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?n.remove("grpc-encoding"):n.set("grpc-encoding",this.currentCompressionAlgorithm),n})}receiveMetadata(e){let n=e.get("grpc-encoding");if(n.length>0){let i=n[0];typeof i=="string"&&(this.receiveCompression=xV(i))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new JA,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}sendMessage(e){return E(this,null,function*(){var n;let r=yield e,i;return this.sendCompression instanceof JA?i=!1:i=(((n=r.flags)!==null&&n!==void 0?n:0)&2)===0,{message:yield this.sendCompression.writeMessage(r.message,i),flags:r.flags}})}receiveMessage(e){return E(this,null,function*(){return this.receiveCompression.readMessage(yield e)})}};ou.CompressionFilter=LC;var zS=class{constructor(e,n){this.options=n,this.sharedFilterConfig={}}createFilter(){return new LC(this.options,this.sharedFilterConfig)}};ou.CompressionFilterFactory=zS});var UV=C(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.MaxMessageSizeFilterFactory=au.MaxMessageSizeFilter=void 0;var Dse=xC(),OC=qe(),OV=er(),UC=class extends Dse.BaseFilter{constructor(e){super(),this.maxSendMessageSize=OC.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=OC.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}sendMessage(e){return E(this,null,function*(){if(this.maxSendMessageSize===-1)return e;{let n=yield e;if(n.message.length>this.maxSendMessageSize)throw{code:OC.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${n.message.length} vs. ${this.maxSendMessageSize})`,metadata:new OV.Metadata};return n}})}receiveMessage(e){return E(this,null,function*(){if(this.maxReceiveMessageSize===-1)return e;{let n=yield e;if(n.length>this.maxReceiveMessageSize)throw{code:OC.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${n.length} vs. ${this.maxReceiveMessageSize})`,metadata:new OV.Metadata};return n}})}};au.MaxMessageSizeFilter=UC;var jS=class{constructor(e){this.options=e}createFilter(){return new UC(this.options)}};au.MaxMessageSizeFilterFactory=jS});var PC=C(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.deadlineToString=Ns.getRelativeTimeout=Ns.getDeadlineTimeoutString=Ns.minDeadline=void 0;function Rse(...t){let e=1/0;for(let n of t){let r=n instanceof Date?n.getTime():n;r<e&&(e=r)}return e}Ns.minDeadline=Rse;var Tse=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function kse(t){let e=new Date().getTime();t instanceof Date&&(t=t.getTime());let n=Math.max(t-e,0);for(let[r,i]of Tse){let s=n/i;if(s<1e8)return String(Math.ceil(s))+r}throw new Error("Deadline is too far in the future")}Ns.getDeadlineTimeoutString=kse;var Nse=2147483647;function Fse(t){let e=t instanceof Date?t.getTime():t,n=new Date().getTime(),r=e-n;return r<0?0:r>Nse?1/0:r}Ns.getRelativeTimeout=Fse;function xse(t){if(t instanceof Date)return t.toISOString();{let e=new Date(t);return Number.isNaN(e.getTime())?""+t:e.toISOString()}}Ns.deadlineToString=xse});var qC=C(VC=>{"use strict";Object.defineProperty(VC,"__esModule",{value:!0});VC.restrictControlPlaneStatusCode=void 0;var Fs=qe(),Mse=[Fs.Status.OK,Fs.Status.INVALID_ARGUMENT,Fs.Status.NOT_FOUND,Fs.Status.ALREADY_EXISTS,Fs.Status.FAILED_PRECONDITION,Fs.Status.ABORTED,Fs.Status.OUT_OF_RANGE,Fs.Status.DATA_LOSS];function Lse(t,e){return Mse.includes(t)?{code:Fs.Status.INTERNAL,details:`Invalid status from control plane: ${t} ${Fs.Status[t]} ${e}`}:{code:t,details:e}}VC.restrictControlPlaneStatusCode=Lse});var VV=C(YC=>{"use strict";Object.defineProperty(YC,"__esModule",{value:!0});YC.LoadBalancingCall=void 0;var PV=di(),GC=qe(),Ose=PC(),HC=er(),qf=fa(),Use=xr(),Pse=Mt(),KS=qC(),Vse=B("http2"),qse="load_balancing_call",XS=class{constructor(e,n,r,i,s,o,a){var A,l;this.channel=e,this.callConfig=n,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let c=this.methodName.split("/"),u="";c.length>=2&&(u=c[1]);let h=(l=(A=(0,Use.splitHostPort)(this.host))===null||A===void 0?void 0:A.host)!==null&&l!==void 0?l:"localhost";this.serviceUrl=`https://${h}/${u}`}trace(e){Pse.trace(GC.LogVerbosity.DEBUG,qse,"["+this.callNumber+"] "+e)}outputStatus(e,n){var r,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let s=Object.assign(Object.assign({},e),{progress:n});(r=this.listener)===null||r===void 0||r.onReceiveStatus(s),(i=this.onCallEnded)===null||i===void 0||i.call(this,s.code)}}doPick(){var e,n;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),i=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+qf.PickResultType[r.pickResultType]+" subchannel: "+i+" status: "+((e=r.status)===null||e===void 0?void 0:e.code)+" "+((n=r.status)===null||n===void 0?void 0:n.details)),r.pickResultType){case qf.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(a=>{var A,l,c;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let u=this.metadata.clone();if(u.merge(a),u.get("authorization").length>1&&this.outputStatus({code:GC.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new HC.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==PV.ConnectivityState.READY){this.trace("Picked subchannel "+i+" has state "+PV.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&u.set("grpc-timeout",(0,Ose.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(u,this.host,this.methodName,{onReceiveMetadata:h=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(h)},onReceiveMessage:h=>{this.trace("Received message"),this.listener.onReceiveMessage(h)},onReceiveStatus:h=>{this.trace("Received status"),h.rstCode===Vse.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(h,"REFUSED"):this.outputStatus(h,"PROCESSED")}})}catch(h){this.trace("Failed to start call on picked subchannel "+i+" with error "+h.message),this.outputStatus({code:GC.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+h.message,metadata:new HC.Metadata},"NOT_STARTED");return}(l=(A=this.callConfig).onCommitted)===null||l===void 0||l.call(A),(c=r.onCallStarted)===null||c===void 0||c.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:A,details:l}=(0,KS.restrictControlPlaneStatusCode)(typeof a.code=="number"?a.code:GC.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:A,details:l,metadata:new HC.Metadata},"PROCESSED")});break;case qf.PickResultType.DROP:let{code:s,details:o}=(0,KS.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:s,details:o,metadata:r.status.metadata},"DROP")});break;case qf.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:A}=(0,KS.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:a,details:A,metadata:r.status.metadata},"PROCESSED")})}break;case qf.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,n){var r;this.trace("cancelWithStatus code: "+e+' details: "'+n+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,n),this.outputStatus({code:e,details:n,metadata:new HC.Metadata},"PROCESSED")}getPeer(){var e,n;return(n=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:this.channel.getTarget()}start(e,n){this.trace("start called"),this.listener=n,this.metadata=e,this.doPick()}sendMessageWithContext(e,n){this.trace("write() called with message of length "+n.length),this.child?this.child.sendMessageWithContext(e,n):this.pendingMessage={context:e,message:n}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};YC.LoadBalancingCall=XS});var GV=C(JC=>{"use strict";Object.defineProperty(JC,"__esModule",{value:!0});JC.ResolvingCall=void 0;var Au=qe(),WC=PC(),qV=er(),Gse=Mt(),Hse=qC(),Yse="resolving_call",ZS=class{constructor(e,n,r,i,s,o){this.channel=e,this.method=n,this.filterStackFactory=i,this.credentials=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&Au.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(Au.Status.CANCELLED,"Cancelled by parent call")}),r.flags&Au.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,WC.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){Gse.trace(Au.LogVerbosity.DEBUG,Yse,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,WC.deadlineToString)(this.deadline));let e=(0,WC.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let n=()=>{this.cancelWithStatus(Au.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(n):this.deadlineTimer=setTimeout(n,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let n=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+n.code+' details="'+n.details+'"'),this.statusWatchers.forEach(r=>r(n)),process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus(n)})}}sendMessageOnChild(e,n){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:n,flags:e.flags})).then(i=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,i.message),this.pendingHalfClose&&r.halfClose()},i=>{this.cancelWithStatus(i.code,i.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let n=e.config;if(n.status!==Au.Status.OK){let{code:r,details:i}=(0,Hse.restrictControlPlaneStatusCode)(n.status,"Failed to route call to method "+this.method);this.outputStatus({code:r,details:i,metadata:new qV.Metadata});return}if(n.methodConfig.timeout){let r=new Date;r.setSeconds(r.getSeconds()+n.methodConfig.timeout.seconds),r.setMilliseconds(r.getMilliseconds()+n.methodConfig.timeout.nanos/1e6),this.deadline=(0,WC.minDeadline)(this.deadline,r),this.runDeadlineTimer()}this.filterStackFactory.push(n.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(r=>{this.child=this.channel.createInnerCall(n,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(r,{onReceiveMetadata:i=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(i))},onReceiveMessage:i=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(i).then(s=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(s),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},s=>{this.cancelWithStatus(s.code,s.details)})},onReceiveStatus:i=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=i:this.outputStatus(i)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},r=>{this.outputStatus(r)})}reportResolverError(e){var n;!((n=this.metadata)===null||n===void 0)&&n.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,n){var r;this.trace("cancelWithStatus code: "+e+' details: "'+n+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,n),this.outputStatus({code:e,details:n,metadata:new qV.Metadata})}getPeer(){var e,n;return(n=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:this.channel.getTarget()}start(e,n){this.trace("start called"),this.metadata=e.clone(),this.listener=n,this.getConfig()}sendMessageWithContext(e,n){this.trace("write() called with message of length "+n.length),this.child?this.sendMessageOnChild(e,n):this.pendingMessage={context:e,message:n}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};JC.ResolvingCall=ZS});var HV=C(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.RetryingCall=Ta.MessageBufferTracker=Ta.RetryThrottler=void 0;var zC=qe(),Wse=er(),Jse=Mt(),zse="retrying_call",eb=class{constructor(e,n,r){this.maxTokens=e,this.tokenRatio=n,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};Ta.RetryThrottler=eb;var tb=class{constructor(e,n){this.totalLimit=e,this.limitPerCall=n,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,n){var r;let i=(r=this.allocatedPerCall.get(n))!==null&&r!==void 0?r:0;return this.limitPerCall-i<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(n,i+e),this.totalAllocated+=e,!0)}free(e,n){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${n} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let i=(r=this.allocatedPerCall.get(n))!==null&&r!==void 0?r:0;if(i<e)throw new Error(`Invalid buffer allocation state: call ${n} freed ${e} > allocated for call ${i}`);this.allocatedPerCall.set(n,i-e)}freeAll(e){var n;let r=(n=this.allocatedPerCall.get(e))!==null&&n!==void 0?n:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};Ta.MessageBufferTracker=tb;var $S="grpc-previous-rpc-attempts",nb=class{constructor(e,n,r,i,s,o,a,A,l){if(this.channel=e,this.callConfig=n,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.bufferTracker=A,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,n.methodConfig.retryPolicy){this.state="RETRY";let c=n.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(c.initialBackoff.substring(0,c.initialBackoff.length-1))}else n.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){Jse.trace(zC.LogVerbosity.DEBUG,zse,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var n;(n=this.listener)===null||n===void 0||n.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,n){this.trace("cancelWithStatus code: "+e+' details: "'+n+'"'),this.reportStatus({code:e,details:n,metadata:new Wse.Metadata});for(let{call:r}of this.underlyingCalls)r.cancelWithStatus(e,n)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var n;return(n=this.writeBuffer[e-this.writeBufferOffset])!==null&&n!==void 0?n:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let n=this.writeBufferOffset;n<e;n++){let r=this.getBufferEntry(n);r.allocated&&this.bufferTracker.free(r.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let n=0;n<this.underlyingCalls.length;n++)n!==e&&this.underlyingCalls[n].state!=="COMPLETED"&&(this.underlyingCalls[n].state="COMPLETED",this.underlyingCalls[n].call.cancelWithStatus(zC.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,n=-1;for(let[r,i]of this.underlyingCalls.entries())i.state==="ACTIVE"&&i.nextMessageToSend>e&&(e=i.nextMessageToSend,n=r);n===-1?this.state="TRANSPARENT_ONLY":this.commitCall(n)}isStatusCodeInList(e,n){return e.some(r=>r===n||r.toString().toLowerCase()===zC.Status[n].toLowerCase())}getNextRetryBackoffMs(){var e;let n=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!n)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(n.maxBackoff.substring(0,n.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*n.backoffMultiplier,i),r}maybeRetryCall(e,n){if(this.state!=="RETRY"){n(!1);return}let r=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(r.maxAttempts,5)){n(!1);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",n(!1);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var s,o;if(this.state!=="RETRY"){n(!1);return}(!((o=(s=this.retryThrottler)===null||s===void 0?void 0:s.canRetryCall())!==null&&o!==void 0)||o)&&(n(!0),this.attempts+=1,this.startNewAttempt())},i)}countActiveCalls(){let e=0;for(let n of this.underlyingCalls)n?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,n,r){var i,s,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(n),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&i!==void 0?i:[],e.code)){(s=this.retryThrottler)===null||s===void 0||s.addCallFailed();let a;if(r===null)a=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(n),this.reportStatus(e);return}else a=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(n),this.reportStatus(e))},a)}else this.commitCall(n),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(r,a=>{a||(this.commitCall(n),this.reportStatus(e))})):(this.commitCall(n),this.reportStatus(e));break}}getPushback(e){let n=e.get("grpc-retry-pushback-ms");if(n.length===0)return null;try{return parseInt(n[0])}catch{return-1}}handleChildStatus(e,n){var r;if(this.underlyingCalls[n].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[n].call.getCallNumber()+"] in state "+this.underlyingCalls[n].state),this.underlyingCalls[n].state="COMPLETED",e.code===zC.Status.OK){(r=this.retryThrottler)===null||r===void 0||r.addCallSucceeded(),this.commitCall(n),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,n,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(n),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,n,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,n,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let s=(e=i.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(s.substring(0,s.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},o*1e3),(r=(n=this.hedgingTimer).unref)===null||r===void 0||r.call(n)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let n=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,i=this.initialMetadata.clone();r>0&&i.set($S,`${r}`);let s=!1;e.start(i,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(n),s=!0,r>0&&o.set($S,`${r}`),this.underlyingCalls[n].state==="ACTIVE"&&this.listener.onReceiveMetadata(o)},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(n),this.underlyingCalls[n].state==="ACTIVE"&&this.listener.onReceiveMessage(o)},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!s&&r>0&&o.metadata.set($S,`${r}`),this.handleChildStatus(o,n)}}),this.sendNextChildMessage(n),this.readStarted&&e.startRead()}start(e,n){this.trace("start called"),this.listener=n,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var n,r;let i=this.underlyingCalls[e],s=i.nextMessageToSend;(r=(n=this.getBufferEntry(s)).callback)===null||r===void 0||r.call(n),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let n=this.underlyingCalls[e];if(n.state!=="COMPLETED"&&this.getBufferEntry(n.nextMessageToSend)){let r=this.getBufferEntry(n.nextMessageToSend);switch(r.entryType){case"MESSAGE":n.call.sendMessageWithContext({callback:i=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":n.nextMessageToSend+=1,n.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,n){var r;this.trace("write() called with message of length "+n.length);let i={message:n,flags:e.flags},s=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(n.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(r=e.callback)===null||r===void 0||r.call(e);for(let[a,A]of this.underlyingCalls.entries())A.state==="ACTIVE"&&A.nextMessageToSend===s&&A.call.sendMessageWithContext({callback:l=>{this.handleChildWriteCompleted(a)}},n)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let a=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,a.state==="ACTIVE"&&a.nextMessageToSend===s&&a.call.sendMessageWithContext({callback:A=>{this.handleChildWriteCompleted(this.committedCallIndex)}},n)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let n of this.underlyingCalls)n?.state==="ACTIVE"&&n.nextMessageToSend===e&&(n.nextMessageToSend+=1,n.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};Ta.RetryingCall=nb});var KC=C(jC=>{"use strict";Object.defineProperty(jC,"__esModule",{value:!0});jC.BaseSubchannelWrapper=void 0;var rb=class{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};jC.BaseSubchannelWrapper=rb});var JV=C($C=>{"use strict";Object.defineProperty($C,"__esModule",{value:!0});$C.InternalChannel=void 0;var jse=Nm(),Kse=pU(),Xse=NV(),YV=fa(),Gf=qe(),Zse=qS(),$se=LV(),WV=ys(),ib=Mt(),eoe=UV(),toe=TS(),XC=xr(),xs=di(),Hf=WA(),noe=VV(),roe=PC(),ioe=GV(),sb=xS(),soe=qC(),ob=HV(),ooe=KC(),aoe=2147483647,Aoe=1e3,loe=30*60*1e3,ZC=new Map,coe=1<<24,uoe=1<<20,ab=class extends ooe.BaseSubchannelWrapper{constructor(e,n){super(e),this.channel=n,this.refCount=0,this.subchannelStateListener=(r,i,s,o)=>{n.throttleKeepalive(o)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},Ab=class{constructor(e,n,r){var i,s,o,a,A,l,c,u;if(this.credentials=n,this.options=r,this.connectivityState=xs.ConnectivityState.IDLE,this.currentPicker=new YV.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new Hf.ChannelzCallTracker,this.childrenTracker=new Hf.ChannelzChildrenTracker,typeof e!="string")throw new TypeError("Channel target must be a string");if(!(n instanceof jse.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let h=(0,XC.parseUri)(e);if(h===null)throw new Error(`Could not parse target name "${e}"`);let d=(0,WV.mapUriDefaultScheme)(h);if(d===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},aoe),(s=(i=this.callRefTimer).unref)===null||s===void 0||s.call(i),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Hf.ChannelzTrace,this.channelzRef=(0,Hf.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,WV.getDefaultAuthority)(d);let f=(0,toe.mapProxyName)(d,r);this.target=f.target,this.options=Object.assign({},this.options,f.extraOptions),this.subchannelPool=(0,Xse.getSubchannelPool)(((o=r["grpc.use_local_subchannel_pool"])!==null&&o!==void 0?o:0)===0),this.retryBufferTracker=new ob.MessageBufferTracker((a=r["grpc.retry_buffer_size"])!==null&&a!==void 0?a:coe,(A=r["grpc.per_rpc_retry_buffer_size"])!==null&&A!==void 0?A:uoe),this.keepaliveTime=(l=r["grpc.keepalive_time_ms"])!==null&&l!==void 0?l:-1,this.idleTimeoutMs=Math.max((c=r["grpc.client_idle_timeout_ms"])!==null&&c!==void 0?c:loe,Aoe);let g={createSubchannel:(y,I)=>{let _=this.subchannelPool.getOrCreateSubchannel(this.target,y,Object.assign({},this.options,I),this.credentials);_.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",_.getChannelzRef());let w=new ab(_,this);return this.wrappedSubchannels.add(w),w},updateState:(y,I)=>{this.currentPicker=I;let _=this.pickQueue.slice();this.pickQueue=[],_.length>0&&this.callRefTimerUnref();for(let w of _)w.doPick();this.updateState(y)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:y=>{this.channelzEnabled&&this.childrenTracker.refChild(y)},removeChannelzChild:y=>{this.channelzEnabled&&this.childrenTracker.unrefChild(y)}};this.resolvingLoadBalancer=new Kse.ResolvingLoadBalancer(this.target,g,r,(y,I)=>{y.retryThrottling?ZC.set(this.getTarget(),new ob.RetryThrottler(y.retryThrottling.maxTokens,y.retryThrottling.tokenRatio,ZC.get(this.getTarget()))):ZC.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=I,this.currentResolutionError=null,process.nextTick(()=>{let _=this.configSelectionQueue;this.configSelectionQueue=[],_.length>0&&this.callRefTimerUnref();for(let w of _)w.getConfig()})},y=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+y.code+' and details "'+y.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,soe.restrictControlPlaneStatusCode)(y.code,y.details)),{metadata:y.metadata}));let I=this.configSelectionQueue;this.configSelectionQueue=[],I.length>0&&this.callRefTimerUnref();for(let _ of I)_.reportResolverError(y)}),this.filterStackFactory=new Zse.FilterStackFactory([new eoe.MaxMessageSizeFilterFactory(this.options),new $se.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let m=new Error;(0,ib.trace)(Gf.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((u=m.stack)===null||u===void 0?void 0:u.substring(m.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,n){(0,ib.trace)(n??Gf.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,XC.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,n,r,i;!((n=(e=this.callRefTimer).hasRef)===null||n===void 0)&&n.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(r=this.callRefTimer).ref)===null||i===void 0||i.call(r))}callRefTimerUnref(){var e,n;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(n=(e=this.callRefTimer).unref)===null||n===void 0||n.call(e))}removeConnectivityStateWatcher(e){let n=this.connectivityStateWatchers.findIndex(r=>r===e);n>=0&&this.connectivityStateWatchers.splice(n,1)}updateState(e){(0,ib.trace)(Gf.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,XC.uriToString)(this.target)+" "+xs.ConnectivityState[this.connectivityState]+" -> "+xs.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+xs.ConnectivityState[e]),this.connectivityState=e;let n=this.connectivityStateWatchers.slice();for(let r of n)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==xs.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let n of this.wrappedSubchannels)n.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,n){return this.currentPicker.pick({metadata:e,extraPickInfo:n})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,n){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,n)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(xs.ConnectivityState.IDLE),this.currentPicker=new YV.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var n,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let s=new Date().valueOf()-this.lastActivityTimestamp.valueOf();s>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-s)},e),(r=(n=this.idleTimer).unref)===null||r===void 0||r.call(n)}maybeStartIdleTimer(){this.connectivityState!==xs.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===Gf.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,n,r,i,s){let o=(0,sb.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+n+'"'),new noe.LoadBalancingCall(this,e,n,r,i,s,o)}createRetryingCall(e,n,r,i,s){let o=(0,sb.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+n+'"'),new ob.RetryingCall(this,e,n,r,i,s,o,this.retryBufferTracker,ZC.get(this.getTarget()))}createInnerCall(e,n,r,i,s){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,n,r,i,s):this.createRetryingCall(e,n,r,i,s)}createResolvingCall(e,n,r,i,s){let o=(0,sb.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,roe.deadlineToString)(n));let a={deadline:n,flags:s??Gf.Propagate.DEFAULTS,host:r??this.defaultAuthority,parentCall:i},A=new ioe.ResolvingCall(this,e,a,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),A.addStatusWatcher(l=>{this.onCallEnd(l)}),A}close(){this.resolvingLoadBalancer.destroy(),this.updateState(xs.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,Hf.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,XC.uriToString)(this.target)}getConnectivityState(e){let n=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),n}watchConnectivityState(e,n,r){if(this.connectivityState===xs.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let i=null;if(n!==1/0){let o=n instanceof Date?n:new Date(n),a=new Date;if(n===-1/0||o<=a){process.nextTick(r,new Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(s),r(new Error("Deadline passed without connectivity state change"))},o.getTime()-a.getTime())}let s={currentState:e,callback:r,timer:i};this.connectivityStateWatchers.push(s)}getChannelzRef(){return this.channelzRef}createCall(e,n,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof n=="number"||n instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===xs.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,n,r,i,s)}};$C.InternalChannel=Ab});var hv=C(eI=>{"use strict";Object.defineProperty(eI,"__esModule",{value:!0});eI.ChannelImplementation=void 0;var hoe=Nm(),doe=JV(),lb=class{constructor(e,n,r){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(n instanceof hoe.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new doe.InternalChannel(e,n,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,n,r){this.internalChannel.watchConnectivityState(e,n,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,n,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof n=="number"||n instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,n,r,i,s)}};eI.ChannelImplementation=lb});var rq=C(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.Http2ServerCallStream=Bi.ServerDuplexStreamImpl=Bi.ServerWritableStreamImpl=Bi.ServerReadableStreamImpl=Bi.ServerUnaryCallImpl=void 0;var ZV=B("events"),lu=B("http2"),hb=B("stream"),$V=B("zlib"),eq=B("util"),Qt=qe(),db=er(),foe=NS(),tq=Mt(),Wf=Sm(),nq="server_call",goe=(0,eq.promisify)($V.unzip),poe=(0,eq.promisify)($V.inflate);function Yf(t){tq.trace(Qt.LogVerbosity.DEBUG,nq,t)}var Eoe="grpc-accept-encoding",moe="grpc-encoding",zV="grpc-message",jV="grpc-status",KV="grpc-timeout",Coe=/(\d{1,8})\s*([HMSmun])/,Ioe={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},yoe={[Eoe]:"identity,deflate,gzip",[moe]:"identity"},XV={[lu.constants.HTTP2_HEADER_STATUS]:lu.constants.HTTP_STATUS_OK,[lu.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},Boe={waitForTrailers:!0},cb=class extends ZV.EventEmitter{constructor(e,n,r){super(),this.call=e,this.metadata=n,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};Bi.ServerUnaryCallImpl=cb;var tI=class extends hb.Readable{constructor(e,n,r,i){super({objectMode:!0}),this.call=e,this.metadata=n,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};Bi.ServerReadableStreamImpl=tI;var Jf=class extends hb.Writable{constructor(e,n,r,i){super({objectMode:!0}),this.call=e,this.metadata=n,this.serialize=r,this.request=i,this.cancelled=!1,this.trailingMetadata=new db.Metadata,this.call.setupSurfaceCall(this),this.on("error",s=>{this.call.sendError(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,n,r){try{let i=this.call.serializeMessage(e);if(!this.call.write(i)){this.call.once("drain",r);return}}catch(i){this.emit("error",{details:(0,Wf.getErrorMessage)(i),code:Qt.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:Qt.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}};Bi.ServerWritableStreamImpl=Jf;var cu=class extends hb.Duplex{constructor(e,n,r,i,s){super({objectMode:!0}),this.call=e,this.metadata=n,this.serialize=r,this.deserialize=i,this.cancelled=!1,this.trailingMetadata=new db.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,s),this.on("error",o=>{this.call.sendError(o),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}};Bi.ServerDuplexStreamImpl=cu;cu.prototype._read=tI.prototype._read;cu.prototype._write=Jf.prototype._write;cu.prototype._final=Jf.prototype._final;var ub=class extends ZV.EventEmitter{constructor(e,n,r){super(),this.stream=e,this.handler=n,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=Qt.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=Qt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",i=>{}),this.stream.once("close",()=>{var i;Yf("Request to method "+((i=this.handler)===null||i===void 0?void 0:i.path)+" stream closed with rstCode "+this.stream.rstCode),this.statusSent||(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:Qt.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,n){return n==="deflate"?poe(e.subarray(5)):n==="gzip"?goe(e.subarray(5)):n==="identity"?e.subarray(5):Promise.reject({code:Qt.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${n}"`})}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let n=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},XV),yoe),n);this.stream.respond(r,Boe)}receiveMetadata(e){let n=db.Metadata.fromHttp2Headers(e);tq.isTracerEnabled(nq)&&Yf("Request to "+this.handler.path+" received headers "+JSON.stringify(n.toJSON()));let r=n.get(KV);if(r.length>0){let i=r[0].toString().match(Coe);if(i===null){let a=new Error("Invalid deadline");return a.code=Qt.Status.OUT_OF_RANGE,this.sendError(a),n}let s=+i[1]*Ioe[i[2]]|0,o=new Date;this.deadline=o.setMilliseconds(o.getMilliseconds()+s),this.deadlineTimer=setTimeout(Qoe,s,this),n.remove(KV)}return n.remove(lu.constants.HTTP2_HEADER_ACCEPT_ENCODING),n.remove(lu.constants.HTTP2_HEADER_TE),n.remove(lu.constants.HTTP2_HEADER_CONTENT_TYPE),n.remove("grpc-accept-encoding"),n}receiveUnaryMessage(e){return new Promise((n,r)=>{let{stream:i}=this,s=0,o=this,a=[],A=this.maxReceiveMessageSize;this.stream.on("data",l),this.stream.on("end",c),this.stream.on("error",c);function l(u){if(s+=u.byteLength,A!==-1&&s>A){i.removeListener("data",l),i.removeListener("end",c),i.removeListener("error",c),r({code:Qt.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s} vs. ${A})`});return}a.push(u)}function c(u){if(i.removeListener("data",l),i.removeListener("end",c),i.removeListener("error",c),u!==void 0){r({code:Qt.Status.INTERNAL,details:u.message});return}if(s===0){r({code:Qt.Status.INTERNAL,details:"received empty unary message"});return}o.emit("receiveMessage");let h=Buffer.concat(a,s),f=h.readUInt8(0)===1?e:"identity",g=o.getDecompressedMessage(h,f);if(Buffer.isBuffer(g)){n(o.deserializeMessageWithInternalError(g));return}g.then(m=>n(o.deserializeMessageWithInternalError(m)),m=>r(m.code?m:{code:Qt.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}})}deserializeMessageWithInternalError(e){return E(this,null,function*(){try{return this.deserializeMessage(e)}catch(n){throw{details:(0,Wf.getErrorMessage)(n),code:Qt.Status.INTERNAL}}})}serializeMessage(e){let n=this.handler.serialize(e),r=n.byteLength,i=Buffer.allocUnsafe(r+5);return i.writeUInt8(0,0),i.writeUInt32BE(r,1),n.copy(i,5),i}deserializeMessage(e){return this.handler.deserialize(e)}sendUnaryMessage(e,n,r,i){return E(this,null,function*(){if(!this.checkCancelled()){if(r===void 0&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let s=this.serializeMessage(n);this.write(s),this.sendStatus({code:Qt.Status.OK,details:"OK",metadata:r})}catch(s){this.sendError({details:(0,Wf.getErrorMessage)(s),code:Qt.Status.INTERNAL})}}})}sendStatus(e){var n,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===Qt.Status.OK),!this.checkCancelled())if(Yf("Request to method "+((n=this.handler)===null||n===void 0?void 0:n.path)+" ended with status code: "+Qt.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var i;let s=Object.assign({[jV]:e.code,[zV]:encodeURI(e.details)},(i=e.metadata)===null||i===void 0?void 0:i.toHttp2Headers());this.stream.sendTrailers(s),this.statusSent=!0}),this.stream.end());else{let i=Object.assign(Object.assign({[jV]:e.code,[zV]:encodeURI(e.details)},XV),(r=e.metadata)===null||r===void 0?void 0:r.toHttp2Headers());this.stream.respond(i,{endStream:!0}),this.statusSent=!0}}sendError(e){let n={code:Qt.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&e.metadata!==void 0?e.metadata:null};"code"in e&&typeof e.code=="number"&&Number.isInteger(e.code)&&(n.code=e.code,"details"in e&&typeof e.details=="string"&&(n.details=e.details)),this.sendStatus(n)}write(e){if(!this.checkCancelled()){if(this.maxSendMessageSize!==-1&&e.length>this.maxSendMessageSize){this.sendError({code:Qt.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",n=>{e.cancelled=!0,e.emit("cancelled",n)}),this.once("callEnd",n=>e.emit("callEnd",n))}setupReadable(e,n){let r=new foe.StreamDecoder,i=!1,s=!1,o=!1,a=()=>E(this,null,function*(){!o&&i&&!s&&(o=!0,yield this.pushOrBufferMessage(e,null))});this.stream.on("data",A=>E(this,null,function*(){let l=r.write(A);s=!0,this.stream.pause();for(let c of l){if(this.maxReceiveMessageSize!==-1&&c.length>this.maxReceiveMessageSize){this.sendError({code:Qt.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${c.length} vs. ${this.maxReceiveMessageSize})`});return}this.emit("receiveMessage");let h=c.readUInt8(0)===1?n:"identity",d=yield this.getDecompressedMessage(c,h);if(!d)return;yield this.pushOrBufferMessage(e,d)}s=!1,this.stream.resume(),yield a()})),this.stream.once("end",()=>E(this,null,function*(){i=!0,yield a()}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let n=this.messagesToPush.shift(),r=e.push(n);if(n===null||r===!1){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,n){return E(this,null,function*(){this.isPushPending?this.bufferedMessages.push(n):yield this.pushMessage(e,n)})}pushMessage(e,n){return E(this,null,function*(){if(n===null){Yf("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}Yf("Received message of length "+n.length),this.isPushPending=!0;try{let r=yield this.deserializeMessage(n);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let i=(0,Wf.getErrorCode)(r);(i===null||i<Qt.Status.OK||i>Qt.Status.UNAUTHENTICATED)&&(i=Qt.Status.INTERNAL),e.emit("error",{details:(0,Wf.getErrorMessage)(r),code:i})}this.isPushPending=!1,this.bufferedMessages.length>0&&(yield this.pushMessage(e,this.bufferedMessages.shift()))})}getPeer(){var e;let n=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return n?.remoteAddress?n.remotePort?`${n.remoteAddress}:${n.remotePort}`:n.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};Bi.Http2ServerCallStream=ub;function Qoe(t){let e=new Error("Deadline exceeded");e.code=Qt.Status.DEADLINE_EXCEEDED,t.sendError(e),t.cancelled=!0,t.emit("cancelled","deadline")}});var pb=C(nI=>{"use strict";Object.defineProperty(nI,"__esModule",{value:!0});nI.ServerCredentials=void 0;var iq=M_(),zf=class{static createInsecure(){return new fb}static createSsl(e,n,r=!1){if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(n))throw new TypeError("keyCertPairs must be an array");if(typeof r!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let i=[],s=[];for(let o=0;o<n.length;o++){let a=n[o];if(a===null||typeof a!="object")throw new TypeError(`keyCertPair[${o}] must be an object`);if(!Buffer.isBuffer(a.private_key))throw new TypeError(`keyCertPair[${o}].private_key must be a Buffer`);if(!Buffer.isBuffer(a.cert_chain))throw new TypeError(`keyCertPair[${o}].cert_chain must be a Buffer`);i.push(a.cert_chain),s.push(a.private_key)}return new gb({ca:e||(0,iq.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:iq.CIPHER_SUITES})}};nI.ServerCredentials=zf;var fb=class extends zf{_isSecure(){return!1}_getSettings(){return null}},gb=class extends zf{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}});var aq=C(sI=>{"use strict";Object.defineProperty(sI,"__esModule",{value:!0});sI.Server=void 0;var ka=B("http2"),vo=qe(),zA=rq(),woe=pb(),sq=ys(),rI=Mt(),Ki=Qs(),_oe=xr(),Br=WA(),iI=~(1<<31),voe=~(1<<31),Soe=2e4,{HTTP2_HEADER_PATH:oq}=ka.constants,boe="server";function Doe(){}function Eb(t){return{code:vo.Status.UNIMPLEMENTED,details:`The server does not implement the method ${t}`}}function Roe(t,e){let n=Eb(e);switch(t){case"unary":return(r,i)=>{i(n,null)};case"clientStream":return(r,i)=>{i(n,null)};case"serverStream":return r=>{r.emit("error",n)};case"bidi":return r=>{r.emit("error",n)};default:throw new Error(`Invalid handlerType ${t}`)}}var mb=class{constructor(e){var n,r,i,s;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new Br.ChannelzTrace,this.callTracker=new Br.ChannelzCallTracker,this.listenerChildrenTracker=new Br.ChannelzChildrenTracker,this.sessionChildrenTracker=new Br.ChannelzChildrenTracker,this.options=e??{},this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,Br.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(n=this.options["grpc.max_connection_age_ms"])!==null&&n!==void 0?n:iI,this.maxConnectionAgeGraceMs=(r=this.options["grpc.max_connection_age_grace_ms"])!==null&&r!==void 0?r:iI,this.keepaliveTimeMs=(i=this.options["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:voe,this.keepaliveTimeoutMs=(s=this.options["grpc.keepalive_timeout_ms"])!==null&&s!==void 0?s:Soe,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var n,r,i;let s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,Ki.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,A=o.localAddress?(0,Ki.stringToSubchannelAddress)(o.localAddress,o.localPort):null,l;if(e.encrypted){let u=o,h=u.getCipher(),d=u.getCertificate(),f=u.getPeerCertificate();l={cipherSuiteStandardName:(n=h.standardName)!==null&&n!==void 0?n:null,cipherSuiteOtherName:h.standardName?null:h.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:f&&"raw"in f?f.raw:null}}else l=null;return{remoteAddress:a,localAddress:A,security:l,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:(r=e.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(i=e.state.remoteWindowSize)!==null&&i!==void 0?i:null}}}trace(e){rI.trace(vo.LogVerbosity.DEBUG,boe,"("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,n){if(e===null||typeof e!="object"||n===null||typeof n!="object")throw new Error("addService() requires two objects as arguments");let r=Object.keys(e);if(r.length===0)throw new Error("Cannot add an empty service to a server");r.forEach(i=>{let s=e[i],o;s.requestStream?s.responseStream?o="bidi":o="clientStream":s.responseStream?o="serverStream":o="unary";let a=n[i],A;if(a===void 0&&typeof s.originalName=="string"&&(a=n[s.originalName]),a!==void 0?A=a.bind(n):A=Roe(o,i),this.register(s.path,A,s.responseSerialize,s.requestDeserialize,o)===!1)throw new Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(e===null||typeof e!="object")throw new Error("removeService() requires object as argument");Object.keys(e).forEach(r=>{let i=e[r];this.unregister(i.path)})}bind(e,n){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,n,r){if(this.started===!0)throw new Error("server is already started");if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof e!="string")throw new TypeError("port must be a string");if(n===null||!(n instanceof woe.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof r!="function")throw new TypeError("callback must be a function");let i=(0,_oe.parseUri)(e);if(i===null)throw new Error(`Could not parse port "${e}"`);let s=(0,sq.mapUriDefaultScheme)(i);if(s===null)throw new Error(`Could not get a default scheme for port "${e}"`);let o={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?o.maxSessionMemory=this.options["grpc-node.max_session_memory"]:o.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(o.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let a=(d,f)=>{process.nextTick(()=>r(d,f))},A=()=>{let d;if(n._isSecure()){let f=Object.assign(o,n._getSettings());f.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,d=ka.createSecureServer(f),d.on("secureConnection",g=>{g.on("error",m=>{this.trace("An incoming TLS connection closed with error: "+m.message)})})}else d=ka.createServer(o);return d.setTimeout(0,Doe),this._setupHandlers(d),d},l=(d,f,g)=>d.length===0?Promise.resolve({port:f,count:g}):Promise.all(d.map(m=>{this.trace("Attempting to bind "+(0,Ki.subchannelAddressToString)(m));let y;(0,Ki.isTcpSubchannelAddress)(m)?y={host:m.host,port:f}:y=m;let I=A();return new Promise((_,w)=>{let S=T=>{this.trace("Failed to bind "+(0,Ki.subchannelAddressToString)(m)+" with error "+T.message),_(T)};I.once("error",S),I.listen(y,()=>{if(this.shutdown){I.close(),_(new Error("bindAsync failed because server is shutdown"));return}let T=I.address(),Z;typeof T=="string"?Z={path:T}:Z={host:T.address,port:T.port};let pe=(0,Br.registerChannelzSocket)((0,Ki.subchannelAddressToString)(Z),()=>({localAddress:Z,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(pe),this.http2ServerList.push({server:I,channelzRef:pe}),this.trace("Successfully bound "+(0,Ki.subchannelAddressToString)(Z)),_("port"in Z?Z.port:f),I.removeListener("error",S)})})})).then(m=>{let y=0;for(let I of m)if(typeof I=="number"&&(y+=1,I!==f))throw new Error("Invalid state: multiple port numbers added from single address");return{port:f,count:y+g}}),c=d=>{if(d.length===0)return Promise.resolve({port:0,count:0});let f=d[0],g=A();return new Promise((m,y)=>{let I=_=>{this.trace("Failed to bind "+(0,Ki.subchannelAddressToString)(f)+" with error "+_.message),m(c(d.slice(1)))};g.once("error",I),g.listen(f,()=>{if(this.shutdown){g.close(),m({port:0,count:0});return}let _=g.address(),w={host:_.address,port:_.port},S=(0,Br.registerChannelzSocket)((0,Ki.subchannelAddressToString)(w),()=>({localAddress:w,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(S),this.http2ServerList.push({server:g,channelzRef:S}),this.trace("Successfully bound "+(0,Ki.subchannelAddressToString)(w)),m(l(d.slice(1),_.port,1)),g.removeListener("error",I)})})},u={onSuccessfulResolution:(d,f,g)=>{if(u.onSuccessfulResolution=()=>{},this.shutdown&&a(new Error("bindAsync failed because server is shutdown"),0),d.length===0){a(new Error(`No addresses resolved for port ${e}`),0);return}let m;(0,Ki.isTcpSubchannelAddress)(d[0])?d[0].port===0?m=c(d):m=l(d,d[0].port,0):m=l(d,1,0),m.then(y=>{if(y.count===0){let I=`No address added out of total ${d.length} resolved`;rI.log(vo.LogVerbosity.ERROR,I),a(new Error(I),0)}else y.count<d.length&&rI.log(vo.LogVerbosity.INFO,`WARNING Only ${y.count} addresses added out of total ${d.length} resolved`),a(null,y.port)},y=>{let I=`No address added out of total ${d.length} resolved`;rI.log(vo.LogVerbosity.ERROR,I),a(new Error(I),0)})},onError:d=>{a(new Error(d.details),0)}};(0,sq.createResolver)(s,u,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:n}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(n),(0,Br.unregisterChannelzRef)(n))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,n)=>{n.destroy(ka.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,Br.unregisterChannelzRef)(this.channelzRef)}register(e,n,r,i,s){return this.handlers.has(e)?!1:(this.handlers.set(e,{func:n,serialize:r,deserialize:i,type:s,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:e})=>e.listening!==!0))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let n=s=>{this.channelzEnabled&&(0,Br.unregisterChannelzRef)(this.channelzRef),e(s)},r=0;function i(){r--,r===0&&n()}this.started=!1,this.shutdown=!0;for(let{server:s,channelzRef:o}of this.http2ServerList)s.listening&&(r++,s.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(o),(0,Br.unregisterChannelzRef)(o)),i()}));this.sessions.forEach((s,o)=>{o.closed||(r+=1,o.close(i))}),r===0&&n()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,n){let r=n[ka.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof r!="string"||!r.startsWith("application/grpc")?(e.respond({[ka.constants.HTTP2_HEADER_STATUS]:ka.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let n=this.handlers.get(e);return n===void 0?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):n}_respondWithError(e,n,r=null){let i=new zA.Http2ServerCallStream(n,null,this.options);e.code===void 0&&(e.code=vo.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed()),i.sendError(e)}_channelzHandler(e,n){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),r?.streamTracker.addCallStarted(),!this._verifyContentType(e,n)){this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed();return}let i=n[oq],s=this._retrieveHandler(i);if(!s){this._respondWithError(Eb(i),e,r);return}let o=new zA.Http2ServerCallStream(e,s,this.options);o.once("callEnd",a=>{a===vo.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(o.once("streamEnd",a=>{a?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),o.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),o.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(o,s,n)||(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed(),o.sendError({code:vo.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,n){if(this._verifyContentType(e,n)!==!0)return;let r=n[oq],i=this._retrieveHandler(r);if(!i){this._respondWithError(Eb(r),e,null);return}let s=new zA.Http2ServerCallStream(e,i,this.options);this._runHandlerForCall(s,i,n)||s.sendError({code:vo.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,n,r){var i;let s=e.receiveMetadata(r),o=(i=s.get("grpc-encoding")[0])!==null&&i!==void 0?i:"identity";s.remove("grpc-encoding");let{type:a}=n;if(a==="unary")Toe(e,n,s,o);else if(a==="clientStream")koe(e,n,s,o);else if(a==="serverStream")Noe(e,n,s,o);else if(a==="bidi")Foe(e,n,s,o);else return!1;return!0}_setupHandlers(e){if(e===null)return;let n=e.address(),r="null";n&&(typeof n=="string"?r=n:r=n.address+":"+n.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",s=>{var o,a,A,l,c;if(!this.started){s.destroy();return}let u=(0,Br.registerChannelzSocket)((o=s.socket.remoteAddress)!==null&&o!==void 0?o:"unknown",this.getChannelzSessionInfoGetter(s),this.channelzEnabled),h={ref:u,streamTracker:new Br.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(s,h);let d=s.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+d),this.sessionChildrenTracker.refChild(u));let f=null,g=null,m=!1;if(this.maxConnectionAgeMs!==iI){let I=this.maxConnectionAgeMs/10,_=Math.random()*I*2-I;f=(A=(a=setTimeout(()=>{var w,S;m=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+d);try{s.goaway(ka.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch{s.destroy();return}s.close(),this.maxConnectionAgeGraceMs!==iI&&(g=(S=(w=setTimeout(()=>{s.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||S===void 0?void 0:S.call(w))},this.maxConnectionAgeMs+_)).unref)===null||A===void 0?void 0:A.call(a)}let y=(c=(l=setInterval(()=>{var I,_;let w=(_=(I=setTimeout(()=>{m=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+d),s.close()},this.keepaliveTimeoutMs)).unref)===null||_===void 0?void 0:_.call(I);try{s.ping((S,T,Z)=>{clearTimeout(w)})}catch{s.destroy()}},this.keepaliveTimeMs)).unref)===null||c===void 0?void 0:c.call(l);s.on("close",()=>{this.channelzEnabled&&(m||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+d),this.sessionChildrenTracker.unrefChild(u),(0,Br.unregisterChannelzRef)(u)),f&&clearTimeout(f),g&&clearTimeout(g),y&&clearTimeout(y),this.sessions.delete(s)})})}};sI.Server=mb;function Toe(t,e,n,r){return E(this,null,function*(){try{let i=yield t.receiveUnaryMessage(r);if(i===void 0||t.cancelled)return;let s=new zA.ServerUnaryCallImpl(t,n,i);e.func(s,(o,a,A,l)=>{t.sendUnaryMessage(o,a,A,l)})}catch(i){t.sendError(i)}})}function koe(t,e,n,r){let i=new zA.ServerReadableStreamImpl(t,n,e.deserialize,r);function s(o,a,A,l){i.destroy(),t.sendUnaryMessage(o,a,A,l)}t.cancelled||(i.on("error",s),e.func(i,s))}function Noe(t,e,n,r){return E(this,null,function*(){try{let i=yield t.receiveUnaryMessage(r);if(i===void 0||t.cancelled)return;let s=new zA.ServerWritableStreamImpl(t,n,e.serialize,i);e.func(s)}catch(i){t.sendError(i)}})}function Foe(t,e,n,r){let i=new zA.ServerDuplexStreamImpl(t,n,e.serialize,e.deserialize,r);t.cancelled||e.func(i)}});var Aq=C(oI=>{"use strict";Object.defineProperty(oI,"__esModule",{value:!0});oI.StatusBuilder=void 0;var Cb=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};oI.StatusBuilder=Cb});var Ib=C(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.isDuration=Na.durationToMs=Na.msToDuration=void 0;function xoe(t){return{seconds:t/1e3|0,nanos:t%1e3*1e6|0}}Na.msToDuration=xoe;function Moe(t){return t.seconds*1e3+t.nanos/1e6|0}Na.durationToMs=Moe;function Loe(t){return typeof t.seconds=="number"&&typeof t.nanos=="number"}Na.isDuration=Loe});var bb=C(Fa=>{"use strict";var yb;Object.defineProperty(Fa,"__esModule",{value:!0});Fa.setup=Fa.OutlierDetectionLoadBalancer=Fa.OutlierDetectionLoadBalancingConfig=void 0;var AI=di(),cq=qe(),jA=Ib(),uq=Db(),hq=ca(),Ooe=Pm(),Uoe=fa(),lq=Qs(),Poe=KC(),Voe=Mt(),qoe="outlier_detection";function En(t){Voe.trace(cq.LogVerbosity.DEBUG,qoe,t)}var Sb="outlier_detection",Goe=((yb=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&yb!==void 0?yb:"true")==="true",Hoe={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},Yoe={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function uu(t,e,n,r){if(e in t&&typeof t[e]!==n){let i=r?`${r}.${e}`:e;throw new Error(`outlier detection config ${i} parse error: expected ${n}, got ${typeof t[e]}`)}}function Bb(t,e,n){let r=n?`${n}.${e}`:e;if(e in t){if(!(0,jA.isDuration)(t[e]))throw new Error(`outlier detection config ${r} parse error: expected Duration, got ${typeof t[e]}`);if(!(t[e].seconds>=0&&t[e].seconds<=315576e6&&t[e].nanos>=0&&t[e].nanos<=999999999))throw new Error(`outlier detection config ${r} parse error: values out of range for non-negative Duaration`)}}function aI(t,e,n){let r=n?`${n}.${e}`:e;if(uu(t,e,"number",n),e in t&&!(t[e]>=0&&t[e]<=100))throw new Error(`outlier detection config ${r} parse error: value out of range for percentage (0-100)`)}var jf=class t{constructor(e,n,r,i,s,o,a){if(this.childPolicy=a,a.length>0&&a[0].getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=n??3e4,this.maxEjectionTimeMs=r??3e5,this.maxEjectionPercent=i??10,this.successRateEjection=s?Object.assign(Object.assign({},Hoe),s):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},Yoe),o):null}getLoadBalancerName(){return Sb}toJsonObject(){return{interval:(0,jA.msToDuration)(this.intervalMs),base_ejection_time:(0,jA.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,jA.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new t(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var n;if(Bb(e,"interval"),Bb(e,"base_ejection_time"),Bb(e,"max_ejection_time"),aI(e,"max_ejection_percent"),"success_rate_ejection"in e){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");uu(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),aI(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),uu(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),uu(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");aI(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),aI(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),uu(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),uu(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new t(e.interval?(0,jA.durationToMs)(e.interval):null,e.base_ejection_time?(0,jA.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,jA.durationToMs)(e.max_ejection_time):null,(n=e.max_ejection_percent)!==null&&n!==void 0?n:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(hq.validateLoadBalancingConfig))}};Fa.OutlierDetectionLoadBalancingConfig=jf;var wb=class extends Poe.BaseSubchannelWrapper{constructor(e,n){super(e),this.mapEntry=n,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((r,i,s,o)=>{if(this.childSubchannelState=s,!this.ejected)for(let a of this.stateListeners)a(this,i,s,o)})}getConnectivityState(){return this.ejected?AI.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let n=this.stateListeners.indexOf(e);n>-1&&this.stateListeners.splice(n,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.ejected=!0;for(let e of this.stateListeners)e(this,this.childSubchannelState,AI.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){this.ejected=!1;for(let e of this.stateListeners)e(this,AI.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function Qb(){return{success:0,failure:0}}var _b=class{constructor(){this.activeBucket=Qb(),this.inactiveBucket=Qb()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=Qb()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},vb=class{constructor(e,n){this.wrappedPicker=e,this.countCalls=n}pick(e){let n=this.wrappedPicker.pick(e);if(n.pickResultType===Uoe.PickResultType.COMPLETE){let r=n.subchannel,i=r.getMapEntry();if(i){let s=n.onCallEnded;return this.countCalls&&(s=o=>{var a;o===cq.Status.OK?i.counter.addSuccess():i.counter.addFailure(),(a=n.onCallEnded)===null||a===void 0||a.call(n,o)}),Object.assign(Object.assign({},n),{subchannel:r.getWrappedSubchannel(),onCallEnded:s})}else return Object.assign(Object.assign({},n),{subchannel:r.getWrappedSubchannel()})}else return n}},lI=class{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new Ooe.ChildLoadBalancerHandler((0,uq.createChildChannelControlHelper)(e,{createSubchannel:(n,r)=>{let i=e.createSubchannel(n,r),s=this.addressMap.get((0,lq.subchannelAddressToString)(n)),o=new wb(i,s);return s?.currentEjectionTimestamp!==null&&o.eject(),s?.subchannelWrappers.push(o),o},updateState:(n,r)=>{n===AI.ConnectivityState.READY?e.updateState(n,new vb(r,this.isCountingEnabled())):e.updateState(n,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let n of this.addressMap.values())n.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let n=this.latestConfig.getSuccessRateEjectionConfig();if(!n)return;En("Running success rate check");let r=n.request_volume,i=0,s=[];for(let[u,h]of this.addressMap){let d=h.counter.getLastSuccesses(),f=h.counter.getLastFailures();En("Stats for "+u+": successes="+d+" failures="+f+" targetRequestVolume="+r),d+f>=r&&(i+=1,s.push(d/(d+f)))}if(En("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+s+"]"),i<n.minimum_hosts)return;let o=s.reduce((u,h)=>u+h)/s.length,a=0;for(let u of s){let h=u-o;a+=h*h}let A=a/s.length,l=Math.sqrt(A),c=o-l*(n.stdev_factor/1e3);En("stdev="+l+" ejectionThreshold="+c);for(let[u,h]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let d=h.counter.getLastSuccesses(),f=h.counter.getLastFailures();if(d+f<r)continue;let g=d/(d+f);if(En("Checking candidate "+u+" successRate="+g),g<c){let m=Math.random()*100;En("Candidate "+u+" randomNumber="+m+" enforcement_percentage="+n.enforcement_percentage),m<n.enforcement_percentage&&(En("Ejecting candidate "+u),this.eject(h,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let n=this.latestConfig.getFailurePercentageEjectionConfig();if(!n)return;En("Running failure percentage check. threshold="+n.threshold+" request volume threshold="+n.request_volume);let r=0;for(let i of this.addressMap.values()){let s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();s+o>=n.request_volume&&(r+=1)}if(!(r<n.minimum_hosts))for(let[i,s]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=s.counter.getLastSuccesses(),a=s.counter.getLastFailures();if(En("Candidate successes="+o+" failures="+a),o+a<n.request_volume)continue;if(a*100/(a+o)>n.threshold){let l=Math.random()*100;En("Candidate "+i+" randomNumber="+l+" enforcement_percentage="+n.enforcement_percentage),l<n.enforcement_percentage&&(En("Ejecting candidate "+i),this.eject(s,e))}}}eject(e,n){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let r of e.subchannelWrappers)r.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let n of e.subchannelWrappers)n.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var n,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(r=(n=this.ejectionTimer).unref)===null||r===void 0||r.call(n)}runChecks(){let e=new Date;if(En("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[n,r]of this.addressMap.entries())if(r.currentEjectionTimestamp===null)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let i=this.latestConfig.getBaseEjectionTimeMs(),s=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(r.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(i*r.ejectionTimeMultiplier,Math.max(i,s))),o<new Date&&(En("Unejecting "+n),this.uneject(r))}}}updateAddressList(e,n,r){if(!(n instanceof jf))return;let i=new Set;for(let o of e)i.add((0,lq.subchannelAddressToString)(o));for(let o of i)this.addressMap.has(o)||(En("Adding map entry for "+o),this.addressMap.set(o,{counter:new _b,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let o of this.addressMap.keys())i.has(o)||(En("Removing map entry for "+o),this.addressMap.delete(o));let s=(0,hq.getFirstUsableConfig)(n.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,s,r),n.getSuccessRateEjectionConfig()||n.getFailurePercentageEjectionConfig())if(this.timerStartTime){En("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let o=n.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(o)}else En("Starting new timer"),this.timerStartTime=new Date,this.startTimer(n.getIntervalMs()),this.switchAllBuckets();else{En("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let o of this.addressMap.values())this.uneject(o),o.ejectionTimeMultiplier=0}this.latestConfig=n}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return Sb}};Fa.OutlierDetectionLoadBalancer=lI;function Woe(){Goe&&(0,uq.registerLoadBalancerType)(Sb,lI,jf)}Fa.setup=Woe});var Db=C(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.OutlierDetectionLoadBalancingConfig=Ee.BaseSubchannelWrapper=Ee.registerAdminService=Ee.FilterStackFactory=Ee.BaseFilter=Ee.PickResultType=Ee.QueuePicker=Ee.UnavailablePicker=Ee.ChildLoadBalancerHandler=Ee.subchannelAddressToString=Ee.validateLoadBalancingConfig=Ee.getFirstUsableConfig=Ee.registerLoadBalancerType=Ee.createChildChannelControlHelper=Ee.BackoffTimeout=Ee.durationToMs=Ee.uriToString=Ee.createResolver=Ee.registerResolver=Ee.log=Ee.trace=void 0;var dq=Mt();Object.defineProperty(Ee,"trace",{enumerable:!0,get:function(){return dq.trace}});Object.defineProperty(Ee,"log",{enumerable:!0,get:function(){return dq.log}});var fq=ys();Object.defineProperty(Ee,"registerResolver",{enumerable:!0,get:function(){return fq.registerResolver}});Object.defineProperty(Ee,"createResolver",{enumerable:!0,get:function(){return fq.createResolver}});var Joe=xr();Object.defineProperty(Ee,"uriToString",{enumerable:!0,get:function(){return Joe.uriToString}});var zoe=Ib();Object.defineProperty(Ee,"durationToMs",{enumerable:!0,get:function(){return zoe.durationToMs}});var joe=Ef();Object.defineProperty(Ee,"BackoffTimeout",{enumerable:!0,get:function(){return joe.BackoffTimeout}});var cI=ca();Object.defineProperty(Ee,"createChildChannelControlHelper",{enumerable:!0,get:function(){return cI.createChildChannelControlHelper}});Object.defineProperty(Ee,"registerLoadBalancerType",{enumerable:!0,get:function(){return cI.registerLoadBalancerType}});Object.defineProperty(Ee,"getFirstUsableConfig",{enumerable:!0,get:function(){return cI.getFirstUsableConfig}});Object.defineProperty(Ee,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return cI.validateLoadBalancingConfig}});var Koe=Qs();Object.defineProperty(Ee,"subchannelAddressToString",{enumerable:!0,get:function(){return Koe.subchannelAddressToString}});var Xoe=Pm();Object.defineProperty(Ee,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return Xoe.ChildLoadBalancerHandler}});var Rb=fa();Object.defineProperty(Ee,"UnavailablePicker",{enumerable:!0,get:function(){return Rb.UnavailablePicker}});Object.defineProperty(Ee,"QueuePicker",{enumerable:!0,get:function(){return Rb.QueuePicker}});Object.defineProperty(Ee,"PickResultType",{enumerable:!0,get:function(){return Rb.PickResultType}});var Zoe=xC();Object.defineProperty(Ee,"BaseFilter",{enumerable:!0,get:function(){return Zoe.BaseFilter}});var $oe=qS();Object.defineProperty(Ee,"FilterStackFactory",{enumerable:!0,get:function(){return $oe.FilterStackFactory}});var eae=qm();Object.defineProperty(Ee,"registerAdminService",{enumerable:!0,get:function(){return eae.registerAdminService}});var tae=KC();Object.defineProperty(Ee,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return tae.BaseSubchannelWrapper}});var nae=bb();Object.defineProperty(Ee,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return nae.OutlierDetectionLoadBalancingConfig}})});var gq=C(uI=>{"use strict";Object.defineProperty(uI,"__esModule",{value:!0});uI.setup=void 0;var rae=ys(),Tb=class{constructor(e,n,r){this.listener=n,this.addresses=[],this.hasReturnedResult=!1;let i;e.authority===""?i="/"+e.path:i=e.path,this.addresses=[{path:i}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}};function iae(){(0,rae.registerResolver)("unix",Tb)}uI.setup=iae});var Iq=C(fI=>{"use strict";Object.defineProperty(fI,"__esModule",{value:!0});fI.setup=void 0;var pq=B("net"),hI=qe(),kb=er(),Eq=ys(),mq=xr(),sae=Mt(),oae="ip_resolver";function Cq(t){sae.trace(hI.LogVerbosity.DEBUG,oae,t)}var Nb="ipv4",Fb="ipv6",aae=443,dI=class{constructor(e,n,r){var i;this.listener=n,this.addresses=[],this.error=null,this.hasReturnedResult=!1,Cq("Resolver constructed for target "+(0,mq.uriToString)(e));let s=[];if(!(e.scheme===Nb||e.scheme===Fb)){this.error={code:hI.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new kb.Metadata};return}let o=e.path.split(",");for(let a of o){let A=(0,mq.splitHostPort)(a);if(A===null){this.error={code:hI.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new kb.Metadata};return}if(e.scheme===Nb&&!(0,pq.isIPv4)(A.host)||e.scheme===Fb&&!(0,pq.isIPv6)(A.host)){this.error={code:hI.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new kb.Metadata};return}s.push({host:A.host,port:(i=A.port)!==null&&i!==void 0?i:aae})}this.addresses=s,Cq("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function Aae(){(0,Eq.registerResolver)(Nb,dI),(0,Eq.registerResolver)(Fb,dI)}fI.setup=Aae});var Qq=C(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.setup=Ms.PickFirstLoadBalancer=Ms.shuffled=Ms.PickFirstLoadBalancingConfig=void 0;var yq=ca(),Hn=di(),gI=fa(),lae=Mt(),cae=qe(),uae="pick_first";function xb(t){lae.trace(cae.LogVerbosity.DEBUG,uae,t)}var Kf="pick_first",hae=250,Xf=class t{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return Kf}toJsonObject(){return{[Kf]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new t(e.shuffleAddressList===!0)}};Ms.PickFirstLoadBalancingConfig=Xf;var Mb=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:gI.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function Bq(t){let e=t.slice();for(let n=e.length-1;n>1;n--){let r=Math.floor(Math.random()*(n+1)),i=e[n];e[n]=e[r],e[r]=i}return e}Ms.shuffled=Bq;var pI=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=Hn.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(n,r,i,s,o)=>{this.onSubchannelStateUpdate(n,r,i,o)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(Hn.ConnectivityState.READY,new Mb(this.currentPick)):this.children.length===0?this.updateState(Hn.ConnectivityState.IDLE,new gI.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(Hn.ConnectivityState.TRANSIENT_FAILURE,new gI.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Hn.ConnectivityState.CONNECTING,new gI.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,n,r,i){var s;if(!((s=this.currentPick)===null||s===void 0)&&s.realSubchannelEquals(e)){r!==Hn.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[o,a]of this.children.entries())if(e.realSubchannelEquals(a.subchannel)){r===Hn.ConnectivityState.READY&&this.pickSubchannel(a.subchannel),r===Hn.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),a.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[n,r]of this.children.entries())if(n>=e){let i=r.subchannel.getConnectivityState();if(i===Hn.ConnectivityState.IDLE||i===Hn.ConnectivityState.CONNECTING){this.startConnecting(n);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var n,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===Hn.ConnectivityState.IDLE&&(xb("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var i;(i=this.children[e])===null||i===void 0||i.subchannel.startConnecting()})),this.connectionDelayTimeout=(r=(n=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},hae)).unref)===null||r===void 0?void 0:r.call(n)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(xb("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.currentPick!==null&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,n){xb(Hn.ConnectivityState[this.currentState]+" -> "+Hn.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,n)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let n=e.map(r=>({subchannel:this.channelControlHelper.createSubchannel(r,{}),hasReportedTransientFailure:!1}));for(let{subchannel:r}of n)r.ref(),this.channelControlHelper.addChannelzChild(r.getChannelzRef());this.resetSubchannelList(),this.children=n;for(let{subchannel:r}of this.children)if(r.addConnectivityStateListener(this.subchannelStateListener),r.getConnectivityState()===Hn.ConnectivityState.READY){this.pickSubchannel(r);return}for(let r of this.children)r.subchannel.getConnectivityState()===Hn.ConnectivityState.TRANSIENT_FAILURE&&(r.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,n){n instanceof Xf&&(n.getShuffleAddressList()&&(e=Bq(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===Hn.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return Kf}};Ms.PickFirstLoadBalancer=pI;function dae(){(0,yq.registerLoadBalancerType)(Kf,pI,Xf),(0,yq.registerDefaultLoadBalancerType)(Kf)}Ms.setup=dae});var _q=C(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.setup=hu.RoundRobinLoadBalancer=void 0;var fae=ca(),Yn=di(),EI=fa(),gae=Qs(),pae=Mt(),Eae=qe(),mae="round_robin";function wq(t){pae.trace(Eae.LogVerbosity.DEBUG,mae,t)}var mI="round_robin",Lb=class t{getLoadBalancerName(){return mI}constructor(){}toJsonObject(){return{[mI]:{}}}static createFromJson(e){return new t}},Ob=class{constructor(e,n=0){this.subchannelList=e,this.nextIndex=n}pick(e){let n=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:EI.PickResultType.COMPLETE,subchannel:n,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}},CI=class{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=Yn.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(n,r,i,s,o)=>{this.calculateAndUpdateState(),(i===Yn.ConnectivityState.TRANSIENT_FAILURE||i===Yn.ConnectivityState.IDLE)&&(o&&(this.lastError=o),this.channelControlHelper.requestReresolution(),n.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(n=>n.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(Yn.ConnectivityState.READY)>0){let e=this.subchannels.filter(r=>r.getConnectivityState()===Yn.ConnectivityState.READY),n=0;this.currentReadyPicker!==null&&(n=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),n<0&&(n=0)),this.updateState(Yn.ConnectivityState.READY,new Ob(e,n))}else this.countSubchannelsWithState(Yn.ConnectivityState.CONNECTING)>0?this.updateState(Yn.ConnectivityState.CONNECTING,new EI.QueuePicker(this)):this.countSubchannelsWithState(Yn.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(Yn.ConnectivityState.TRANSIENT_FAILURE,new EI.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Yn.ConnectivityState.IDLE,new EI.QueuePicker(this))}updateState(e,n){wq(Yn.ConnectivityState[this.currentState]+" -> "+Yn.ConnectivityState[e]),e===Yn.ConnectivityState.READY?this.currentReadyPicker=n:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,n)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,n){this.resetSubchannelList(),wq("Connect to address list "+e.map(r=>(0,gae.subchannelAddressToString)(r))),this.subchannels=e.map(r=>this.channelControlHelper.createSubchannel(r,{}));for(let r of this.subchannels){r.ref(),r.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(r.getChannelzRef());let i=r.getConnectivityState();(i===Yn.ConnectivityState.IDLE||i===Yn.ConnectivityState.TRANSIENT_FAILURE)&&r.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return mI}};hu.RoundRobinLoadBalancer=CI;function Cae(){(0,fae.registerLoadBalancerType)(mI,CI,Lb)}hu.setup=Cae});var Dq=C(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.experimental=j.addAdminServicesToServer=j.getChannelzHandlers=j.getChannelzServiceDefinition=j.InterceptorConfigurationError=j.InterceptingCall=j.RequesterBuilder=j.ListenerBuilder=j.StatusBuilder=j.getClientChannel=j.ServerCredentials=j.Server=j.setLogVerbosity=j.setLogger=j.load=j.loadObject=j.CallCredentials=j.ChannelCredentials=j.waitForClientReady=j.closeClient=j.Channel=j.makeGenericClientConstructor=j.makeClientConstructor=j.loadPackageDefinition=j.Client=j.compressionAlgorithms=j.propagate=j.connectivityState=j.status=j.logVerbosity=j.Metadata=j.credentials=void 0;var II=F_();Object.defineProperty(j,"CallCredentials",{enumerable:!0,get:function(){return II.CallCredentials}});var Iae=hv();Object.defineProperty(j,"Channel",{enumerable:!0,get:function(){return Iae.ChannelImplementation}});var yae=GS();Object.defineProperty(j,"compressionAlgorithms",{enumerable:!0,get:function(){return yae.CompressionAlgorithms}});var Bae=di();Object.defineProperty(j,"connectivityState",{enumerable:!0,get:function(){return Bae.ConnectivityState}});var yI=Nm();Object.defineProperty(j,"ChannelCredentials",{enumerable:!0,get:function(){return yI.ChannelCredentials}});var vq=uv();Object.defineProperty(j,"Client",{enumerable:!0,get:function(){return vq.Client}});var Ub=qe();Object.defineProperty(j,"logVerbosity",{enumerable:!0,get:function(){return Ub.LogVerbosity}});Object.defineProperty(j,"status",{enumerable:!0,get:function(){return Ub.Status}});Object.defineProperty(j,"propagate",{enumerable:!0,get:function(){return Ub.Propagate}});var Sq=Mt(),Pb=fv();Object.defineProperty(j,"loadPackageDefinition",{enumerable:!0,get:function(){return Pb.loadPackageDefinition}});Object.defineProperty(j,"makeClientConstructor",{enumerable:!0,get:function(){return Pb.makeClientConstructor}});Object.defineProperty(j,"makeGenericClientConstructor",{enumerable:!0,get:function(){return Pb.makeClientConstructor}});var Qae=er();Object.defineProperty(j,"Metadata",{enumerable:!0,get:function(){return Qae.Metadata}});var wae=aq();Object.defineProperty(j,"Server",{enumerable:!0,get:function(){return wae.Server}});var _ae=pb();Object.defineProperty(j,"ServerCredentials",{enumerable:!0,get:function(){return _ae.ServerCredentials}});var vae=Aq();Object.defineProperty(j,"StatusBuilder",{enumerable:!0,get:function(){return vae.StatusBuilder}});j.credentials={combineChannelCredentials:(t,...e)=>e.reduce((n,r)=>n.compose(r),t),combineCallCredentials:(t,...e)=>e.reduce((n,r)=>n.compose(r),t),createInsecure:yI.ChannelCredentials.createInsecure,createSsl:yI.ChannelCredentials.createSsl,createFromSecureContext:yI.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:II.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:II.CallCredentials.createFromGoogleCredential,createEmpty:II.CallCredentials.createEmpty};var Sae=t=>t.close();j.closeClient=Sae;var bae=(t,e,n)=>t.waitForReady(e,n);j.waitForClientReady=bae;var Dae=(t,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};j.loadObject=Dae;var Rae=(t,e,n)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};j.load=Rae;var Tae=t=>{Sq.setLogger(t)};j.setLogger=Tae;var kae=t=>{Sq.setLoggerVerbosity(t)};j.setLogVerbosity=kae;var Nae=t=>vq.Client.prototype.getChannel.call(t);j.getClientChannel=Nae;var BI=Av();Object.defineProperty(j,"ListenerBuilder",{enumerable:!0,get:function(){return BI.ListenerBuilder}});Object.defineProperty(j,"RequesterBuilder",{enumerable:!0,get:function(){return BI.RequesterBuilder}});Object.defineProperty(j,"InterceptingCall",{enumerable:!0,get:function(){return BI.InterceptingCall}});Object.defineProperty(j,"InterceptorConfigurationError",{enumerable:!0,get:function(){return BI.InterceptorConfigurationError}});var bq=WA();Object.defineProperty(j,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return bq.getChannelzServiceDefinition}});Object.defineProperty(j,"getChannelzHandlers",{enumerable:!0,get:function(){return bq.getChannelzHandlers}});var Fae=qm();Object.defineProperty(j,"addAdminServicesToServer",{enumerable:!0,get:function(){return Fae.addAdminServicesToServer}});var xae=Db();j.experimental=xae;var Mae=RS(),Lae=gq(),Oae=Iq(),Uae=Qq(),Pae=_q(),Vae=bb(),qae=WA();Mae.setup(),Lae.setup(),Oae.setup(),Uae.setup(),Pae.setup(),Vae.setup(),qae.setup()});var _t=C((l1e,LJ)=>{LJ.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kHeadersList:Symbol("headers list"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kHTTP2BuildRequest:Symbol("http2 build request"),kHTTP1BuildRequest:Symbol("http1 build request"),kHTTP2CopyHeaders:Symbol("http2 copy headers"),kHTTPConnVersion:Symbol("http connection version")}});var ht=C((c1e,OJ)=>{"use strict";var nn=class extends Error{constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}},hk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},dk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},fk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},gk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},pk=class t extends nn{constructor(e,n,r,i){super(e),Error.captureStackTrace(this,t),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=n,this.statusCode=n,this.headers=r}},Ek=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},mk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},Ck=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}},Ik=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}},yk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},Bk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},Qk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},wk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}},_k=class t extends nn{constructor(e,n){super(e),Error.captureStackTrace(this,t),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=n}},sB=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},vk=class extends nn{constructor(e){super(e),Error.captureStackTrace(this,sB),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Sk=class t extends Error{constructor(e,n,r){super(e),Error.captureStackTrace(this,t),this.name="HTTPParserError",this.code=n?`HPE_${n}`:void 0,this.data=r?r.toString():void 0}},bk=class t extends nn{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}};OJ.exports={HTTPParserError:Sk,UndiciError:nn,HeadersTimeoutError:dk,HeadersOverflowError:fk,BodyTimeoutError:gk,RequestContentLengthMismatchError:yk,ConnectTimeoutError:hk,ResponseStatusCodeError:pk,InvalidArgumentError:Ek,InvalidReturnValueError:mk,RequestAbortedError:Ck,ClientDestroyedError:Qk,ClientClosedError:wk,InformationalError:Ik,SocketError:_k,NotSupportedError:sB,ResponseContentLengthMismatchError:Bk,BalancedPoolMissingUpstreamError:vk,ResponseExceededMaxSizeError:bk}});var Ve=C((u1e,jJ)=>{"use strict";var qJ=B("assert"),{kDestroyed:GJ,kBodyUsed:UJ}=_t(),{IncomingMessage:Ipe}=B("http"),ch=B("stream"),ype=B("net"),{InvalidArgumentError:Tn}=ht(),{Blob:PJ}=B("buffer"),aB=B("util"),{stringify:Bpe}=B("querystring"),[Dk,VJ]=process.versions.node.split(".").map(t=>Number(t));function Qpe(){}function Rk(t){return t&&typeof t=="object"&&typeof t.pipe=="function"&&typeof t.on=="function"}function HJ(t){return PJ&&t instanceof PJ||t&&typeof t=="object"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function wpe(t,e){if(t.includes("?")||t.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let n=Bpe(e);return n&&(t+="?"+n),t}function YJ(t){if(typeof t=="string"){if(t=new URL(t),!/^https?:/.test(t.origin||t.protocol))throw new Tn("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}if(!t||typeof t!="object")throw new Tn("Invalid URL: The URL argument must be a non-null object.");if(!/^https?:/.test(t.origin||t.protocol))throw new Tn("Invalid URL protocol: the URL must start with `http:` or `https:`.");if(!(t instanceof URL)){if(t.port!=null&&t.port!==""&&!Number.isFinite(parseInt(t.port)))throw new Tn("Invalid URL: port must be a valid integer or a string representation of an integer.");if(t.path!=null&&typeof t.path!="string")throw new Tn("Invalid URL path: the path must be a string or null/undefined.");if(t.pathname!=null&&typeof t.pathname!="string")throw new Tn("Invalid URL pathname: the pathname must be a string or null/undefined.");if(t.hostname!=null&&typeof t.hostname!="string")throw new Tn("Invalid URL hostname: the hostname must be a string or null/undefined.");if(t.origin!=null&&typeof t.origin!="string")throw new Tn("Invalid URL origin: the origin must be a string or null/undefined.");let e=t.port!=null?t.port:t.protocol==="https:"?443:80,n=t.origin!=null?t.origin:`${t.protocol}//${t.hostname}:${e}`,r=t.path!=null?t.path:`${t.pathname||""}${t.search||""}`;n.endsWith("/")&&(n=n.substring(0,n.length-1)),r&&!r.startsWith("/")&&(r=`/${r}`),t=new URL(n+r)}return t}function _pe(t){if(t=YJ(t),t.pathname!=="/"||t.search||t.hash)throw new Tn("invalid url");return t}function vpe(t){if(t[0]==="["){let n=t.indexOf("]");return qJ(n!==-1),t.substr(1,n-1)}let e=t.indexOf(":");return e===-1?t:t.substr(0,e)}function Spe(t){if(!t)return null;qJ.strictEqual(typeof t,"string");let e=vpe(t);return ype.isIP(e)?"":e}function bpe(t){return JSON.parse(JSON.stringify(t))}function Dpe(t){return t!=null&&typeof t[Symbol.asyncIterator]=="function"}function Rpe(t){return t!=null&&(typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function")}function Tpe(t){if(t==null)return 0;if(Rk(t)){let e=t._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(HJ(t))return t.size!=null?t.size:null;if(JJ(t))return t.byteLength}return null}function Tk(t){return!t||!!(t.destroyed||t[GJ])}function WJ(t){let e=t&&t._readableState;return Tk(t)&&e&&!e.endEmitted}function kpe(t,e){!Rk(t)||Tk(t)||(typeof t.destroy=="function"?(Object.getPrototypeOf(t).constructor===Ipe&&(t.socket=null),t.destroy(e)):e&&process.nextTick((n,r)=>{n.emit("error",r)},t,e),t.destroyed!==!0&&(t[GJ]=!0))}var Npe=/timeout=(\d+)/;function Fpe(t){let e=t.toString().match(Npe);return e?parseInt(e[1],10)*1e3:null}function xpe(t,e={}){if(!Array.isArray(t))return t;for(let n=0;n<t.length;n+=2){let r=t[n].toString().toLowerCase(),i=e[r];i?(Array.isArray(i)||(i=[i],e[r]=i),i.push(t[n+1].toString("utf8"))):Array.isArray(t[n+1])?e[r]=t[n+1]:e[r]=t[n+1].toString("utf8")}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}function Mpe(t){let e=[],n=!1,r=-1;for(let i=0;i<t.length;i+=2){let s=t[i+0].toString(),o=t[i+1].toString("utf8");s.length===14&&(s==="content-length"||s.toLowerCase()==="content-length")?(e.push(s,o),n=!0):s.length===19&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")?r=e.push(s,o)-1:e.push(s,o)}return n&&r!==-1&&(e[r]=Buffer.from(e[r]).toString("latin1")),e}function JJ(t){return t instanceof Uint8Array||Buffer.isBuffer(t)}function Lpe(t,e,n){if(!t||typeof t!="object")throw new Tn("handler must be an object");if(typeof t.onConnect!="function")throw new Tn("invalid onConnect method");if(typeof t.onError!="function")throw new Tn("invalid onError method");if(typeof t.onBodySent!="function"&&t.onBodySent!==void 0)throw new Tn("invalid onBodySent method");if(n||e==="CONNECT"){if(typeof t.onUpgrade!="function")throw new Tn("invalid onUpgrade method")}else{if(typeof t.onHeaders!="function")throw new Tn("invalid onHeaders method");if(typeof t.onData!="function")throw new Tn("invalid onData method");if(typeof t.onComplete!="function")throw new Tn("invalid onComplete method")}}function Ope(t){return!!(t&&(ch.isDisturbed?ch.isDisturbed(t)||t[UJ]:t[UJ]||t.readableDidRead||t._readableState&&t._readableState.dataEmitted||WJ(t)))}function Upe(t){return!!(t&&(ch.isErrored?ch.isErrored(t):/state: 'errored'/.test(aB.inspect(t))))}function Ppe(t){return!!(t&&(ch.isReadable?ch.isReadable(t):/state: 'readable'/.test(aB.inspect(t))))}function Vpe(t){return{localAddress:t.localAddress,localPort:t.localPort,remoteAddress:t.remoteAddress,remotePort:t.remotePort,remoteFamily:t.remoteFamily,timeout:t.timeout,bytesWritten:t.bytesWritten,bytesRead:t.bytesRead}}function qpe(t){return us(this,null,function*(){try{for(var e=Ln(t),n,r,i;n=!(r=yield new fc(e.next())).done;n=!1){let s=r.value;yield Buffer.isBuffer(s)?s:Buffer.from(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new fc(r.call(e)))}finally{if(i)throw i[0]}}})}var $g;function Gpe(t){if($g||($g=B("stream/web").ReadableStream),$g.from)return $g.from(qpe(t));let e;return new $g({start(){return E(this,null,function*(){e=t[Symbol.asyncIterator]()})},pull(r){return E(this,null,function*(){let{done:i,value:s}=yield e.next();if(i)queueMicrotask(()=>{r.close()});else{let o=Buffer.isBuffer(s)?s:Buffer.from(s);r.enqueue(new Uint8Array(o))}return r.desiredSize>0})},cancel(r){return E(this,null,function*(){yield e.return()})}},0)}function Hpe(t){return t&&typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&t[Symbol.toStringTag]==="FormData"}function Ype(t){if(t){if(typeof t.throwIfAborted=="function")t.throwIfAborted();else if(t.aborted){let e=new Error("The operation was aborted");throw e.name="AbortError",e}}}var oB;function Wpe(t,e){return typeof Symbol.dispose=="symbol"&&(oB||(oB=B("events")),typeof oB.addAbortListener=="function"&&"aborted"in t)?oB.addAbortListener(t,e):"addEventListener"in t?(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)):(t.addListener("abort",e),()=>t.removeListener("abort",e))}var Jpe=!!String.prototype.toWellFormed;function zpe(t){return Jpe?`${t}`.toWellFormed():aB.toUSVString?aB.toUSVString(t):`${t}`}var zJ=Object.create(null);zJ.enumerable=!0;jJ.exports={kEnumerableProperty:zJ,nop:Qpe,isDisturbed:Ope,isErrored:Upe,isReadable:Ppe,toUSVString:zpe,isReadableAborted:WJ,isBlobLike:HJ,parseOrigin:_pe,parseURL:YJ,getServerName:Spe,isStream:Rk,isIterable:Rpe,isAsyncIterable:Dpe,isDestroyed:Tk,parseRawHeaders:Mpe,parseHeaders:xpe,parseKeepAliveTimeout:Fpe,destroy:kpe,bodyLength:Tpe,deepClone:bpe,ReadableStreamFrom:Gpe,isBuffer:JJ,validateHandler:Lpe,getSocketInfo:Vpe,isFormDataLike:Hpe,buildURL:wpe,throwIfAborted:Ype,addAbortListener:Wpe,nodeMajor:Dk,nodeMinor:VJ,nodeHasAutoSelectFamily:Dk>18||Dk===18&&VJ>=13}});var ZJ=C((d1e,XJ)=>{"use strict";var kk=Date.now(),oA,aA=[];function jpe(){kk=Date.now();let t=aA.length,e=0;for(;e<t;){let n=aA[e];n.state===0?n.state=kk+n.delay:n.state>0&&kk>=n.state&&(n.state=-1,n.callback(n.opaque)),n.state===-1?(n.state=-2,e!==t-1?aA[e]=aA.pop():aA.pop(),t-=1):e+=1}aA.length>0&&KJ()}function KJ(){oA&&oA.refresh?oA.refresh():(clearTimeout(oA),oA=setTimeout(jpe,1e3),oA.unref&&oA.unref())}var AB=class{constructor(e,n,r){this.callback=e,this.delay=n,this.opaque=r,this.state=-2,this.refresh()}refresh(){this.state===-2&&(aA.push(this),(!oA||aA.length===1)&&KJ()),this.state=0}clear(){this.state=-1}};XJ.exports={setTimeout(t,e,n){return e<1e3?setTimeout(t,e,n):new AB(t,e,n)},clearTimeout(t){t instanceof AB?t.clear():clearTimeout(t)}}});var Nk=C((f1e,$J)=>{"use strict";var Kpe=B("events").EventEmitter,Xpe=B("util").inherits;function bl(t){if(typeof t=="string"&&(t=Buffer.from(t)),!Buffer.isBuffer(t))throw new TypeError("The needle has to be a String or a Buffer.");let e=t.length;if(e===0)throw new Error("The needle cannot be an empty String/Buffer.");if(e>256)throw new Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Array(256).fill(e),this._lookbehind_size=0,this._needle=t,this._bufpos=0,this._lookbehind=Buffer.alloc(e);for(var n=0;n<e-1;++n)this._occ[t[n]]=e-1-n}Xpe(bl,Kpe);bl.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};bl.prototype.push=function(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t,"binary"));let n=t.length;this._bufpos=e||0;let r;for(;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(t);return r};bl.prototype._sbmh_feed=function(t){let e=t.length,n=this._needle,r=n.length,i=n[r-1],s=-this._lookbehind_size,o;if(s<0){for(;s<0&&s<=e-r;){if(o=this._sbmh_lookup_char(t,s+r-1),o===i&&this._sbmh_memcmp(t,s,r-1))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=s+r;s+=this._occ[o]}if(s<0)for(;s<0&&!this._sbmh_memcmp(t,s,e-s);)++s;if(s>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let a=this._lookbehind_size+s;return a>0&&this.emit("info",!1,this._lookbehind,0,a),this._lookbehind.copy(this._lookbehind,0,a,this._lookbehind_size-a),this._lookbehind_size-=a,t.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=e,this._bufpos=e,e}}if(s+=(s>=0)*this._bufpos,t.indexOf(n,s)!==-1)return s=t.indexOf(n,s),++this.matches,s>0?this.emit("info",!0,t,this._bufpos,s):this.emit("info",!0),this._bufpos=s+r;for(s=e-r;s<e&&(t[s]!==n[0]||Buffer.compare(t.subarray(s,s+e-s),n.subarray(0,e-s))!==0);)++s;return s<e&&(t.copy(this._lookbehind,0,s,s+(e-s)),this._lookbehind_size=e-s),s>0&&this.emit("info",!1,t,this._bufpos,s<e?s:e),this._bufpos=e,e};bl.prototype._sbmh_lookup_char=function(t,e){return e<0?this._lookbehind[this._lookbehind_size+e]:t[e]};bl.prototype._sbmh_memcmp=function(t,e,n){for(var r=0;r<n;++r)if(this._sbmh_lookup_char(t,e+r)!==this._needle[r])return!1;return!0};$J.exports=bl});var n4=C((g1e,t4)=>{"use strict";var Zpe=B("util").inherits,e4=B("stream").Readable;function Fk(t){e4.call(this,t)}Zpe(Fk,e4);Fk.prototype._read=function(t){};t4.exports=Fk});var lB=C((p1e,r4)=>{"use strict";r4.exports=function(e,n,r){if(!e||e[n]===void 0||e[n]===null)return r;if(typeof e[n]!="number"||isNaN(e[n]))throw new TypeError("Limit "+n+" is not a valid number");return e[n]}});var a4=C((E1e,o4)=>{"use strict";var s4=B("events").EventEmitter,$pe=B("util").inherits,i4=lB(),eEe=Nk(),tEe=Buffer.from(`\r
\r
`),nEe=/\r\n/g,rEe=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function uh(t){s4.call(this),t=t||{};let e=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=i4(t,"maxHeaderPairs",2e3),this.maxHeaderSize=i4(t,"maxHeaderSize",80*1024),this.buffer="",this.header={},this.finished=!1,this.ss=new eEe(tEe),this.ss.on("info",function(n,r,i,s){r&&!e.maxed&&(e.nread+s-i>=e.maxHeaderSize?(s=e.maxHeaderSize-e.nread+i,e.nread=e.maxHeaderSize,e.maxed=!0):e.nread+=s-i,e.buffer+=r.toString("binary",i,s)),n&&e._finish()})}$pe(uh,s4);uh.prototype.push=function(t){let e=this.ss.push(t);if(this.finished)return e};uh.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()};uh.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let t=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",t)};uh.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let t=this.buffer.split(nEe),e=t.length,n,r;for(var i=0;i<e;++i){if(t[i].length===0)continue;if((t[i][0]==="	"||t[i][0]===" ")&&r){this.header[r][this.header[r].length-1]+=t[i];continue}let s=t[i].indexOf(":");if(s===-1||s===0)return;if(n=rEe.exec(t[i]),r=n[1].toLowerCase(),this.header[r]=this.header[r]||[],this.header[r].push(n[2]||""),++this.npairs===this.maxHeaderPairs)break}};o4.exports=uh});var Mk=C((m1e,l4)=>{"use strict";var xk=B("stream").Writable,iEe=B("util").inherits,sEe=Nk(),A4=n4(),oEe=a4(),aEe=45,AEe=Buffer.from("-"),lEe=Buffer.from(`\r
`),cEe=function(){};function rs(t){if(!(this instanceof rs))return new rs(t);if(xk.call(this,t),!t||!t.headerFirst&&typeof t.boundary!="string")throw new TypeError("Boundary required");typeof t.boundary=="string"?this.setBoundary(t.boundary):this._bparser=void 0,this._headerFirst=t.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:t.partHwm},this._pause=!1;let e=this;this._hparser=new oEe(t),this._hparser.on("header",function(n){e._inHeader=!1,e._part.emit("header",n)})}iEe(rs,xk);rs.prototype.emit=function(t){if(t==="finish"&&!this._realFinish){if(!this._finished){let e=this;process.nextTick(function(){if(e.emit("error",new Error("Unexpected end of multipart data")),e._part&&!e._ignoreData){let n=e._isPreamble?"Preamble":"Part";e._part.emit("error",new Error(n+" terminated early due to unexpected end of multipart data")),e._part.push(null),process.nextTick(function(){e._realFinish=!0,e.emit("finish"),e._realFinish=!1});return}e._realFinish=!0,e.emit("finish"),e._realFinish=!1})}}else xk.prototype.emit.apply(this,arguments)};rs.prototype._write=function(t,e,n){if(!this._hparser&&!this._bparser)return n();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new A4(this._partOpts),this._events.preamble?this.emit("preamble",this._part):this._ignore());let r=this._hparser.push(t);if(!this._inHeader&&r!==void 0&&r<t.length)t=t.slice(r);else return n()}this._firstWrite&&(this._bparser.push(lEe),this._firstWrite=!1),this._bparser.push(t),this._pause?this._cb=n:n()};rs.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};rs.prototype.setBoundary=function(t){let e=this;this._bparser=new sEe(`\r
--`+t),this._bparser.on("info",function(n,r,i,s){e._oninfo(n,r,i,s)})};rs.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",cEe),this._part.resume())};rs.prototype._oninfo=function(t,e,n,r){let i,s=this,o=0,a,A=!0;if(!this._part&&this._justMatched&&e){for(;this._dashes<2&&n+o<r;)if(e[n+o]===aEe)++o,++this._dashes;else{this._dashes&&(i=AEe),this._dashes=0;break}if(this._dashes===2&&(n+o<r&&this._events.trailer&&this.emit("trailer",e.slice(n+o,r)),this.reset(),this._finished=!0,s._parts===0&&(s._realFinish=!0,s.emit("finish"),s._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new A4(this._partOpts),this._part._read=function(l){s._unpause()},this._isPreamble&&this._events.preamble?this.emit("preamble",this._part):this._isPreamble!==!0&&this._events.part?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),e&&n<r&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(i&&(A=this._part.push(i)),A=this._part.push(e.slice(n,r)),A||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(i&&this._hparser.push(i),a=this._hparser.push(e.slice(n,r)),!this._inHeader&&a!==void 0&&a<r&&this._oninfo(!1,e,n+a,r))),t&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:n!==r&&(++this._parts,this._part.on("end",function(){--s._parts===0&&(s._finished?(s._realFinish=!0,s.emit("finish"),s._realFinish=!1):s._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)};rs.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let t=this._cb;this._cb=void 0,t()}};l4.exports=rs});var cB=C((Lk,h4)=>{"use strict";var c4=new TextDecoder("utf-8"),u4=new Map([["utf-8",c4],["utf8",c4]]);function uEe(t){let e;for(;;)switch(t){case"utf-8":case"utf8":return ep.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return ep.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return ep.utf16le;case"base64":return ep.base64;default:if(e===void 0){e=!0,t=t.toLowerCase();continue}return ep.other.bind(t)}}var ep={utf8:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.utf8Slice(0,t.length)),latin1:(t,e)=>t.length===0?"":typeof t=="string"?t:t.latin1Slice(0,t.length),utf16le:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.ucs2Slice(0,t.length)),base64:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.base64Slice(0,t.length)),other:(t,e)=>{if(t.length===0)return"";if(typeof t=="string"&&(t=Buffer.from(t,e)),u4.has(Lk.toString()))try{return u4.get(Lk).decode(t)}catch{}return typeof t=="string"?t:t.toString()}};function hEe(t,e,n){return t&&uEe(n)(t,e)}h4.exports=hEe});var Uk=C((C1e,E4)=>{"use strict";var uB=cB(),d4=/%[a-fA-F0-9][a-fA-F0-9]/g,dEe={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"\x07","%08":"\b","%09":"	","%0a":`
`,"%0A":`
`,"%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"\x1B","%1B":"\x1B","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7F","%7F":"\x7F","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8A","%8A":"\x8A","%8b":"\x8B","%8B":"\x8B","%8c":"\x8C","%8C":"\x8C","%8d":"\x8D","%8D":"\x8D","%8e":"\x8E","%8E":"\x8E","%8f":"\x8F","%8F":"\x8F","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9A","%9A":"\x9A","%9b":"\x9B","%9B":"\x9B","%9c":"\x9C","%9C":"\x9C","%9d":"\x9D","%9D":"\x9D","%9e":"\x9E","%9E":"\x9E","%9f":"\x9F","%9F":"\x9F","%a0":"\xA0","%A0":"\xA0","%a1":"\xA1","%A1":"\xA1","%a2":"\xA2","%A2":"\xA2","%a3":"\xA3","%A3":"\xA3","%a4":"\xA4","%A4":"\xA4","%a5":"\xA5","%A5":"\xA5","%a6":"\xA6","%A6":"\xA6","%a7":"\xA7","%A7":"\xA7","%a8":"\xA8","%A8":"\xA8","%a9":"\xA9","%A9":"\xA9","%aa":"\xAA","%Aa":"\xAA","%aA":"\xAA","%AA":"\xAA","%ab":"\xAB","%Ab":"\xAB","%aB":"\xAB","%AB":"\xAB","%ac":"\xAC","%Ac":"\xAC","%aC":"\xAC","%AC":"\xAC","%ad":"\xAD","%Ad":"\xAD","%aD":"\xAD","%AD":"\xAD","%ae":"\xAE","%Ae":"\xAE","%aE":"\xAE","%AE":"\xAE","%af":"\xAF","%Af":"\xAF","%aF":"\xAF","%AF":"\xAF","%b0":"\xB0","%B0":"\xB0","%b1":"\xB1","%B1":"\xB1","%b2":"\xB2","%B2":"\xB2","%b3":"\xB3","%B3":"\xB3","%b4":"\xB4","%B4":"\xB4","%b5":"\xB5","%B5":"\xB5","%b6":"\xB6","%B6":"\xB6","%b7":"\xB7","%B7":"\xB7","%b8":"\xB8","%B8":"\xB8","%b9":"\xB9","%B9":"\xB9","%ba":"\xBA","%Ba":"\xBA","%bA":"\xBA","%BA":"\xBA","%bb":"\xBB","%Bb":"\xBB","%bB":"\xBB","%BB":"\xBB","%bc":"\xBC","%Bc":"\xBC","%bC":"\xBC","%BC":"\xBC","%bd":"\xBD","%Bd":"\xBD","%bD":"\xBD","%BD":"\xBD","%be":"\xBE","%Be":"\xBE","%bE":"\xBE","%BE":"\xBE","%bf":"\xBF","%Bf":"\xBF","%bF":"\xBF","%BF":"\xBF","%c0":"\xC0","%C0":"\xC0","%c1":"\xC1","%C1":"\xC1","%c2":"\xC2","%C2":"\xC2","%c3":"\xC3","%C3":"\xC3","%c4":"\xC4","%C4":"\xC4","%c5":"\xC5","%C5":"\xC5","%c6":"\xC6","%C6":"\xC6","%c7":"\xC7","%C7":"\xC7","%c8":"\xC8","%C8":"\xC8","%c9":"\xC9","%C9":"\xC9","%ca":"\xCA","%Ca":"\xCA","%cA":"\xCA","%CA":"\xCA","%cb":"\xCB","%Cb":"\xCB","%cB":"\xCB","%CB":"\xCB","%cc":"\xCC","%Cc":"\xCC","%cC":"\xCC","%CC":"\xCC","%cd":"\xCD","%Cd":"\xCD","%cD":"\xCD","%CD":"\xCD","%ce":"\xCE","%Ce":"\xCE","%cE":"\xCE","%CE":"\xCE","%cf":"\xCF","%Cf":"\xCF","%cF":"\xCF","%CF":"\xCF","%d0":"\xD0","%D0":"\xD0","%d1":"\xD1","%D1":"\xD1","%d2":"\xD2","%D2":"\xD2","%d3":"\xD3","%D3":"\xD3","%d4":"\xD4","%D4":"\xD4","%d5":"\xD5","%D5":"\xD5","%d6":"\xD6","%D6":"\xD6","%d7":"\xD7","%D7":"\xD7","%d8":"\xD8","%D8":"\xD8","%d9":"\xD9","%D9":"\xD9","%da":"\xDA","%Da":"\xDA","%dA":"\xDA","%DA":"\xDA","%db":"\xDB","%Db":"\xDB","%dB":"\xDB","%DB":"\xDB","%dc":"\xDC","%Dc":"\xDC","%dC":"\xDC","%DC":"\xDC","%dd":"\xDD","%Dd":"\xDD","%dD":"\xDD","%DD":"\xDD","%de":"\xDE","%De":"\xDE","%dE":"\xDE","%DE":"\xDE","%df":"\xDF","%Df":"\xDF","%dF":"\xDF","%DF":"\xDF","%e0":"\xE0","%E0":"\xE0","%e1":"\xE1","%E1":"\xE1","%e2":"\xE2","%E2":"\xE2","%e3":"\xE3","%E3":"\xE3","%e4":"\xE4","%E4":"\xE4","%e5":"\xE5","%E5":"\xE5","%e6":"\xE6","%E6":"\xE6","%e7":"\xE7","%E7":"\xE7","%e8":"\xE8","%E8":"\xE8","%e9":"\xE9","%E9":"\xE9","%ea":"\xEA","%Ea":"\xEA","%eA":"\xEA","%EA":"\xEA","%eb":"\xEB","%Eb":"\xEB","%eB":"\xEB","%EB":"\xEB","%ec":"\xEC","%Ec":"\xEC","%eC":"\xEC","%EC":"\xEC","%ed":"\xED","%Ed":"\xED","%eD":"\xED","%ED":"\xED","%ee":"\xEE","%Ee":"\xEE","%eE":"\xEE","%EE":"\xEE","%ef":"\xEF","%Ef":"\xEF","%eF":"\xEF","%EF":"\xEF","%f0":"\xF0","%F0":"\xF0","%f1":"\xF1","%F1":"\xF1","%f2":"\xF2","%F2":"\xF2","%f3":"\xF3","%F3":"\xF3","%f4":"\xF4","%F4":"\xF4","%f5":"\xF5","%F5":"\xF5","%f6":"\xF6","%F6":"\xF6","%f7":"\xF7","%F7":"\xF7","%f8":"\xF8","%F8":"\xF8","%f9":"\xF9","%F9":"\xF9","%fa":"\xFA","%Fa":"\xFA","%fA":"\xFA","%FA":"\xFA","%fb":"\xFB","%Fb":"\xFB","%fB":"\xFB","%FB":"\xFB","%fc":"\xFC","%Fc":"\xFC","%fC":"\xFC","%FC":"\xFC","%fd":"\xFD","%Fd":"\xFD","%fD":"\xFD","%FD":"\xFD","%fe":"\xFE","%Fe":"\xFE","%fE":"\xFE","%FE":"\xFE","%ff":"\xFF","%Ff":"\xFF","%fF":"\xFF","%FF":"\xFF"};function f4(t){return dEe[t]}var hB=0,g4=1,Ok=2,p4=3;function fEe(t){let e=[],n=hB,r="",i=!1,s=!1,o=0,a="",A=t.length;for(var l=0;l<A;++l){let c=t[l];if(c==="\\"&&i)if(s)s=!1;else{s=!0;continue}else if(c==='"')if(s)s=!1;else{i?(i=!1,n=hB):i=!0;continue}else if(s&&i&&(a+="\\"),s=!1,(n===Ok||n===p4)&&c==="'"){n===Ok?(n=p4,r=a.substring(1)):n=g4,a="";continue}else if(n===hB&&(c==="*"||c==="=")&&e.length){n=c==="*"?Ok:g4,e[o]=[a,void 0],a="";continue}else if(!i&&c===";"){n=hB,r?(a.length&&(a=uB(a.replace(d4,f4),"binary",r)),r=""):a.length&&(a=uB(a,"binary","utf8")),e[o]===void 0?e[o]=a:e[o][1]=a,a="",++o;continue}else if(!i&&(c===" "||c==="	"))continue;a+=c}return r&&a.length?a=uB(a.replace(d4,f4),"binary",r):a&&(a=uB(a,"binary","utf8")),e[o]===void 0?a&&(e[o]=a):e[o][1]=a,e}E4.exports=fEe});var C4=C((I1e,m4)=>{"use strict";m4.exports=function(e){if(typeof e!="string")return"";for(var n=e.length-1;n>=0;--n)switch(e.charCodeAt(n)){case 47:case 92:return e=e.slice(n+1),e===".."||e==="."?"":e}return e===".."||e==="."?"":e}});var Q4=C((y1e,B4)=>{"use strict";var{Readable:y4}=B("stream"),{inherits:gEe}=B("util"),pEe=Mk(),I4=Uk(),EEe=cB(),mEe=C4(),Dl=lB(),CEe=/^boundary$/i,IEe=/^form-data$/i,yEe=/^charset$/i,BEe=/^filename$/i,QEe=/^name$/i;dB.detect=/^multipart\/form-data/i;function dB(t,e){let n,r,i=this,s,o=e.limits,a=e.isPartAFile||((b,ce,D)=>ce==="application/octet-stream"||D!==void 0),A=e.parsedConType||[],l=e.defCharset||"utf8",c=e.preservePath,u={highWaterMark:e.fileHwm};for(n=0,r=A.length;n<r;++n)if(Array.isArray(A[n])&&CEe.test(A[n][0])){s=A[n][1];break}function h(){T===0&&ke&&!t._done&&(ke=!1,i.end())}if(typeof s!="string")throw new Error("Multipart: Boundary not found");let d=Dl(o,"fieldSize",1*1024*1024),f=Dl(o,"fileSize",1/0),g=Dl(o,"files",1/0),m=Dl(o,"fields",1/0),y=Dl(o,"parts",1/0),I=Dl(o,"headerPairs",2e3),_=Dl(o,"headerSize",80*1024),w=0,S=0,T=0,Z,pe,ke=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=t;let we={boundary:s,maxHeaderPairs:I,maxHeaderSize:_,partHwm:u.highWaterMark,highWaterMark:e.highWaterMark};this.parser=new pEe(we),this.parser.on("drain",function(){if(i._needDrain=!1,i._cb&&!i._pause){let b=i._cb;i._cb=void 0,b()}}).on("part",function b(ce){if(++i._nparts>y)return i.parser.removeListener("part",b),i.parser.on("part",hh),t.hitPartsLimit=!0,t.emit("partsLimit"),hh(ce);if(pe){let D=pe;D.emit("end"),D.removeAllListeners("end")}ce.on("header",function(D){let p,L,re,Oe,Ue,rt,We=0;if(D["content-type"]&&(re=I4(D["content-type"][0]),re[0])){for(p=re[0].toLowerCase(),n=0,r=re.length;n<r;++n)if(yEe.test(re[n][0])){Oe=re[n][1].toLowerCase();break}}if(p===void 0&&(p="text/plain"),Oe===void 0&&(Oe=l),D["content-disposition"]){if(re=I4(D["content-disposition"][0]),!IEe.test(re[0]))return hh(ce);for(n=0,r=re.length;n<r;++n)QEe.test(re[n][0])?L=re[n][1]:BEe.test(re[n][0])&&(rt=re[n][1],c||(rt=mEe(rt)))}else return hh(ce);D["content-transfer-encoding"]?Ue=D["content-transfer-encoding"][0].toLowerCase():Ue="7bit";let on,It;if(a(L,p,rt)){if(w===g)return t.hitFilesLimit||(t.hitFilesLimit=!0,t.emit("filesLimit")),hh(ce);if(++w,!t._events.file){i.parser._ignore();return}++T;let ye=new Pk(u);Z=ye,ye.on("end",function(){if(--T,i._pause=!1,h(),i._cb&&!i._needDrain){let it=i._cb;i._cb=void 0,it()}}),ye._read=function(it){if(i._pause&&(i._pause=!1,i._cb&&!i._needDrain)){let je=i._cb;i._cb=void 0,je()}},t.emit("file",L,ye,rt,Ue,p),on=function(it){if((We+=it.length)>f){let je=f-We+it.length;je>0&&ye.push(it.slice(0,je)),ye.truncated=!0,ye.bytesRead=f,ce.removeAllListeners("data"),ye.emit("limit");return}else ye.push(it)||(i._pause=!0);ye.bytesRead=We},It=function(){Z=void 0,ye.push(null)}}else{if(S===m)return t.hitFieldsLimit||(t.hitFieldsLimit=!0,t.emit("fieldsLimit")),hh(ce);++S,++T;let ye="",it=!1;pe=ce,on=function(je){if((We+=je.length)>d){let _n=d-(We-je.length);ye+=je.toString("binary",0,_n),it=!0,ce.removeAllListeners("data")}else ye+=je.toString("binary")},It=function(){pe=void 0,ye.length&&(ye=EEe(ye,"binary",Oe)),t.emit("field",L,ye,!1,it,Ue,p),--T,h()}}ce._readableState.sync=!1,ce.on("data",on),ce.on("end",It)}).on("error",function(D){Z&&Z.emit("error",D)})}).on("error",function(b){t.emit("error",b)}).on("finish",function(){ke=!0,h()})}dB.prototype.write=function(t,e){let n=this.parser.write(t);n&&!this._pause?e():(this._needDrain=!n,this._cb=e)};dB.prototype.end=function(){let t=this;t.parser.writable?t.parser.end():t._boy._done||process.nextTick(function(){t._boy._done=!0,t._boy.emit("finish")})};function hh(t){t.resume()}function Pk(t){y4.call(this,t),this.bytesRead=0,this.truncated=!1}gEe(Pk,y4);Pk.prototype._read=function(t){};B4.exports=dB});var _4=C((B1e,w4)=>{"use strict";var wEe=/\+/g,_Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Vk(){this.buffer=void 0}Vk.prototype.write=function(t){t=t.replace(wEe," ");let e="",n=0,r=0,i=t.length;for(;n<i;++n)this.buffer!==void 0?_Ee[t.charCodeAt(n)]?(this.buffer+=t[n],++r,this.buffer.length===2&&(e+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(e+="%"+this.buffer,this.buffer=void 0,--n):t[n]==="%"&&(n>r&&(e+=t.substring(r,n),r=n),this.buffer="",++r);return r<i&&this.buffer===void 0&&(e+=t.substring(r)),e};Vk.prototype.reset=function(){this.buffer=void 0};w4.exports=Vk});var S4=C((Q1e,v4)=>{"use strict";var vEe=_4(),dh=cB(),qk=lB(),SEe=/^charset$/i;fB.detect=/^application\/x-www-form-urlencoded/i;function fB(t,e){let n=e.limits,r=e.parsedConType;this.boy=t,this.fieldSizeLimit=qk(n,"fieldSize",1*1024*1024),this.fieldNameSizeLimit=qk(n,"fieldNameSize",100),this.fieldsLimit=qk(n,"fields",1/0);let i;for(var s=0,o=r.length;s<o;++s)if(Array.isArray(r[s])&&SEe.test(r[s][0])){i=r[s][1].toLowerCase();break}i===void 0&&(i=e.defCharset||"utf8"),this.decoder=new vEe,this.charset=i,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}fB.prototype.write=function(t,e){if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),e();let n,r,i,s=0,o=t.length;for(;s<o;)if(this._state==="key"){for(n=r=void 0,i=s;i<o;++i){if(this._checkingBytes||++s,t[i]===61){n=i;break}else if(t[i]===38){r=i;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesKey}if(n!==void 0)n>s&&(this._key+=this.decoder.write(t.toString("binary",s,n))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),s=n+1;else if(r!==void 0){++this._fields;let a,A=this._keyTrunc;if(r>s?a=this._key+=this.decoder.write(t.toString("binary",s,r)):a=this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),a.length&&this.boy.emit("field",dh(a,"binary",this.charset),"",A,!1),s=r+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(i>s&&(this._key+=this.decoder.write(t.toString("binary",s,i))),s=i,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(s<o&&(this._key+=this.decoder.write(t.toString("binary",s))),s=o)}else{for(r=void 0,i=s;i<o;++i){if(this._checkingBytes||++s,t[i]===38){r=i;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesVal}if(r!==void 0){if(++this._fields,r>s&&(this._val+=this.decoder.write(t.toString("binary",s,r))),this.boy.emit("field",dh(this._key,"binary",this.charset),dh(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),s=r+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(i>s&&(this._val+=this.decoder.write(t.toString("binary",s,i))),s=i,(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(s<o&&(this._val+=this.decoder.write(t.toString("binary",s))),s=o)}e()};fB.prototype.end=function(){this.boy._done||(this._state==="key"&&this._key.length>0?this.boy.emit("field",dh(this._key,"binary",this.charset),"",this._keyTrunc,!1):this._state==="val"&&this.boy.emit("field",dh(this._key,"binary",this.charset),dh(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))};v4.exports=fB});var R4=C((w1e,tp)=>{"use strict";var Gk=B("stream").Writable,{inherits:bEe}=B("util"),DEe=Mk(),b4=Q4(),D4=S4(),REe=Uk();function Mo(t){if(!(this instanceof Mo))return new Mo(t);if(typeof t!="object")throw new TypeError("Busboy expected an options-Object.");if(typeof t.headers!="object")throw new TypeError("Busboy expected an options-Object with headers-attribute.");if(typeof t.headers["content-type"]!="string")throw new TypeError("Missing Content-Type-header.");let r=t,{headers:e}=r,n=ii(r,["headers"]);this.opts=x({autoDestroy:!1},n),Gk.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(e),this._finished=!1}bEe(Mo,Gk);Mo.prototype.emit=function(t){if(t==="finish"){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}Gk.prototype.emit.apply(this,arguments)};Mo.prototype.getParserByHeaders=function(t){let e=REe(t["content-type"]),n={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:t,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:e,preservePath:this.opts.preservePath};if(b4.detect.test(e[0]))return new b4(this,n);if(D4.detect.test(e[0]))return new D4(this,n);throw new Error("Unsupported Content-Type.")};Mo.prototype._write=function(t,e,n){this._parser.write(t,n)};tp.exports=Mo;tp.exports.default=Mo;tp.exports.Busboy=Mo;tp.exports.Dicer=DEe});var AA=C((v1e,T4)=>{"use strict";var{MessageChannel:TEe,receiveMessageOnPort:kEe}=B("worker_threads"),NEe=["GET","HEAD","POST"],FEe=[101,204,205,304],xEe=[301,302,303,307,308],MEe=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","5060","5061","6000","6566","6665","6666","6667","6668","6669","6697","10080"],LEe=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],OEe=["follow","manual","error"],UEe=["GET","HEAD","OPTIONS","TRACE"],PEe=["navigate","same-origin","no-cors","cors"],VEe=["omit","same-origin","include"],qEe=["default","no-store","reload","no-cache","force-cache","only-if-cached"],GEe=["content-encoding","content-language","content-location","content-type","content-length"],HEe=["half"],YEe=["CONNECT","TRACE","TRACK"],WEe=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],JEe=globalThis.DOMException??(()=>{try{atob("~")}catch(t){return Object.getPrototypeOf(t).constructor}})(),fh,zEe=globalThis.structuredClone??function(e,n=void 0){if(arguments.length===0)throw new TypeError("missing argument");return fh||(fh=new TEe),fh.port1.unref(),fh.port2.unref(),fh.port1.postMessage(e,n?.transfer),kEe(fh.port2).message};T4.exports={DOMException:JEe,structuredClone:zEe,subresource:WEe,forbiddenMethods:YEe,requestBodyHeader:GEe,referrerPolicy:LEe,requestRedirect:OEe,requestMode:PEe,requestCredentials:VEe,requestCache:qEe,redirectStatus:xEe,corsSafeListedMethods:NEe,nullBodyStatus:FEe,safeMethods:UEe,badPorts:MEe,requestDuplex:HEe}});var gh=C((S1e,k4)=>{"use strict";var Hk=Symbol.for("undici.globalOrigin.1");function jEe(){return globalThis[Hk]}function KEe(t){if(t===void 0){Object.defineProperty(globalThis,Hk,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,Hk,{value:e,writable:!0,enumerable:!1,configurable:!1})}k4.exports={getGlobalOrigin:jEe,setGlobalOrigin:KEe}});var bi=C((b1e,O4)=>{"use strict";var{redirectStatus:XEe,badPorts:ZEe,referrerPolicy:$Ee}=AA(),{getGlobalOrigin:eme}=gh(),{performance:tme}=B("perf_hooks"),{isBlobLike:nme,toUSVString:rme,ReadableStreamFrom:ime}=Ve(),ph=B("assert"),{isUint8Array:sme}=B("util/types"),rp;try{rp=B("crypto")}catch{}function N4(t){let e=t.urlList,n=e.length;return n===0?null:e[n-1].toString()}function ome(t,e){if(!XEe.includes(t.status))return null;let n=t.headersList.get("location");return n!==null&&x4(n)&&(n=new URL(n,N4(t))),n&&!n.hash&&(n.hash=e),n}function ip(t){return t.urlList[t.urlList.length-1]}function ame(t){let e=ip(t);return L4(e)&&ZEe.includes(e.port)?"blocked":"allowed"}function Ame(t){return t instanceof Error||t?.constructor?.name==="Error"||t?.constructor?.name==="DOMException"}function lme(t){for(let e=0;e<t.length;++e){let n=t.charCodeAt(e);if(!(n===9||n>=32&&n<=126||n>=128&&n<=255))return!1}return!0}function cme(t){return!(t>=127||t<=32||t==="("||t===")"||t==="<"||t===">"||t==="@"||t===","||t===";"||t===":"||t==="\\"||t==='"'||t==="/"||t==="["||t==="]"||t==="?"||t==="="||t==="{"||t==="}")}function F4(t){if(!t||typeof t!="string")return!1;for(let e=0;e<t.length;++e){let n=t.charCodeAt(e);if(n>127||!cme(n))return!1}return!0}function ume(t){return t.length===0?!1:F4(t)}function x4(t){return!(t.startsWith("	")||t.startsWith(" ")||t.endsWith("	")||t.endsWith(" ")||t.includes("\0")||t.includes("\r")||t.includes(`
`))}function hme(t,e){let{headersList:n}=e,r=(n.get("referrer-policy")??"").split(","),i="";if(r.length>0)for(let s=r.length;s!==0;s--){let o=r[s-1].trim();if($Ee.includes(o)){i=o;break}}i!==""&&(t.referrerPolicy=i)}function dme(){return"allowed"}function fme(){return"success"}function gme(){return"success"}function pme(t){let e=null;e=t.mode,t.headersList.set("sec-fetch-mode",e)}function Eme(t){let e=t.origin;if(t.responseTainting==="cors"||t.mode==="websocket")e&&t.headersList.append("origin",e);else if(t.method!=="GET"&&t.method!=="HEAD"){switch(t.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":t.origin&&Jk(t.origin)&&!Jk(ip(t))&&(e=null);break;case"same-origin":gB(t,ip(t))||(e=null);break;default:}e&&t.headersList.append("origin",e)}}function mme(t){return tme.now()}function Cme(t){return{startTime:t.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:t.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function Ime(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function yme(t){return{referrerPolicy:t.referrerPolicy}}function Bme(t){let e=t.referrerPolicy;ph(e);let n=null;if(t.referrer==="client"){let a=eme();if(!a||a.origin==="null")return"no-referrer";n=new URL(a)}else t.referrer instanceof URL&&(n=t.referrer);let r=Yk(n),i=Yk(n,!0);r.toString().length>4096&&(r=i);let s=gB(t,r),o=np(r)&&!np(t.url);switch(e){case"origin":return i??Yk(n,!0);case"unsafe-url":return r;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?r:i;case"strict-origin-when-cross-origin":{let a=ip(t);return gB(r,a)?r:np(r)&&!np(a)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return o?"no-referrer":i}}function Yk(t,e){return ph(t instanceof URL),t.protocol==="file:"||t.protocol==="about:"||t.protocol==="blank:"?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}function np(t){if(!(t instanceof URL))return!1;if(t.href==="about:blank"||t.href==="about:srcdoc"||t.protocol==="data:"||t.protocol==="file:")return!0;return e(t.origin);function e(n){if(n==null||n==="null")return!1;let r=new URL(n);return!!(r.protocol==="https:"||r.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(r.hostname)||r.hostname==="localhost"||r.hostname.includes("localhost.")||r.hostname.endsWith(".localhost"))}}function Qme(t,e){if(rp===void 0)return!0;let n=_me(e);if(n==="no metadata"||n.length===0)return!0;let r=n.sort((o,a)=>a.algo.localeCompare(o.algo)),i=r[0].algo,s=r.filter(o=>o.algo===i);for(let o of s){let a=o.algo,A=o.hash;A.endsWith("==")&&(A=A.slice(0,-2));let l=rp.createHash(a).update(t).digest("base64");if(l.endsWith("==")&&(l=l.slice(0,-2)),l===A)return!0;let c=rp.createHash(a).update(t).digest("base64url");if(c.endsWith("==")&&(c=c.slice(0,-2)),c===A)return!0}return!1}var wme=/((?<algo>sha256|sha384|sha512)-(?<hash>[A-z0-9+/]{1}.*={0,2}))( +[\x21-\x7e]?)?/i;function _me(t){let e=[],n=!0,r=rp.getHashes();for(let i of t.split(" ")){n=!1;let s=wme.exec(i);if(s===null||s.groups===void 0)continue;let o=s.groups.algo;r.includes(o.toLowerCase())&&e.push(s.groups)}return n===!0?"no metadata":e}function vme(t){}function gB(t,e){return t.origin===e.origin&&t.origin==="null"||t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port}function Sme(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function bme(t){return t.controller.state==="aborted"}function Dme(t){return t.controller.state==="aborted"||t.controller.state==="terminated"}function Rme(t){return/^(DELETE|GET|HEAD|OPTIONS|POST|PUT)$/i.test(t)?t.toUpperCase():t}function Tme(t){let e=JSON.stringify(t);if(e===void 0)throw new TypeError("Value is not JSON serializable");return ph(typeof e=="string"),e}var kme=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function Nme(t,e,n){let r={index:0,kind:n,target:t},i={next(){if(Object.getPrototypeOf(this)!==i)throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let{index:s,kind:o,target:a}=r,A=a(),l=A.length;if(s>=l)return{value:void 0,done:!0};let c=A[s];return r.index=s+1,Fme(c,o)},[Symbol.toStringTag]:`${e} Iterator`};return Object.setPrototypeOf(i,kme),Object.setPrototypeOf({},i)}function Fme(t,e){let n;switch(e){case"key":{n=t[0];break}case"value":{n=t[1];break}case"key+value":{n=t;break}}return{value:n,done:!1}}function xme(t,e,n){return E(this,null,function*(){let r=e,i=n,s;try{s=t.stream.getReader()}catch(o){i(o);return}try{let o=yield M4(s);r(o)}catch(o){i(o)}})}var Wk=globalThis.ReadableStream;function Mme(t){return Wk||(Wk=B("stream/web").ReadableStream),t instanceof Wk||t[Symbol.toStringTag]==="ReadableStream"&&typeof t.tee=="function"}var Lme=65535;function Ome(t){return t.length<Lme?String.fromCharCode(...t):t.reduce((e,n)=>e+String.fromCharCode(n),"")}function Ume(t){try{t.close()}catch(e){if(!e.message.includes("Controller is already closed"))throw e}}function Pme(t){for(let e=0;e<t.length;e++)ph(t.charCodeAt(e)<=255);return t}function M4(t){return E(this,null,function*(){let e=[],n=0;for(;;){let{done:r,value:i}=yield t.read();if(r)return Buffer.concat(e,n);if(!sme(i))throw new TypeError("Received non-Uint8Array chunk");e.push(i),n+=i.length}})}function Vme(t){ph("protocol"in t);let e=t.protocol;return e==="about:"||e==="blob:"||e==="data:"}function Jk(t){return typeof t=="string"?t.startsWith("https:"):t.protocol==="https:"}function L4(t){ph("protocol"in t);let e=t.protocol;return e==="http:"||e==="https:"}var qme=Object.hasOwn||((t,e)=>Object.prototype.hasOwnProperty.call(t,e));O4.exports={isAborted:bme,isCancelled:Dme,createDeferredPromise:Sme,ReadableStreamFrom:ime,toUSVString:rme,tryUpgradeRequestToAPotentiallyTrustworthyURL:vme,coarsenedSharedCurrentTime:mme,determineRequestsReferrer:Bme,makePolicyContainer:Ime,clonePolicyContainer:yme,appendFetchMetadata:pme,appendRequestOriginHeader:Eme,TAOCheck:gme,corsCheck:fme,crossOriginResourcePolicyCheck:dme,createOpaqueTimingInfo:Cme,setRequestReferrerPolicyOnRedirect:hme,isValidHTTPToken:F4,requestBadPort:ame,requestCurrentURL:ip,responseURL:N4,responseLocationURL:ome,isBlobLike:nme,isURLPotentiallyTrustworthy:np,isValidReasonPhrase:lme,sameOrigin:gB,normalizeMethod:Rme,serializeJavascriptValueToJSONString:Tme,makeIterator:Nme,isValidHeaderName:ume,isValidHeaderValue:x4,hasOwn:qme,isErrorLike:Ame,fullyReadBody:xme,bytesMatch:Qme,isReadableStreamLike:Mme,readableStreamClose:Ume,isomorphicEncode:Pme,isomorphicDecode:Ome,urlIsLocal:Vme,urlHasHttpsScheme:Jk,urlIsHttpHttpsScheme:L4,readAllBytes:M4}});var Lo=C((R1e,U4)=>{"use strict";U4.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kGuard:Symbol("guard"),kRealm:Symbol("realm")}});var or=C((T1e,V4)=>{"use strict";var{types:Ws}=B("util"),{hasOwn:P4,toUSVString:Gme}=bi(),P={};P.converters={};P.util={};P.errors={};P.errors.exception=function(t){return new TypeError(`${t.header}: ${t.message}`)};P.errors.conversionFailed=function(t){let e=t.types.length===1?"":" one of",n=`${t.argument} could not be converted to${e}: ${t.types.join(", ")}.`;return P.errors.exception({header:t.prefix,message:n})};P.errors.invalidArgument=function(t){return P.errors.exception({header:t.prefix,message:`"${t.value}" is an invalid ${t.type}.`})};P.brandCheck=function(t,e,n=void 0){if(n?.strict!==!1&&!(t instanceof e))throw new TypeError("Illegal invocation");return t?.[Symbol.toStringTag]===e.prototype[Symbol.toStringTag]};P.argumentLengthCheck=function({length:t},e,n){if(t<e)throw P.errors.exception(x({message:`${e} argument${e!==1?"s":""} required, but${t?" only":""} ${t} found.`},n))};P.illegalConstructor=function(){throw P.errors.exception({header:"TypeError",message:"Illegal constructor"})};P.util.Type=function(t){switch(typeof t){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return t===null?"Null":"Object"}};P.util.ConvertToInt=function(t,e,n,r={}){let i,s;e===64?(i=Math.pow(2,53)-1,n==="unsigned"?s=0:s=Math.pow(-2,53)+1):n==="unsigned"?(s=0,i=Math.pow(2,e)-1):(s=Math.pow(-2,e)-1,i=Math.pow(2,e-1)-1);let o=Number(t);if(o===0&&(o=0),r.enforceRange===!0){if(Number.isNaN(o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)throw P.errors.exception({header:"Integer conversion",message:`Could not convert ${t} to an integer.`});if(o=P.util.IntegerPart(o),o<s||o>i)throw P.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${o}.`});return o}return!Number.isNaN(o)&&r.clamp===!0?(o=Math.min(Math.max(o,s),i),Math.floor(o)%2===0?o=Math.floor(o):o=Math.ceil(o),o):Number.isNaN(o)||o===0&&Object.is(0,o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY?0:(o=P.util.IntegerPart(o),o=o%Math.pow(2,e),n==="signed"&&o>=Math.pow(2,e)-1?o-Math.pow(2,e):o)};P.util.IntegerPart=function(t){let e=Math.floor(Math.abs(t));return t<0?-1*e:e};P.sequenceConverter=function(t){return e=>{if(P.util.Type(e)!=="Object")throw P.errors.exception({header:"Sequence",message:`Value of type ${P.util.Type(e)} is not an Object.`});let n=e?.[Symbol.iterator]?.(),r=[];if(n===void 0||typeof n.next!="function")throw P.errors.exception({header:"Sequence",message:"Object is not an iterator."});for(;;){let{done:i,value:s}=n.next();if(i)break;r.push(t(s))}return r}};P.recordConverter=function(t,e){return n=>{if(P.util.Type(n)!=="Object")throw P.errors.exception({header:"Record",message:`Value of type ${P.util.Type(n)} is not an Object.`});let r={};if(!Ws.isProxy(n)){let s=Object.keys(n);for(let o of s){let a=t(o),A=e(n[o]);r[a]=A}return r}let i=Reflect.ownKeys(n);for(let s of i)if(Reflect.getOwnPropertyDescriptor(n,s)?.enumerable){let a=t(s),A=e(n[s]);r[a]=A}return r}};P.interfaceConverter=function(t){return(e,n={})=>{if(n.strict!==!1&&!(e instanceof t))throw P.errors.exception({header:t.name,message:`Expected ${e} to be an instance of ${t.name}.`});return e}};P.dictionaryConverter=function(t){return e=>{let n=P.util.Type(e),r={};if(n==="Null"||n==="Undefined")return r;if(n!=="Object")throw P.errors.exception({header:"Dictionary",message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let i of t){let{key:s,defaultValue:o,required:a,converter:A}=i;if(a===!0&&!P4(e,s))throw P.errors.exception({header:"Dictionary",message:`Missing required key "${s}".`});let l=e[s],c=P4(i,"defaultValue");if(c&&l!==null&&(l=l??o),a||c||l!==void 0){if(l=A(l),i.allowedValues&&!i.allowedValues.includes(l))throw P.errors.exception({header:"Dictionary",message:`${l} is not an accepted type. Expected one of ${i.allowedValues.join(", ")}.`});r[s]=l}}return r}};P.nullableConverter=function(t){return e=>e===null?e:t(e)};P.converters.DOMString=function(t,e={}){if(t===null&&e.legacyNullToEmptyString)return"";if(typeof t=="symbol")throw new TypeError("Could not convert argument of type symbol to string.");return String(t)};P.converters.ByteString=function(t){let e=P.converters.DOMString(t);for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${n} has a value of ${r} which is greater than 255.`)}return e};P.converters.USVString=Gme;P.converters.boolean=function(t){return!!t};P.converters.any=function(t){return t};P.converters["long long"]=function(t){return P.util.ConvertToInt(t,64,"signed")};P.converters["unsigned long long"]=function(t){return P.util.ConvertToInt(t,64,"unsigned")};P.converters["unsigned long"]=function(t){return P.util.ConvertToInt(t,32,"unsigned")};P.converters["unsigned short"]=function(t,e){return P.util.ConvertToInt(t,16,"unsigned",e)};P.converters.ArrayBuffer=function(t,e={}){if(P.util.Type(t)!=="Object"||!Ws.isAnyArrayBuffer(t))throw P.errors.conversionFailed({prefix:`${t}`,argument:`${t}`,types:["ArrayBuffer"]});if(e.allowShared===!1&&Ws.isSharedArrayBuffer(t))throw P.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return t};P.converters.TypedArray=function(t,e,n={}){if(P.util.Type(t)!=="Object"||!Ws.isTypedArray(t)||t.constructor.name!==e.name)throw P.errors.conversionFailed({prefix:`${e.name}`,argument:`${t}`,types:[e.name]});if(n.allowShared===!1&&Ws.isSharedArrayBuffer(t.buffer))throw P.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return t};P.converters.DataView=function(t,e={}){if(P.util.Type(t)!=="Object"||!Ws.isDataView(t))throw P.errors.exception({header:"DataView",message:"Object is not a DataView."});if(e.allowShared===!1&&Ws.isSharedArrayBuffer(t.buffer))throw P.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return t};P.converters.BufferSource=function(t,e={}){if(Ws.isAnyArrayBuffer(t))return P.converters.ArrayBuffer(t,e);if(Ws.isTypedArray(t))return P.converters.TypedArray(t,t.constructor);if(Ws.isDataView(t))return P.converters.DataView(t,e);throw new TypeError(`Could not convert ${t} to a BufferSource.`)};P.converters["sequence<ByteString>"]=P.sequenceConverter(P.converters.ByteString);P.converters["sequence<sequence<ByteString>>"]=P.sequenceConverter(P.converters["sequence<ByteString>"]);P.converters["record<ByteString, ByteString>"]=P.recordConverter(P.converters.ByteString,P.converters.ByteString);V4.exports={webidl:P}});var is=C((N1e,J4)=>{var EB=B("assert"),{atob:Hme}=B("buffer"),{isomorphicDecode:Yme}=bi(),Wme=new TextEncoder,pB=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/,Jme=/(\u000A|\u000D|\u0009|\u0020)/,zme=/[\u0009|\u0020-\u007E|\u0080-\u00FF]/;function jme(t){EB(t.protocol==="data:");let e=H4(t,!0);e=e.slice(5);let n={position:0},r=Eh(",",e,n),i=r.length;if(r=$me(r,!0,!0),n.position>=e.length)return"failure";n.position++;let s=e.slice(i+1),o=Y4(s);if(/;(\u0020){0,}base64$/i.test(r)){let A=Yme(o);if(o=Xme(A),o==="failure")return"failure";r=r.slice(0,-6),r=r.replace(/(\u0020)+$/,""),r=r.slice(0,-1)}r.startsWith(";")&&(r="text/plain"+r);let a=jk(r);return a==="failure"&&(a=jk("text/plain;charset=US-ASCII")),{mimeType:a,body:o}}function H4(t,e=!1){let n=t.href;if(!e)return n;let r=n.lastIndexOf("#");return r===-1?n:n.slice(0,r)}function mB(t,e,n){let r="";for(;n.position<e.length&&t(e[n.position]);)r+=e[n.position],n.position++;return r}function Eh(t,e,n){let r=e.indexOf(t,n.position),i=n.position;return r===-1?(n.position=e.length,e.slice(i)):(n.position=r,e.slice(i,n.position))}function Y4(t){let e=Wme.encode(t);return Kme(e)}function Kme(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];if(r!==37)e.push(r);else if(r===37&&!/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(t[n+1],t[n+2])))e.push(37);else{let i=String.fromCharCode(t[n+1],t[n+2]),s=Number.parseInt(i,16);e.push(s),n+=2}}return Uint8Array.from(e)}function jk(t){t=zk(t,!0,!0);let e={position:0},n=Eh("/",t,e);if(n.length===0||!pB.test(n)||e.position>t.length)return"failure";e.position++;let r=Eh(";",t,e);if(r=zk(r,!1,!0),r.length===0||!pB.test(r))return"failure";let i=n.toLowerCase(),s=r.toLowerCase(),o={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;e.position<t.length;){e.position++,mB(l=>Jme.test(l),t,e);let a=mB(l=>l!==";"&&l!=="=",t,e);if(a=a.toLowerCase(),e.position<t.length){if(t[e.position]===";")continue;e.position++}if(e.position>t.length)break;let A=null;if(t[e.position]==='"')A=W4(t,e,!0),Eh(";",t,e);else if(A=Eh(";",t,e),A=zk(A,!1,!0),A.length===0)continue;a.length!==0&&pB.test(a)&&(A.length===0||zme.test(A))&&!o.parameters.has(a)&&o.parameters.set(a,A)}return o}function Xme(t){if(t=t.replace(/[\u0009\u000A\u000C\u000D\u0020]/g,""),t.length%4===0&&(t=t.replace(/=?=$/,"")),t.length%4===1||/[^+/0-9A-Za-z]/.test(t))return"failure";let e=Hme(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function W4(t,e,n){let r=e.position,i="";for(EB(t[e.position]==='"'),e.position++;i+=mB(o=>o!=='"'&&o!=="\\",t,e),!(e.position>=t.length);){let s=t[e.position];if(e.position++,s==="\\"){if(e.position>=t.length){i+="\\";break}i+=t[e.position],e.position++}else{EB(s==='"');break}}return n?i:t.slice(r,e.position)}function Zme(t){EB(t!=="failure");let{parameters:e,essence:n}=t,r=n;for(let[i,s]of e.entries())r+=";",r+=i,r+="=",pB.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),r+=s;return r}function q4(t){return t==="\r"||t===`
`||t==="	"||t===" "}function zk(t,e=!0,n=!0){let r=0,i=t.length-1;if(e)for(;r<t.length&&q4(t[r]);r++);if(n)for(;i>0&&q4(t[i]);i--);return t.slice(r,i+1)}function G4(t){return t==="\r"||t===`
`||t==="	"||t==="\f"||t===" "}function $me(t,e=!0,n=!0){let r=0,i=t.length-1;if(e)for(;r<t.length&&G4(t[r]);r++);if(n)for(;i>0&&G4(t[i]);i--);return t.slice(r,i+1)}J4.exports={dataURLProcessor:jme,URLSerializer:H4,collectASequenceOfCodePoints:mB,collectASequenceOfCodePointsFast:Eh,stringPercentDecode:Y4,parseMIMEType:jk,collectAnHTTPQuotedString:W4,serializeAMimeType:Zme}});var CB=C((F1e,Z4)=>{"use strict";var{Blob:K4,File:z4}=B("buffer"),{types:Kk}=B("util"),{kState:Vr}=Lo(),{isBlobLike:X4}=bi(),{webidl:Xe}=or(),{parseMIMEType:eCe,serializeAMimeType:tCe}=is(),{kEnumerableProperty:j4}=Ve(),sp=class t extends K4{constructor(e,n,r={}){Xe.argumentLengthCheck(arguments,2,{header:"File constructor"}),e=Xe.converters["sequence<BlobPart>"](e),n=Xe.converters.USVString(n),r=Xe.converters.FilePropertyBag(r);let i=n,s=r.type,o;e:{if(s){if(s=eCe(s),s==="failure"){s="";break e}s=tCe(s).toLowerCase()}o=r.lastModified}super(nCe(e,r),{type:s}),this[Vr]={name:i,lastModified:o,type:s}}get name(){return Xe.brandCheck(this,t),this[Vr].name}get lastModified(){return Xe.brandCheck(this,t),this[Vr].lastModified}get type(){return Xe.brandCheck(this,t),this[Vr].type}},Xk=class t{constructor(e,n,r={}){let i=n,s=r.type,o=r.lastModified??Date.now();this[Vr]={blobLike:e,name:i,type:s,lastModified:o}}stream(...e){return Xe.brandCheck(this,t),this[Vr].blobLike.stream(...e)}arrayBuffer(...e){return Xe.brandCheck(this,t),this[Vr].blobLike.arrayBuffer(...e)}slice(...e){return Xe.brandCheck(this,t),this[Vr].blobLike.slice(...e)}text(...e){return Xe.brandCheck(this,t),this[Vr].blobLike.text(...e)}get size(){return Xe.brandCheck(this,t),this[Vr].blobLike.size}get type(){return Xe.brandCheck(this,t),this[Vr].blobLike.type}get name(){return Xe.brandCheck(this,t),this[Vr].name}get lastModified(){return Xe.brandCheck(this,t),this[Vr].lastModified}get[Symbol.toStringTag](){return"File"}};Object.defineProperties(sp.prototype,{[Symbol.toStringTag]:{value:"File",configurable:!0},name:j4,lastModified:j4});Xe.converters.Blob=Xe.interfaceConverter(K4);Xe.converters.BlobPart=function(t,e){if(Xe.util.Type(t)==="Object"){if(X4(t))return Xe.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||Kk.isAnyArrayBuffer(t))return Xe.converters.BufferSource(t,e)}return Xe.converters.USVString(t,e)};Xe.converters["sequence<BlobPart>"]=Xe.sequenceConverter(Xe.converters.BlobPart);Xe.converters.FilePropertyBag=Xe.dictionaryConverter([{key:"lastModified",converter:Xe.converters["long long"],get defaultValue(){return Date.now()}},{key:"type",converter:Xe.converters.DOMString,defaultValue:""},{key:"endings",converter:t=>(t=Xe.converters.DOMString(t),t=t.toLowerCase(),t!=="native"&&(t="transparent"),t),defaultValue:"transparent"}]);function nCe(t,e){let n=[];for(let r of t)if(typeof r=="string"){let i=r;e.endings==="native"&&(i=rCe(i)),n.push(new TextEncoder().encode(i))}else Kk.isAnyArrayBuffer(r)||Kk.isTypedArray(r)?r.buffer?n.push(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)):n.push(new Uint8Array(r)):X4(r)&&n.push(r);return n}function rCe(t){let e=`
`;return process.platform==="win32"&&(e=`\r
`),t.replace(/\r?\n/g,e)}function iCe(t){return z4&&t instanceof z4||t instanceof sp||t&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&t[Symbol.toStringTag]==="File"}Z4.exports={File:sp,FileLike:Xk,isFileLike:iCe}});var yB=C((x1e,r3)=>{"use strict";var{isBlobLike:IB,toUSVString:sCe,makeIterator:Zk}=bi(),{kState:Jn}=Lo(),{File:n3,FileLike:$4,isFileLike:oCe}=CB(),{webidl:tt}=or(),{Blob:aCe,File:$k}=B("buffer"),e3=$k??n3,mh=class t{constructor(e){if(e!==void 0)throw tt.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[Jn]=[]}append(e,n,r=void 0){if(tt.brandCheck(this,t),tt.argumentLengthCheck(arguments,2,{header:"FormData.append"}),arguments.length===3&&!IB(n))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=tt.converters.USVString(e),n=IB(n)?tt.converters.Blob(n,{strict:!1}):tt.converters.USVString(n),r=arguments.length===3?tt.converters.USVString(r):void 0;let i=t3(e,n,r);this[Jn].push(i)}delete(e){tt.brandCheck(this,t),tt.argumentLengthCheck(arguments,1,{header:"FormData.delete"}),e=tt.converters.USVString(e),this[Jn]=this[Jn].filter(n=>n.name!==e)}get(e){tt.brandCheck(this,t),tt.argumentLengthCheck(arguments,1,{header:"FormData.get"}),e=tt.converters.USVString(e);let n=this[Jn].findIndex(r=>r.name===e);return n===-1?null:this[Jn][n].value}getAll(e){return tt.brandCheck(this,t),tt.argumentLengthCheck(arguments,1,{header:"FormData.getAll"}),e=tt.converters.USVString(e),this[Jn].filter(n=>n.name===e).map(n=>n.value)}has(e){return tt.brandCheck(this,t),tt.argumentLengthCheck(arguments,1,{header:"FormData.has"}),e=tt.converters.USVString(e),this[Jn].findIndex(n=>n.name===e)!==-1}set(e,n,r=void 0){if(tt.brandCheck(this,t),tt.argumentLengthCheck(arguments,2,{header:"FormData.set"}),arguments.length===3&&!IB(n))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=tt.converters.USVString(e),n=IB(n)?tt.converters.Blob(n,{strict:!1}):tt.converters.USVString(n),r=arguments.length===3?sCe(r):void 0;let i=t3(e,n,r),s=this[Jn].findIndex(o=>o.name===e);s!==-1?this[Jn]=[...this[Jn].slice(0,s),i,...this[Jn].slice(s+1).filter(o=>o.name!==e)]:this[Jn].push(i)}entries(){return tt.brandCheck(this,t),Zk(()=>this[Jn].map(e=>[e.name,e.value]),"FormData","key+value")}keys(){return tt.brandCheck(this,t),Zk(()=>this[Jn].map(e=>[e.name,e.value]),"FormData","key")}values(){return tt.brandCheck(this,t),Zk(()=>this[Jn].map(e=>[e.name,e.value]),"FormData","value")}forEach(e,n=globalThis){if(tt.brandCheck(this,t),tt.argumentLengthCheck(arguments,1,{header:"FormData.forEach"}),typeof e!="function")throw new TypeError("Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.");for(let[r,i]of this)e.apply(n,[i,r,this])}};mh.prototype[Symbol.iterator]=mh.prototype.entries;Object.defineProperties(mh.prototype,{[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function t3(t,e,n){if(t=Buffer.from(t).toString("utf8"),typeof e=="string")e=Buffer.from(e).toString("utf8");else if(oCe(e)||(e=e instanceof aCe?new e3([e],"blob",{type:e.type}):new $4(e,"blob",{type:e.type})),n!==void 0){let r={type:e.type,lastModified:e.lastModified};e=$k&&e instanceof $k||e instanceof n3?new e3([e],n,r):new $4(e,n,r)}return{name:t,value:e}}r3.exports={FormData:mh}});var op=C((M1e,h3)=>{"use strict";var ACe=R4(),Ch=Ve(),{ReadableStreamFrom:lCe,isBlobLike:i3,isReadableStreamLike:cCe,readableStreamClose:uCe,createDeferredPromise:hCe,fullyReadBody:dCe}=bi(),{FormData:s3}=yB(),{kState:Uo}=Lo(),{webidl:eN}=or(),{DOMException:A3,structuredClone:fCe}=AA(),{Blob:gCe,File:pCe}=B("buffer"),{kBodyUsed:ECe}=_t(),tN=B("assert"),{isErrored:mCe}=Ve(),{isUint8Array:l3,isArrayBuffer:CCe}=B("util/types"),{File:ICe}=CB(),{parseMIMEType:yCe,serializeAMimeType:BCe}=is(),Oo=globalThis.ReadableStream,o3=pCe??ICe;function c3(t,e=!1){Oo||(Oo=B("stream/web").ReadableStream);let n=null;if(t instanceof Oo)n=t;else if(i3(t))n=t.stream();else{let A;n=new Oo({pull(l){return E(this,null,function*(){l.enqueue(typeof i=="string"?new TextEncoder().encode(i):i),queueMicrotask(()=>uCe(l))})},start(){},type:void 0})}tN(cCe(n));let r=null,i=null,s=null,o=null;if(typeof t=="string")i=t,o="text/plain;charset=UTF-8";else if(t instanceof URLSearchParams)i=t.toString(),o="application/x-www-form-urlencoded;charset=UTF-8";else if(CCe(t))i=new Uint8Array(t.slice());else if(ArrayBuffer.isView(t))i=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));else if(Ch.isFormDataLike(t)){let A=`----formdata-undici-0${`${Math.floor(Math.random()*1e11)}`.padStart(11,"0")}`,l=`--${A}\r
Content-Disposition: form-data`;let c=y=>y.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),u=y=>y.replace(/\r?\n|\r/g,`\r
`),h=new TextEncoder,d=[],f=new Uint8Array([13,10]);s=0;let g=!1;for(let[y,I]of t)if(typeof I=="string"){let _=h.encode(l+`; name="${c(u(y))}"\r
\r
${u(I)}\r
`);d.push(_),s+=_.byteLength}else{let _=h.encode(`${l}; name="${c(u(y))}"`+(I.name?`; filename="${c(I.name)}"`:"")+`\r
Content-Type: ${I.type||"application/octet-stream"}\r
\r
`);d.push(_,I,f),typeof I.size=="number"?s+=_.byteLength+I.size+f.byteLength:g=!0}let m=h.encode(`--${A}--`);d.push(m),s+=m.byteLength,g&&(s=null),i=t,r=function(){return us(this,null,function*(){for(let y of d)y.stream?yield*TA(y.stream()):yield y})},o="multipart/form-data; boundary="+A}else if(i3(t))i=t,s=t.size,t.type&&(o=t.type);else if(typeof t[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(Ch.isDisturbed(t)||t.locked)throw new TypeError("Response body object should not be disturbed or locked");n=t instanceof Oo?t:lCe(t)}if((typeof i=="string"||Ch.isBuffer(i))&&(s=Buffer.byteLength(i)),r!=null){let l,A;n=new Oo({start(){return E(this,null,function*(){A=r(t)[Symbol.asyncIterator]()})},pull(c){return E(this,null,function*(){let{value:u,done:h}=yield A.next();return h?queueMicrotask(()=>{c.close()}):mCe(n)||c.enqueue(new Uint8Array(u)),c.desiredSize>0})},cancel(c){return E(this,null,function*(){yield A.return()})},type:void 0})}return[{stream:n,source:i,length:s},o]}function QCe(t,e=!1){return Oo||(Oo=B("stream/web").ReadableStream),t instanceof Oo&&(tN(!Ch.isDisturbed(t),"The body has already been consumed."),tN(!t.locked,"The stream is locked.")),c3(t,e)}function wCe(t){let[e,n]=t.stream.tee(),r=fCe(n,{transfer:[n]}),[,i]=r.tee();return t.stream=e,{stream:i,length:t.length,source:t.source}}function a3(t){return us(this,null,function*(){if(t)if(l3(t))yield t;else{let e=t.stream;if(Ch.isDisturbed(e))throw new TypeError("The body has already been consumed.");if(e.locked)throw new TypeError("The stream is locked.");e[ECe]=!0,yield*TA(e)}})}function nN(t){if(t.aborted)throw new A3("The operation was aborted.","AbortError")}function _Ce(t){return{blob(){return BB(this,r=>{let i=DCe(this);return i==="failure"?i="":i&&(i=BCe(i)),new gCe([r],{type:i})},t)},arrayBuffer(){return BB(this,r=>new Uint8Array(r).buffer,t)},text(){return BB(this,u3,t)},json(){return BB(this,bCe,t)},formData(){return E(this,null,function*(){eN.brandCheck(this,t),nN(this[Uo]);let r=this.headers.get("Content-Type");if(/multipart\/form-data/.test(r)){let h={};for(let[m,y]of this.headers)h[m.toLowerCase()]=y;let d=new s3,f;try{f=new ACe({headers:h,preservePath:!0})}catch(m){throw new A3(`${m}`,"AbortError")}f.on("field",(m,y)=>{d.append(m,y)}),f.on("file",(m,y,I,_,w)=>{let S=[];if(_==="base64"||_.toLowerCase()==="base64"){let T="";y.on("data",Z=>{T+=Z.toString().replace(/[\r\n]/gm,"");let pe=T.length-T.length%4;S.push(Buffer.from(T.slice(0,pe),"base64")),T=T.slice(pe)}),y.on("end",()=>{S.push(Buffer.from(T,"base64")),d.append(m,new o3(S,I,{type:w}))})}else y.on("data",T=>{S.push(T)}),y.on("end",()=>{d.append(m,new o3(S,I,{type:w}))})});let g=new Promise((m,y)=>{f.on("finish",m),f.on("error",I=>y(new TypeError(I)))});if(this.body!==null)try{for(var i=Ln(a3(this[Uo].body)),s,o,a;s=!(o=yield i.next()).done;s=!1){let m=o.value;f.write(m)}}catch{a=[o]}finally{try{s&&(o=i.return)&&(yield o.call(i))}finally{if(a)throw a[0]}}return f.end(),yield g,d}else if(/application\/x-www-form-urlencoded/.test(r)){let h;try{let f="",g=new TextDecoder("utf-8",{ignoreBOM:!0});try{for(var A=Ln(a3(this[Uo].body)),l,c,u;l=!(c=yield A.next()).done;l=!1){let m=c.value;if(!l3(m))throw new TypeError("Expected Uint8Array chunk");f+=g.decode(m,{stream:!0})}}catch{u=[c]}finally{try{l&&(c=A.return)&&(yield c.call(A))}finally{if(u)throw u[0]}}f+=g.decode(),h=new URLSearchParams(f)}catch(f){throw Object.assign(new TypeError,{cause:f})}let d=new s3;for(let[f,g]of h)d.append(f,g);return d}else throw yield Promise.resolve(),nN(this[Uo]),eN.errors.exception({header:`${t.name}.formData`,message:"Could not parse content as FormData."})})}}}function vCe(t){Object.assign(t.prototype,_Ce(t))}function BB(t,e,n){return E(this,null,function*(){if(eN.brandCheck(t,n),nN(t[Uo]),SCe(t[Uo].body))throw new TypeError("Body is unusable");let r=hCe(),i=o=>r.reject(o),s=o=>{try{r.resolve(e(o))}catch(a){i(a)}};return t[Uo].body==null?(s(new Uint8Array),r.promise):(yield dCe(t[Uo].body,s,i),r.promise)})}function SCe(t){return t!=null&&(t.stream.locked||Ch.isDisturbed(t.stream))}function u3(t){return t.length===0?"":(t[0]===239&&t[1]===187&&t[2]===191&&(t=t.subarray(3)),new TextDecoder().decode(t))}function bCe(t){return JSON.parse(u3(t))}function DCe(t){let{headersList:e}=t[Uo],n=e.get("content-type");return n===null?"failure":yCe(n)}h3.exports={extractBody:c3,safelyExtractBody:QCe,cloneBody:wCe,mixinBody:vCe}});var p3=C((O1e,g3)=>{"use strict";var{InvalidArgumentError:dt,NotSupportedError:RCe}=ht(),Po=B("assert"),{kHTTP2BuildRequest:TCe,kHTTP2CopyHeaders:kCe,kHTTP1BuildRequest:NCe}=_t(),qr=Ve(),d3=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/,f3=/[^\t\x20-\x7e\x80-\xff]/,FCe=/[^\u0021-\u00ff]/,Vo=Symbol("handler"),rn={},rN;try{let t=B("diagnostics_channel");rn.create=t.channel("undici:request:create"),rn.bodySent=t.channel("undici:request:bodySent"),rn.headers=t.channel("undici:request:headers"),rn.trailers=t.channel("undici:request:trailers"),rn.error=t.channel("undici:request:error")}catch{rn.create={hasSubscribers:!1},rn.bodySent={hasSubscribers:!1},rn.headers={hasSubscribers:!1},rn.trailers={hasSubscribers:!1},rn.error={hasSubscribers:!1}}var iN=class t{constructor(e,{path:n,method:r,body:i,headers:s,query:o,idempotent:a,blocking:A,upgrade:l,headersTimeout:c,bodyTimeout:u,reset:h,throwOnError:d,expectContinue:f},g){if(typeof n!="string")throw new dt("path must be a string");if(n[0]!=="/"&&!(n.startsWith("http://")||n.startsWith("https://"))&&r!=="CONNECT")throw new dt("path must be an absolute URL or start with a slash");if(FCe.exec(n)!==null)throw new dt("invalid request path");if(typeof r!="string")throw new dt("method must be a string");if(d3.exec(r)===null)throw new dt("invalid request method");if(l&&typeof l!="string")throw new dt("upgrade must be a string");if(c!=null&&(!Number.isFinite(c)||c<0))throw new dt("invalid headersTimeout");if(u!=null&&(!Number.isFinite(u)||u<0))throw new dt("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new dt("invalid reset");if(f!=null&&typeof f!="boolean")throw new dt("invalid expectContinue");if(this.headersTimeout=c,this.bodyTimeout=u,this.throwOnError=d===!0,this.method=r,i==null)this.body=null;else if(qr.isStream(i))this.body=i;else if(qr.isBuffer(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(qr.isFormDataLike(i)||qr.isIterable(i)||qr.isBlobLike(i))this.body=i;else throw new dt("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=l||null,this.path=o?qr.buildURL(n,o):n,this.origin=e,this.idempotent=a??(r==="HEAD"||r==="GET"),this.blocking=A??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers="",this.expectContinue=f??!1,Array.isArray(s)){if(s.length%2!==0)throw new dt("headers array must be even");for(let m=0;m<s.length;m+=2)ap(this,s[m],s[m+1])}else if(s&&typeof s=="object"){let m=Object.keys(s);for(let y=0;y<m.length;y++){let I=m[y];ap(this,I,s[I])}}else if(s!=null)throw new dt("headers must be an object or an array");if(qr.isFormDataLike(this.body)){if(qr.nodeMajor<16||qr.nodeMajor===16&&qr.nodeMinor<8)throw new dt("Form-Data bodies are only supported in node v16.8 and newer.");rN||(rN=op().extractBody);let[m,y]=rN(i);this.contentType==null&&(this.contentType=y,this.headers+=`content-type: ${y}\r
`),this.body=m.stream,this.contentLength=m.length}else qr.isBlobLike(i)&&this.contentType==null&&i.type&&(this.contentType=i.type,this.headers+=`content-type: ${i.type}\r
`);qr.validateHandler(g,r,l),this.servername=qr.getServerName(this.host),this[Vo]=g,rn.create.hasSubscribers&&rn.create.publish({request:this})}onBodySent(e){if(this[Vo].onBodySent)try{this[Vo].onBodySent(e)}catch(n){this.onError(n)}}onRequestSent(){rn.bodySent.hasSubscribers&&rn.bodySent.publish({request:this})}onConnect(e){return Po(!this.aborted),Po(!this.completed),this[Vo].onConnect(e)}onHeaders(e,n,r,i){return Po(!this.aborted),Po(!this.completed),rn.headers.hasSubscribers&&rn.headers.publish({request:this,response:{statusCode:e,headers:n,statusText:i}}),this[Vo].onHeaders(e,n,r,i)}onData(e){return Po(!this.aborted),Po(!this.completed),this[Vo].onData(e)}onUpgrade(e,n,r){return Po(!this.aborted),Po(!this.completed),this[Vo].onUpgrade(e,n,r)}onComplete(e){return Po(!this.aborted),this.completed=!0,rn.trailers.hasSubscribers&&rn.trailers.publish({request:this,trailers:e}),this[Vo].onComplete(e)}onError(e){if(rn.error.hasSubscribers&&rn.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[Vo].onError(e)}addHeader(e,n){return ap(this,e,n),this}static[NCe](e,n,r){return new t(e,n,r)}static[TCe](e,n,r){let i=n.headers;n=se(x({},n),{headers:null});let s=new t(e,n,r);if(s.headers={},Array.isArray(i)){if(i.length%2!==0)throw new dt("headers array must be even");for(let o=0;o<i.length;o+=2)ap(s,i[o],i[o+1],!0)}else if(i&&typeof i=="object"){let o=Object.keys(i);for(let a=0;a<o.length;a++){let A=o[a];ap(s,A,i[A],!0)}}else if(i!=null)throw new dt("headers must be an object or an array");return s}static[kCe](e){let n=e.split(`\r
`),r={};for(let i of n){let[s,o]=i.split(": ");o==null||o.length===0||(r[s]?r[s]+=`,${o}`:r[s]=o)}return r}};function Rl(t,e,n){if(e&&typeof e=="object")throw new dt(`invalid ${t} header`);if(e=e!=null?`${e}`:"",f3.exec(e)!==null)throw new dt(`invalid ${t} header`);return n?e:`${t}: ${e}\r
`}function ap(t,e,n,r=!1){if(n&&typeof n=="object"&&!Array.isArray(n))throw new dt(`invalid ${e} header`);if(n===void 0)return;if(t.host===null&&e.length===4&&e.toLowerCase()==="host"){if(f3.exec(n)!==null)throw new dt(`invalid ${e} header`);t.host=n}else if(t.contentLength===null&&e.length===14&&e.toLowerCase()==="content-length"){if(t.contentLength=parseInt(n,10),!Number.isFinite(t.contentLength))throw new dt("invalid content-length header")}else if(t.contentType===null&&e.length===12&&e.toLowerCase()==="content-type")t.contentType=n,r?t.headers[e]=Rl(e,n,r):t.headers+=Rl(e,n);else{if(e.length===17&&e.toLowerCase()==="transfer-encoding")throw new dt("invalid transfer-encoding header");if(e.length===10&&e.toLowerCase()==="connection"){let i=typeof n=="string"?n.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new dt("invalid connection header");i==="close"&&(t.reset=!0)}else{if(e.length===10&&e.toLowerCase()==="keep-alive")throw new dt("invalid keep-alive header");if(e.length===7&&e.toLowerCase()==="upgrade")throw new dt("invalid upgrade header");if(e.length===6&&e.toLowerCase()==="expect")throw new RCe("expect header not supported");if(d3.exec(e)===null)throw new dt("invalid header key");if(Array.isArray(n))for(let i=0;i<n.length;i++)r?t.headers[e]?t.headers[e]+=`,${Rl(e,n[i],r)}`:t.headers[e]=Rl(e,n[i],r):t.headers+=Rl(e,n[i]);else r?t.headers[e]=Rl(e,n,r):t.headers+=Rl(e,n)}}}g3.exports=iN});var QB=C((P1e,E3)=>{"use strict";var xCe=B("events"),sN=class extends xCe{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}};E3.exports=sN});var lp=C((V1e,m3)=>{"use strict";var MCe=QB(),{ClientDestroyedError:oN,ClientClosedError:LCe,InvalidArgumentError:Ih}=ht(),{kDestroy:OCe,kClose:UCe,kDispatch:aN,kInterceptors:Tl}=_t(),yh=Symbol("destroyed"),Ap=Symbol("closed"),qo=Symbol("onDestroyed"),Bh=Symbol("onClosed"),wB=Symbol("Intercepted Dispatch"),AN=class extends MCe{constructor(){super(),this[yh]=!1,this[qo]=null,this[Ap]=!1,this[Bh]=[]}get destroyed(){return this[yh]}get closed(){return this[Ap]}get interceptors(){return this[Tl]}set interceptors(e){if(e){for(let n=e.length-1;n>=0;n--)if(typeof this[Tl][n]!="function")throw new Ih("interceptor must be an function")}this[Tl]=e}close(e){if(e===void 0)return new Promise((r,i)=>{this.close((s,o)=>s?i(s):r(o))});if(typeof e!="function")throw new Ih("invalid callback");if(this[yh]){queueMicrotask(()=>e(new oN,null));return}if(this[Ap]){this[Bh]?this[Bh].push(e):queueMicrotask(()=>e(null,null));return}this[Ap]=!0,this[Bh].push(e);let n=()=>{let r=this[Bh];this[Bh]=null;for(let i=0;i<r.length;i++)r[i](null,null)};this[UCe]().then(()=>this.destroy()).then(()=>{queueMicrotask(n)})}destroy(e,n){if(typeof e=="function"&&(n=e,e=null),n===void 0)return new Promise((i,s)=>{this.destroy(e,(o,a)=>o?s(o):i(a))});if(typeof n!="function")throw new Ih("invalid callback");if(this[yh]){this[qo]?this[qo].push(n):queueMicrotask(()=>n(null,null));return}e||(e=new oN),this[yh]=!0,this[qo]=this[qo]||[],this[qo].push(n);let r=()=>{let i=this[qo];this[qo]=null;for(let s=0;s<i.length;s++)i[s](null,null)};this[OCe](e).then(()=>{queueMicrotask(r)})}[wB](e,n){if(!this[Tl]||this[Tl].length===0)return this[wB]=this[aN],this[aN](e,n);let r=this[aN].bind(this);for(let i=this[Tl].length-1;i>=0;i--)r=this[Tl][i](r);return this[wB]=r,r(e,n)}dispatch(e,n){if(!n||typeof n!="object")throw new Ih("handler must be an object");try{if(!e||typeof e!="object")throw new Ih("opts must be an object.");if(this[yh]||this[qo])throw new oN;if(this[Ap])throw new LCe;return this[wB](e,n)}catch(r){if(typeof n.onError!="function")throw new Ih("invalid onError method");return n.onError(r),!1}}};m3.exports=AN});var cp=C((H1e,y3)=>{"use strict";var PCe=B("net"),C3=B("assert"),I3=Ve(),{InvalidArgumentError:VCe,ConnectTimeoutError:qCe}=ht(),lN,cN;global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE?cN=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(n=>{if(this._sessionCache.size<this._maxCachedSessions)return;let r=this._sessionCache.get(n);r!==void 0&&r.deref()===void 0&&this._sessionCache.delete(n)})}get(e){let n=this._sessionCache.get(e);return n?n.deref():null}set(e,n){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(n)),this._sessionRegistry.register(n,e))}}:cN=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,n){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:r}=this._sessionCache.keys().next();this._sessionCache.delete(r)}this._sessionCache.set(e,n)}}};function GCe(s){var o=s,{allowH2:t,maxCachedSessions:e,socketPath:n,timeout:r}=o,i=ii(o,["allowH2","maxCachedSessions","socketPath","timeout"]);if(e!=null&&(!Number.isInteger(e)||e<0))throw new VCe("maxCachedSessions must be a positive integer or zero");let a=x({path:n},i),A=new cN(e??100);return r=r??1e4,t=t??!1,function({hostname:c,host:u,protocol:h,port:d,servername:f,localAddress:g,httpSocket:m},y){let I;if(h==="https:"){lN||(lN=B("tls")),f=f||a.servername||I3.getServerName(u)||null;let w=f||c,S=A.get(w)||null;C3(w),I=lN.connect(se(x({highWaterMark:16384},a),{servername:f,session:S,localAddress:g,ALPNProtocols:t?["http/1.1","h2"]:["http/1.1"],socket:m,port:d||443,host:c})),I.on("session",function(T){A.set(w,T)})}else C3(!m,"httpSocket can only be sent on TLS update"),I=PCe.connect(se(x({highWaterMark:64*1024},a),{localAddress:g,port:d||80,host:c}));if(a.keepAlive==null||a.keepAlive){let w=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;I.setKeepAlive(!0,w)}let _=HCe(()=>YCe(I),r);return I.setNoDelay(!0).once(h==="https:"?"secureConnect":"connect",function(){if(_(),y){let w=y;y=null,w(null,this)}}).on("error",function(w){if(_(),y){let S=y;y=null,S(w)}}),I}}function HCe(t,e){if(!e)return()=>{};let n=null,r=null,i=setTimeout(()=>{n=setImmediate(()=>{process.platform==="win32"?r=setImmediate(()=>t()):t()})},e);return()=>{clearTimeout(i),clearImmediate(n),clearImmediate(r)}}function YCe(t){I3.destroy(t,new qCe)}y3.exports=GCe});var B3=C(_B=>{"use strict";Object.defineProperty(_B,"__esModule",{value:!0});_B.enumToMap=void 0;function WCe(t){let e={};return Object.keys(t).forEach(n=>{let r=t[n];typeof r=="number"&&(e[n]=r)}),e}_B.enumToMap=WCe});var Q3=C(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.SPECIAL_HEADERS=O.HEADER_STATE=O.MINOR=O.MAJOR=O.CONNECTION_TOKEN_CHARS=O.HEADER_CHARS=O.TOKEN=O.STRICT_TOKEN=O.HEX=O.URL_CHAR=O.STRICT_URL_CHAR=O.USERINFO_CHARS=O.MARK=O.ALPHANUM=O.NUM=O.HEX_MAP=O.NUM_MAP=O.ALPHA=O.FINISH=O.H_METHOD_MAP=O.METHOD_MAP=O.METHODS_RTSP=O.METHODS_ICE=O.METHODS_HTTP=O.METHODS=O.LENIENT_FLAGS=O.FLAGS=O.TYPE=O.ERROR=void 0;var JCe=B3(),zCe;(function(t){t[t.OK=0]="OK",t[t.INTERNAL=1]="INTERNAL",t[t.STRICT=2]="STRICT",t[t.LF_EXPECTED=3]="LF_EXPECTED",t[t.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",t[t.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",t[t.INVALID_METHOD=6]="INVALID_METHOD",t[t.INVALID_URL=7]="INVALID_URL",t[t.INVALID_CONSTANT=8]="INVALID_CONSTANT",t[t.INVALID_VERSION=9]="INVALID_VERSION",t[t.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",t[t.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",t[t.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",t[t.INVALID_STATUS=13]="INVALID_STATUS",t[t.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",t[t.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",t[t.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",t[t.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",t[t.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",t[t.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",t[t.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",t[t.PAUSED=21]="PAUSED",t[t.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",t[t.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",t[t.USER=24]="USER"})(zCe=O.ERROR||(O.ERROR={}));var jCe;(function(t){t[t.BOTH=0]="BOTH",t[t.REQUEST=1]="REQUEST",t[t.RESPONSE=2]="RESPONSE"})(jCe=O.TYPE||(O.TYPE={}));var KCe;(function(t){t[t.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",t[t.CHUNKED=8]="CHUNKED",t[t.UPGRADE=16]="UPGRADE",t[t.CONTENT_LENGTH=32]="CONTENT_LENGTH",t[t.SKIPBODY=64]="SKIPBODY",t[t.TRAILING=128]="TRAILING",t[t.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(KCe=O.FLAGS||(O.FLAGS={}));var XCe;(function(t){t[t.HEADERS=1]="HEADERS",t[t.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",t[t.KEEP_ALIVE=4]="KEEP_ALIVE"})(XCe=O.LENIENT_FLAGS||(O.LENIENT_FLAGS={}));var ae;(function(t){t[t.DELETE=0]="DELETE",t[t.GET=1]="GET",t[t.HEAD=2]="HEAD",t[t.POST=3]="POST",t[t.PUT=4]="PUT",t[t.CONNECT=5]="CONNECT",t[t.OPTIONS=6]="OPTIONS",t[t.TRACE=7]="TRACE",t[t.COPY=8]="COPY",t[t.LOCK=9]="LOCK",t[t.MKCOL=10]="MKCOL",t[t.MOVE=11]="MOVE",t[t.PROPFIND=12]="PROPFIND",t[t.PROPPATCH=13]="PROPPATCH",t[t.SEARCH=14]="SEARCH",t[t.UNLOCK=15]="UNLOCK",t[t.BIND=16]="BIND",t[t.REBIND=17]="REBIND",t[t.UNBIND=18]="UNBIND",t[t.ACL=19]="ACL",t[t.REPORT=20]="REPORT",t[t.MKACTIVITY=21]="MKACTIVITY",t[t.CHECKOUT=22]="CHECKOUT",t[t.MERGE=23]="MERGE",t[t["M-SEARCH"]=24]="M-SEARCH",t[t.NOTIFY=25]="NOTIFY",t[t.SUBSCRIBE=26]="SUBSCRIBE",t[t.UNSUBSCRIBE=27]="UNSUBSCRIBE",t[t.PATCH=28]="PATCH",t[t.PURGE=29]="PURGE",t[t.MKCALENDAR=30]="MKCALENDAR",t[t.LINK=31]="LINK",t[t.UNLINK=32]="UNLINK",t[t.SOURCE=33]="SOURCE",t[t.PRI=34]="PRI",t[t.DESCRIBE=35]="DESCRIBE",t[t.ANNOUNCE=36]="ANNOUNCE",t[t.SETUP=37]="SETUP",t[t.PLAY=38]="PLAY",t[t.PAUSE=39]="PAUSE",t[t.TEARDOWN=40]="TEARDOWN",t[t.GET_PARAMETER=41]="GET_PARAMETER",t[t.SET_PARAMETER=42]="SET_PARAMETER",t[t.REDIRECT=43]="REDIRECT",t[t.RECORD=44]="RECORD",t[t.FLUSH=45]="FLUSH"})(ae=O.METHODS||(O.METHODS={}));O.METHODS_HTTP=[ae.DELETE,ae.GET,ae.HEAD,ae.POST,ae.PUT,ae.CONNECT,ae.OPTIONS,ae.TRACE,ae.COPY,ae.LOCK,ae.MKCOL,ae.MOVE,ae.PROPFIND,ae.PROPPATCH,ae.SEARCH,ae.UNLOCK,ae.BIND,ae.REBIND,ae.UNBIND,ae.ACL,ae.REPORT,ae.MKACTIVITY,ae.CHECKOUT,ae.MERGE,ae["M-SEARCH"],ae.NOTIFY,ae.SUBSCRIBE,ae.UNSUBSCRIBE,ae.PATCH,ae.PURGE,ae.MKCALENDAR,ae.LINK,ae.UNLINK,ae.PRI,ae.SOURCE];O.METHODS_ICE=[ae.SOURCE];O.METHODS_RTSP=[ae.OPTIONS,ae.DESCRIBE,ae.ANNOUNCE,ae.SETUP,ae.PLAY,ae.PAUSE,ae.TEARDOWN,ae.GET_PARAMETER,ae.SET_PARAMETER,ae.REDIRECT,ae.RECORD,ae.FLUSH,ae.GET,ae.POST];O.METHOD_MAP=JCe.enumToMap(ae);O.H_METHOD_MAP={};Object.keys(O.METHOD_MAP).forEach(t=>{/^H/.test(t)&&(O.H_METHOD_MAP[t]=O.METHOD_MAP[t])});var ZCe;(function(t){t[t.SAFE=0]="SAFE",t[t.SAFE_WITH_CB=1]="SAFE_WITH_CB",t[t.UNSAFE=2]="UNSAFE"})(ZCe=O.FINISH||(O.FINISH={}));O.ALPHA=[];for(let t=65;t<=90;t++)O.ALPHA.push(String.fromCharCode(t)),O.ALPHA.push(String.fromCharCode(t+32));O.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};O.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};O.NUM=["0","1","2","3","4","5","6","7","8","9"];O.ALPHANUM=O.ALPHA.concat(O.NUM);O.MARK=["-","_",".","!","~","*","'","(",")"];O.USERINFO_CHARS=O.ALPHANUM.concat(O.MARK).concat(["%",";",":","&","=","+","$",","]);O.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(O.ALPHANUM);O.URL_CHAR=O.STRICT_URL_CHAR.concat(["	","\f"]);for(let t=128;t<=255;t++)O.URL_CHAR.push(t);O.HEX=O.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);O.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(O.ALPHANUM);O.TOKEN=O.STRICT_TOKEN.concat([" "]);O.HEADER_CHARS=["	"];for(let t=32;t<=255;t++)t!==127&&O.HEADER_CHARS.push(t);O.CONNECTION_TOKEN_CHARS=O.HEADER_CHARS.filter(t=>t!==44);O.MAJOR=O.NUM_MAP;O.MINOR=O.MAJOR;var Qh;(function(t){t[t.GENERAL=0]="GENERAL",t[t.CONNECTION=1]="CONNECTION",t[t.CONTENT_LENGTH=2]="CONTENT_LENGTH",t[t.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",t[t.UPGRADE=4]="UPGRADE",t[t.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",t[t.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(Qh=O.HEADER_STATE||(O.HEADER_STATE={}));O.SPECIAL_HEADERS={connection:Qh.CONNECTION,"content-length":Qh.CONTENT_LENGTH,"proxy-connection":Qh.CONNECTION,"transfer-encoding":Qh.TRANSFER_ENCODING,upgrade:Qh.UPGRADE}});var dN=C((z1e,v3)=>{"use strict";var wh=Ve(),{kBodyUsed:up}=_t(),hN=B("assert"),{InvalidArgumentError:$Ce}=ht(),eIe=B("events"),tIe=[300,301,302,303,307,308],w3=Symbol("body"),vB=class{constructor(e){this[w3]=e,this[up]=!1}[Symbol.asyncIterator](){return us(this,null,function*(){hN(!this[up],"disturbed"),this[up]=!0,yield*TA(this[w3])})}},uN=class{constructor(e,n,r,i){if(n!=null&&(!Number.isInteger(n)||n<0))throw new $Ce("maxRedirections must be a positive number");wh.validateHandler(i,r.method,r.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts=se(x({},r),{maxRedirections:0}),this.maxRedirections=n,this.handler=i,this.history=[],wh.isStream(this.opts.body)?(wh.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){hN(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[up]=!1,eIe.prototype.on.call(this.opts.body,"data",function(){this[up]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new vB(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&wh.isIterable(this.opts.body)&&(this.opts.body=new vB(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,n,r){this.handler.onUpgrade(e,n,r)}onError(e){this.handler.onError(e)}onHeaders(e,n,r,i){if(this.location=this.history.length>=this.maxRedirections||wh.isDisturbed(this.opts.body)?null:nIe(e,n),this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,n,r,i);let{origin:s,pathname:o,search:a}=wh.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),A=a?`${o}${a}`:o;this.opts.headers=rIe(this.opts.headers,e===303,this.opts.origin!==s),this.opts.path=A,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function nIe(t,e){if(tIe.indexOf(t)===-1)return null;for(let n=0;n<e.length;n+=2)if(e[n].toString().toLowerCase()==="location")return e[n+1]}function _3(t,e,n){return t.length===4&&t.toString().toLowerCase()==="host"||e&&t.toString().toLowerCase().indexOf("content-")===0||n&&t.length===13&&t.toString().toLowerCase()==="authorization"||n&&t.length===6&&t.toString().toLowerCase()==="cookie"}function rIe(t,e,n){let r=[];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)_3(t[i],e,n)||r.push(t[i],t[i+1]);else if(t&&typeof t=="object")for(let i of Object.keys(t))_3(i,e,n)||r.push(i,t[i]);else hN(t==null,"headers must be an object or an array");return r}v3.exports=uN});var SB=C((K1e,S3)=>{"use strict";var iIe=dN();function sIe({maxRedirections:t}){return e=>function(r,i){let{maxRedirections:s=t}=r;if(!s)return e(r,i);let o=new iIe(e,s,r,i);return r=se(x({},r),{maxRedirections:0}),e(r,o)}}S3.exports=sIe});var fN=C((Z1e,b3)=>{b3.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8="});var R3=C(($1e,D3)=>{D3.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=="});var mp=C((eOe,z3)=>{"use strict";var z=B("assert"),N3=B("net"),oIe=B("http"),{pipeline:aIe}=B("stream"),ee=Ve(),gN=ZJ(),EN=p3(),AIe=lp(),{RequestContentLengthMismatchError:Go,ResponseContentLengthMismatchError:lIe,InvalidArgumentError:jt,RequestAbortedError:_N,HeadersTimeoutError:cIe,HeadersOverflowError:uIe,SocketError:vh,InformationalError:Ks,BodyTimeoutError:hIe,HTTPParserError:dIe,ResponseExceededMaxSizeError:fIe,ClientDestroyedError:gIe}=ht(),pIe=cp(),{kUrl:kn,kReset:ar,kServerName:lA,kClient:Xs,kBusy:mN,kParser:Ut,kConnect:EIe,kBlocking:Sh,kResuming:kl,kRunning:kt,kPending:Fl,kSize:Nl,kWriting:Ho,kQueue:Et,kConnected:mIe,kConnecting:_h,kNeedDrain:uA,kNoRef:hp,kKeepAliveDefaultTimeout:CN,kHostHeader:F3,kPendingIdx:Gr,kRunningIdx:mt,kError:Nn,kPipelining:hA,kSocket:Pt,kKeepAliveTimeoutValue:gp,kMaxHeadersSize:RB,kKeepAliveMaxTimeout:x3,kKeepAliveTimeoutThreshold:M3,kHeadersTimeout:L3,kBodyTimeout:O3,kStrictContentLength:pp,kConnector:dp,kMaxRedirections:CIe,kMaxRequests:Ep,kCounter:U3,kClose:IIe,kDestroy:yIe,kDispatch:BIe,kInterceptors:QIe,kLocalAddress:fp,kMaxResponseSize:P3,kHTTPConnVersion:Zs,kHost:V3,kHTTP2Session:Hr,kHTTP2SessionState:kB,kHTTP2BuildRequest:wIe,kHTTP2CopyHeaders:_Ie,kHTTP1BuildRequest:vIe}=_t(),NB;try{NB=B("http2")}catch{NB={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:SIe,HTTP2_HEADER_METHOD:bIe,HTTP2_HEADER_PATH:DIe,HTTP2_HEADER_SCHEME:RIe,HTTP2_HEADER_CONTENT_LENGTH:TIe,HTTP2_HEADER_EXPECT:kIe,HTTP2_HEADER_STATUS:NIe}}=NB,T3=!1,bB=Buffer[Symbol.species],cA=Symbol("kClosedResolve"),zn={};try{let t=B("diagnostics_channel");zn.sendHeaders=t.channel("undici:client:sendHeaders"),zn.beforeConnect=t.channel("undici:client:beforeConnect"),zn.connectError=t.channel("undici:client:connectError"),zn.connected=t.channel("undici:client:connected")}catch{zn.sendHeaders={hasSubscribers:!1},zn.beforeConnect={hasSubscribers:!1},zn.connectError={hasSubscribers:!1},zn.connected={hasSubscribers:!1}}var IN=class extends AIe{constructor(e,{interceptors:n,maxHeaderSize:r,headersTimeout:i,socketTimeout:s,requestTimeout:o,connectTimeout:a,bodyTimeout:A,idleTimeout:l,keepAlive:c,keepAliveTimeout:u,maxKeepAliveTimeout:h,keepAliveMaxTimeout:d,keepAliveTimeoutThreshold:f,socketPath:g,pipelining:m,tls:y,strictContentLength:I,maxCachedSessions:_,maxRedirections:w,connect:S,maxRequestsPerClient:T,localAddress:Z,maxResponseSize:pe,autoSelectFamily:ke,autoSelectFamilyAttemptTimeout:we,allowH2:b,maxConcurrentStreams:ce}={}){if(super(),c!==void 0)throw new jt("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new jt("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(o!==void 0)throw new jt("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(l!==void 0)throw new jt("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new jt("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(r!=null&&!Number.isFinite(r))throw new jt("invalid maxHeaderSize");if(g!=null&&typeof g!="string")throw new jt("invalid socketPath");if(a!=null&&(!Number.isFinite(a)||a<0))throw new jt("invalid connectTimeout");if(u!=null&&(!Number.isFinite(u)||u<=0))throw new jt("invalid keepAliveTimeout");if(d!=null&&(!Number.isFinite(d)||d<=0))throw new jt("invalid keepAliveMaxTimeout");if(f!=null&&!Number.isFinite(f))throw new jt("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new jt("headersTimeout must be a positive integer or zero");if(A!=null&&(!Number.isInteger(A)||A<0))throw new jt("bodyTimeout must be a positive integer or zero");if(S!=null&&typeof S!="function"&&typeof S!="object")throw new jt("connect must be a function or an object");if(w!=null&&(!Number.isInteger(w)||w<0))throw new jt("maxRedirections must be a positive number");if(T!=null&&(!Number.isInteger(T)||T<0))throw new jt("maxRequestsPerClient must be a positive number");if(Z!=null&&(typeof Z!="string"||N3.isIP(Z)===0))throw new jt("localAddress must be valid string IP address");if(pe!=null&&(!Number.isInteger(pe)||pe<-1))throw new jt("maxResponseSize must be a positive number");if(we!=null&&(!Number.isInteger(we)||we<-1))throw new jt("autoSelectFamilyAttemptTimeout must be a positive number");if(b!=null&&typeof b!="boolean")throw new jt("allowH2 must be a valid boolean value");if(ce!=null&&(typeof ce!="number"||ce<1))throw new jt("maxConcurrentStreams must be a possitive integer, greater than 0");typeof S!="function"&&(S=pIe(x(x(se(x({},y),{maxCachedSessions:_,allowH2:b,socketPath:g,timeout:a}),ee.nodeHasAutoSelectFamily&&ke?{autoSelectFamily:ke,autoSelectFamilyAttemptTimeout:we}:void 0),S))),this[QIe]=n&&n.Client&&Array.isArray(n.Client)?n.Client:[OIe({maxRedirections:w})],this[kn]=ee.parseOrigin(e),this[dp]=S,this[Pt]=null,this[hA]=m??1,this[RB]=r||oIe.maxHeaderSize,this[CN]=u??4e3,this[x3]=d??6e5,this[M3]=f??1e3,this[gp]=this[CN],this[lA]=null,this[fp]=Z??null,this[kl]=0,this[uA]=0,this[F3]=`host: ${this[kn].hostname}${this[kn].port?`:${this[kn].port}`:""}\r
`,this[O3]=A??3e5,this[L3]=i??3e5,this[pp]=I??!0,this[CIe]=w,this[Ep]=T,this[cA]=null,this[P3]=pe>-1?pe:-1,this[Zs]="h1",this[Hr]=null,this[kB]=b?{openStreams:0,maxConcurrentStreams:ce??100}:null,this[V3]=`${this[kn].hostname}${this[kn].port?`:${this[kn].port}`:""}`,this[Et]=[],this[mt]=0,this[Gr]=0}get pipelining(){return this[hA]}set pipelining(e){this[hA]=e,Yr(this,!0)}get[Fl](){return this[Et].length-this[Gr]}get[kt](){return this[Gr]-this[mt]}get[Nl](){return this[Et].length-this[mt]}get[mIe](){return!!this[Pt]&&!this[_h]&&!this[Pt].destroyed}get[mN](){let e=this[Pt];return e&&(e[ar]||e[Ho]||e[Sh])||this[Nl]>=(this[hA]||1)||this[Fl]>0}[EIe](e){Y3(this),this.once("connect",e)}[BIe](e,n){let r=e.origin||this[kn].origin,i=this[Zs]==="h2"?EN[wIe](r,e,n):EN[vIe](r,e,n);return this[Et].push(i),this[kl]||(ee.bodyLength(i.body)==null&&ee.isIterable(i.body)?(this[kl]=1,process.nextTick(Yr,this)):Yr(this,!0)),this[kl]&&this[uA]!==2&&this[mN]&&(this[uA]=2),this[uA]<2}[IIe](){return E(this,null,function*(){return new Promise(e=>{this[Nl]?this[cA]=e:e(null)})})}[yIe](e){return E(this,null,function*(){return new Promise(n=>{let r=this[Et].splice(this[Gr]);for(let s=0;s<r.length;s++){let o=r[s];Fn(this,o,e)}let i=()=>{this[cA]&&(this[cA](),this[cA]=null),n()};this[Hr]!=null&&(ee.destroy(this[Hr],e),this[Hr]=null,this[kB]=null),this[Pt]?ee.destroy(this[Pt].on("close",i),e):queueMicrotask(i),Yr(this)})})}};function FIe(t){z(t.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Pt][Nn]=t,MB(this[Xs],t)}function xIe(t,e,n){let r=new Ks(`HTTP/2: "frameError" received - type ${t}, code ${e}`);n===0&&(this[Pt][Nn]=r,MB(this[Xs],r))}function MIe(){ee.destroy(this,new vh("other side closed")),ee.destroy(this[Pt],new vh("other side closed"))}function LIe(t){let e=this[Xs],n=new Ks(`HTTP/2: "GOAWAY" frame received with code ${t}`);if(e[Pt]=null,e[Hr]=null,e.destroyed){z(this[Fl]===0);let r=e[Et].splice(e[mt]);for(let i=0;i<r.length;i++){let s=r[i];Fn(this,s,n)}}else if(e[kt]>0){let r=e[Et][e[mt]];e[Et][e[mt]++]=null,Fn(e,r,n)}e[Gr]=e[mt],z(e[kt]===0),e.emit("disconnect",e[kn],[e],n),Yr(e)}var Js=Q3(),OIe=SB(),UIe=Buffer.alloc(0);function PIe(){return E(this,null,function*(){let t=process.env.JEST_WORKER_ID?fN():void 0,e;try{e=yield WebAssembly.compile(Buffer.from(R3(),"base64"))}catch{e=yield WebAssembly.compile(Buffer.from(t||fN(),"base64"))}return yield WebAssembly.instantiate(e,{env:{wasm_on_url:(n,r,i)=>0,wasm_on_status:(n,r,i)=>{z.strictEqual(cn.ptr,n);let s=r-js+zs.byteOffset;return cn.onStatus(new bB(zs.buffer,s,i))||0},wasm_on_message_begin:n=>(z.strictEqual(cn.ptr,n),cn.onMessageBegin()||0),wasm_on_header_field:(n,r,i)=>{z.strictEqual(cn.ptr,n);let s=r-js+zs.byteOffset;return cn.onHeaderField(new bB(zs.buffer,s,i))||0},wasm_on_header_value:(n,r,i)=>{z.strictEqual(cn.ptr,n);let s=r-js+zs.byteOffset;return cn.onHeaderValue(new bB(zs.buffer,s,i))||0},wasm_on_headers_complete:(n,r,i,s)=>(z.strictEqual(cn.ptr,n),cn.onHeadersComplete(r,!!i,!!s)||0),wasm_on_body:(n,r,i)=>{z.strictEqual(cn.ptr,n);let s=r-js+zs.byteOffset;return cn.onBody(new bB(zs.buffer,s,i))||0},wasm_on_message_complete:n=>(z.strictEqual(cn.ptr,n),cn.onMessageComplete()||0)}})})}var pN=null,yN=PIe();yN.catch();var cn=null,zs=null,DB=0,js=null,bh=1,TB=2,BN=3,QN=class{constructor(e,n,{exports:r}){z(Number.isFinite(e[RB])&&e[RB]>0),this.llhttp=r,this.ptr=this.llhttp.llhttp_alloc(Js.TYPE.RESPONSE),this.client=e,this.socket=n,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[RB],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[P3]}setTimeout(e,n){this.timeoutType=n,e!==this.timeoutValue?(gN.clearTimeout(this.timeout),e?(this.timeout=gN.setTimeout(VIe,e,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){this.socket.destroyed||!this.paused||(z(this.ptr!=null),z(cn==null),this.llhttp.llhttp_resume(this.ptr),z(this.timeoutType===TB),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||UIe),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){z(this.ptr!=null),z(cn==null),z(!this.paused);let{socket:n,llhttp:r}=this;e.length>DB&&(js&&r.free(js),DB=Math.ceil(e.length/4096)*4096,js=r.malloc(DB)),new Uint8Array(r.memory.buffer,js,DB).set(e);try{let i;try{zs=e,cn=this,i=r.llhttp_execute(this.ptr,js,e.length)}catch(o){throw o}finally{cn=null,zs=null}let s=r.llhttp_get_error_pos(this.ptr)-js;if(i===Js.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(s));else if(i===Js.ERROR.PAUSED)this.paused=!0,n.unshift(e.slice(s));else if(i!==Js.ERROR.OK){let o=r.llhttp_get_error_reason(this.ptr),a="";if(o){let A=new Uint8Array(r.memory.buffer,o).indexOf(0);a="Response does not match the HTTP/1.1 protocol ("+Buffer.from(r.memory.buffer,o,A).toString()+")"}throw new dIe(a,Js.ERROR[i],e.slice(s))}}catch(i){ee.destroy(n,i)}}destroy(){z(this.ptr!=null),z(cn==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,gN.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:n}=this;if(e.destroyed||!n[Et][n[mt]])return-1}onHeaderField(e){let n=this.headers.length;n&1?this.headers[n-1]=Buffer.concat([this.headers[n-1],e]):this.headers.push(e),this.trackHeader(e.length)}onHeaderValue(e){let n=this.headers.length;(n&1)===1?(this.headers.push(e),n+=1):this.headers[n-1]=Buffer.concat([this.headers[n-1],e]);let r=this.headers[n-2];r.length===10&&r.toString().toLowerCase()==="keep-alive"?this.keepAlive+=e.toString():r.length===10&&r.toString().toLowerCase()==="connection"?this.connection+=e.toString():r.length===14&&r.toString().toLowerCase()==="content-length"&&(this.contentLength+=e.toString()),this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&ee.destroy(this.socket,new uIe)}onUpgrade(e){let{upgrade:n,client:r,socket:i,headers:s,statusCode:o}=this;z(n);let a=r[Et][r[mt]];z(a),z(!i.destroyed),z(i===r[Pt]),z(!this.paused),z(a.upgrade||a.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,z(this.headers.length%2===0),this.headers=[],this.headersSize=0,i.unshift(e),i[Ut].destroy(),i[Ut]=null,i[Xs]=null,i[Nn]=null,i.removeListener("error",G3).removeListener("readable",q3).removeListener("end",H3).removeListener("close",wN),r[Pt]=null,r[Et][r[mt]++]=null,r.emit("disconnect",r[kn],[r],new Ks("upgrade"));try{a.onUpgrade(o,s,i)}catch(A){ee.destroy(i,A)}Yr(r)}onHeadersComplete(e,n,r){let{client:i,socket:s,headers:o,statusText:a}=this;if(s.destroyed)return-1;let A=i[Et][i[mt]];if(!A)return-1;if(z(!this.upgrade),z(this.statusCode<200),e===100)return ee.destroy(s,new vh("bad response",ee.getSocketInfo(s))),-1;if(n&&!A.upgrade)return ee.destroy(s,new vh("bad upgrade",ee.getSocketInfo(s))),-1;if(z.strictEqual(this.timeoutType,bh),this.statusCode=e,this.shouldKeepAlive=r||A.method==="HEAD"&&!s[ar]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let c=A.bodyTimeout!=null?A.bodyTimeout:i[O3];this.setTimeout(c,TB)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(A.method==="CONNECT")return z(i[kt]===1),this.upgrade=!0,2;if(n)return z(i[kt]===1),this.upgrade=!0,2;if(z(this.headers.length%2===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[hA]){let c=this.keepAlive?ee.parseKeepAliveTimeout(this.keepAlive):null;if(c!=null){let u=Math.min(c-i[M3],i[x3]);u<=0?s[ar]=!0:i[gp]=u}else i[gp]=i[CN]}else s[ar]=!0;let l;try{l=A.onHeaders(e,o,this.resume,a)===!1}catch(c){return ee.destroy(s,c),-1}return A.method==="HEAD"||e<200?1:(s[Sh]&&(s[Sh]=!1,Yr(i)),l?Js.ERROR.PAUSED:0)}onBody(e){let{client:n,socket:r,statusCode:i,maxResponseSize:s}=this;if(r.destroyed)return-1;let o=n[Et][n[mt]];if(z(o),z.strictEqual(this.timeoutType,TB),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),z(i>=200),s>-1&&this.bytesRead+e.length>s)return ee.destroy(r,new fIe),-1;this.bytesRead+=e.length;try{if(o.onData(e)===!1)return Js.ERROR.PAUSED}catch(a){return ee.destroy(r,a),-1}}onMessageComplete(){let{client:e,socket:n,statusCode:r,upgrade:i,headers:s,contentLength:o,bytesRead:a,shouldKeepAlive:A}=this;if(n.destroyed&&(!r||A))return-1;if(i)return;let l=e[Et][e[mt]];if(z(l),z(r>=100),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",z(this.headers.length%2===0),this.headers=[],this.headersSize=0,!(r<200)){if(l.method!=="HEAD"&&o&&a!==parseInt(o,10))return ee.destroy(n,new lIe),-1;try{l.onComplete(s)}catch(c){Fn(e,l,c)}if(e[Et][e[mt]++]=null,n[Ho])return z.strictEqual(e[kt],0),ee.destroy(n,new Ks("reset")),Js.ERROR.PAUSED;if(A){if(n[ar]&&e[kt]===0)return ee.destroy(n,new Ks("reset")),Js.ERROR.PAUSED;e[hA]===1?setImmediate(Yr,e):Yr(e)}else return ee.destroy(n,new Ks("reset")),Js.ERROR.PAUSED}}};function VIe(t){let{socket:e,timeoutType:n,client:r}=t;n===bh?(!e[Ho]||e.writableNeedDrain||r[kt]>1)&&(z(!t.paused,"cannot be paused while waiting for headers"),ee.destroy(e,new cIe)):n===TB?t.paused||ee.destroy(e,new hIe):n===BN&&(z(r[kt]===0&&r[gp]),ee.destroy(e,new Ks("socket idle timeout")))}function q3(){let{[Ut]:t}=this;t&&t.readMore()}function G3(t){let{[Xs]:e,[Ut]:n}=this;if(z(t.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),e[Zs]!=="h2"&&t.code==="ECONNRESET"&&n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}this[Nn]=t,MB(this[Xs],t)}function MB(t,e){if(t[kt]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){z(t[Gr]===t[mt]);let n=t[Et].splice(t[mt]);for(let r=0;r<n.length;r++){let i=n[r];Fn(t,i,e)}z(t[Nl]===0)}}function H3(){let{[Ut]:t,[Xs]:e}=this;if(e[Zs]!=="h2"&&t.statusCode&&!t.shouldKeepAlive){t.onMessageComplete();return}ee.destroy(this,new vh("other side closed",ee.getSocketInfo(this)))}function wN(){let{[Xs]:t,[Ut]:e}=this;t[Zs]==="h1"&&e&&(!this[Nn]&&e.statusCode&&!e.shouldKeepAlive&&e.onMessageComplete(),this[Ut].destroy(),this[Ut]=null);let n=this[Nn]||new vh("closed",ee.getSocketInfo(this));if(t[Pt]=null,t.destroyed){z(t[Fl]===0);let r=t[Et].splice(t[mt]);for(let i=0;i<r.length;i++){let s=r[i];Fn(t,s,n)}}else if(t[kt]>0&&n.code!=="UND_ERR_INFO"){let r=t[Et][t[mt]];t[Et][t[mt]++]=null,Fn(t,r,n)}t[Gr]=t[mt],z(t[kt]===0),t.emit("disconnect",t[kn],[t],n),Yr(t)}function Y3(t){return E(this,null,function*(){z(!t[_h]),z(!t[Pt]);let{host:e,hostname:n,protocol:r,port:i}=t[kn];if(n[0]==="["){let s=n.indexOf("]");z(s!==-1);let o=n.substr(1,s-1);z(N3.isIP(o)),n=o}t[_h]=!0,zn.beforeConnect.hasSubscribers&&zn.beforeConnect.publish({connectParams:{host:e,hostname:n,protocol:r,port:i,servername:t[lA],localAddress:t[fp]},connector:t[dp]});try{let s=yield new Promise((a,A)=>{t[dp]({host:e,hostname:n,protocol:r,port:i,servername:t[lA],localAddress:t[fp]},(l,c)=>{l?A(l):a(c)})});if(t.destroyed){ee.destroy(s.on("error",()=>{}),new gIe);return}if(t[_h]=!1,z(s),s.alpnProtocol==="h2"){T3||(T3=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let a=NB.connect(t[kn],{createConnection:()=>s,peerMaxConcurrentStreams:t[kB].maxConcurrentStreams});t[Zs]="h2",a[Xs]=t,a[Pt]=s,a.on("error",FIe),a.on("frameError",xIe),a.on("end",MIe),a.on("goaway",LIe),a.on("close",wN),a.unref(),t[Hr]=a,s[Hr]=a}else pN||(pN=yield yN,yN=null),s[hp]=!1,s[Ho]=!1,s[ar]=!1,s[Sh]=!1,s[Ut]=new QN(t,s,pN);s[U3]=0,s[Ep]=t[Ep],s[Xs]=t,s[Nn]=null,s.on("error",G3).on("readable",q3).on("end",H3).on("close",wN),t[Pt]=s,zn.connected.hasSubscribers&&zn.connected.publish({connectParams:{host:e,hostname:n,protocol:r,port:i,servername:t[lA],localAddress:t[fp]},connector:t[dp],socket:s}),t.emit("connect",t[kn],[t])}catch(s){if(t.destroyed)return;if(t[_h]=!1,zn.connectError.hasSubscribers&&zn.connectError.publish({connectParams:{host:e,hostname:n,protocol:r,port:i,servername:t[lA],localAddress:t[fp]},connector:t[dp],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(z(t[kt]===0);t[Fl]>0&&t[Et][t[Gr]].servername===t[lA];){let o=t[Et][t[Gr]++];Fn(t,o,s)}else MB(t,s);t.emit("connectionError",t[kn],[t],s)}Yr(t)})}function k3(t){t[uA]=0,t.emit("drain",t[kn],[t])}function Yr(t,e){t[kl]!==2&&(t[kl]=2,qIe(t,e),t[kl]=0,t[mt]>256&&(t[Et].splice(0,t[mt]),t[Gr]-=t[mt],t[mt]=0))}function qIe(t,e){for(;;){if(t.destroyed){z(t[Fl]===0);return}if(t[cA]&&!t[Nl]){t[cA](),t[cA]=null;return}let n=t[Pt];if(n&&!n.destroyed&&n.alpnProtocol!=="h2"){if(t[Nl]===0?!n[hp]&&n.unref&&(n.unref(),n[hp]=!0):n[hp]&&n.ref&&(n.ref(),n[hp]=!1),t[Nl]===0)n[Ut].timeoutType!==BN&&n[Ut].setTimeout(t[gp],BN);else if(t[kt]>0&&n[Ut].statusCode<200&&n[Ut].timeoutType!==bh){let i=t[Et][t[mt]],s=i.headersTimeout!=null?i.headersTimeout:t[L3];n[Ut].setTimeout(s,bh)}}if(t[mN])t[uA]=2;else if(t[uA]===2){e?(t[uA]=1,process.nextTick(k3,t)):k3(t);continue}if(t[Fl]===0||t[kt]>=(t[hA]||1))return;let r=t[Et][t[Gr]];if(t[kn].protocol==="https:"&&t[lA]!==r.servername){if(t[kt]>0)return;if(t[lA]=r.servername,n&&n.servername!==r.servername){ee.destroy(n,new Ks("servername changed"));return}}if(t[_h])return;if(!n&&!t[Hr]){Y3(t);return}if(n.destroyed||n[Ho]||n[ar]||n[Sh]||t[kt]>0&&!r.idempotent||t[kt]>0&&(r.upgrade||r.method==="CONNECT")||(ee.isStream(r.body)&&ee.bodyLength(r.body)===0&&(r.body.on("data",function(){z(!1)}).on("error",function(i){Fn(t,r,i)}).on("end",function(){ee.destroy(this)}),r.body=null),t[kt]>0&&(ee.isStream(r.body)||ee.isAsyncIterable(r.body))))return;!r.aborted&&GIe(t,r)?t[Gr]++:t[Et].splice(t[Gr],1)}}function GIe(t,e){if(t[Zs]==="h2"){HIe(t,t[Hr],e);return}let{body:n,method:r,path:i,host:s,upgrade:o,headers:a,blocking:A,reset:l}=e,c=r==="PUT"||r==="POST"||r==="PATCH";n&&typeof n.read=="function"&&n.read(0);let u=ee.bodyLength(n);if(u===null&&(u=e.contentLength),u===0&&!c&&(u=null),e.contentLength!==null&&e.contentLength!==u){if(t[pp])return Fn(t,e,new Go),!1;process.emitWarning(new Go)}let h=t[Pt];try{e.onConnect(f=>{e.aborted||e.completed||(Fn(t,e,f||new _N),ee.destroy(h,new Ks("aborted")))})}catch(f){Fn(t,e,f)}if(e.aborted)return!1;r==="HEAD"&&(h[ar]=!0),(o||r==="CONNECT")&&(h[ar]=!0),l!=null&&(h[ar]=l),t[Ep]&&h[U3]++>=t[Ep]&&(h[ar]=!0),A&&(h[Sh]=!0);let d=`${r} ${i} HTTP/1.1\r
`;return typeof s=="string"?d+=`host: ${s}\r
`:d+=t[F3],o?d+=`connection: upgrade\r
upgrade: ${o}\r
`:t[hA]&&!h[ar]?d+=`connection: keep-alive\r
`:d+=`connection: close\r
`,a&&(d+=a),zn.sendHeaders.hasSubscribers&&zn.sendHeaders.publish({request:e,headers:d,socket:h}),n?ee.isBuffer(n)?(z(u===n.byteLength,"buffer body must have content length"),h.cork(),h.write(`${d}content-length: ${u}\r
\r
`,"latin1"),h.write(n),h.uncork(),e.onBodySent(n),e.onRequestSent(),c||(h[ar]=!0)):ee.isBlobLike(n)?typeof n.stream=="function"?FB({body:n.stream(),client:t,request:e,socket:h,contentLength:u,header:d,expectsPayload:c}):J3({body:n,client:t,request:e,socket:h,contentLength:u,header:d,expectsPayload:c}):ee.isStream(n)?W3({body:n,client:t,request:e,socket:h,contentLength:u,header:d,expectsPayload:c}):ee.isIterable(n)?FB({body:n,client:t,request:e,socket:h,contentLength:u,header:d,expectsPayload:c}):z(!1):(u===0?h.write(`${d}content-length: 0\r
\r
`,"latin1"):(z(u===null,"no body must not have content length"),h.write(`${d}\r
`,"latin1")),e.onRequestSent()),!0}function HIe(t,e,n){let{body:r,method:i,path:s,host:o,upgrade:a,expectContinue:A,signal:l,headers:c}=n,u;if(typeof c=="string"?u=EN[_Ie](c.trim()):u=c,a)return Fn(t,n,new Error("Upgrade not supported for H2")),!1;try{n.onConnect(I=>{n.aborted||n.completed||Fn(t,n,I||new _N)})}catch(I){Fn(t,n,I)}if(n.aborted)return!1;let h,d=t[kB];if(u[SIe]=o||t[V3],u[bIe]=i,i==="CONNECT")return e.ref(),h=e.request(u,{endStream:!1,signal:l}),h.id&&!h.pending?(n.onUpgrade(null,null,h),++d.openStreams):h.once("ready",()=>{n.onUpgrade(null,null,h),++d.openStreams}),h.once("close",()=>{d.openStreams-=1,d.openStreams===0&&e.unref()}),!0;u[DIe]=s,u[RIe]="https";let f=i==="PUT"||i==="POST"||i==="PATCH";r&&typeof r.read=="function"&&r.read(0);let g=ee.bodyLength(r);if(g==null&&(g=n.contentLength),(g===0||!f)&&(g=null),n.contentLength!=null&&n.contentLength!==g){if(t[pp])return Fn(t,n,new Go),!1;process.emitWarning(new Go)}g!=null&&(z(r,"no body must not have content length"),u[TIe]=`${g}`),e.ref();let m=i==="GET"||i==="HEAD";return A?(u[kIe]="100-continue",h=e.request(u,{endStream:m,signal:l}),h.once("continue",y)):(h=e.request(u,{endStream:m,signal:l}),y()),++d.openStreams,h.once("response",I=>{n.onHeaders(Number(I[NIe]),I,h.resume.bind(h),"")===!1&&h.pause()}),h.once("end",()=>{n.onComplete([])}),h.on("data",I=>{n.onData(I)===!1&&h.pause()}),h.once("close",()=>{d.openStreams-=1,d.openStreams===0&&e.unref()}),h.once("error",function(I){t[Hr]&&!t[Hr].destroyed&&!this.closed&&!this.destroyed&&(d.streams-=1,ee.destroy(h,I))}),h.once("frameError",(I,_)=>{let w=new Ks(`HTTP/2: "frameError" received - type ${I}, code ${_}`);Fn(t,n,w),t[Hr]&&!t[Hr].destroyed&&!this.closed&&!this.destroyed&&(d.streams-=1,ee.destroy(h,w))}),!0;function y(){r?ee.isBuffer(r)?(z(g===r.byteLength,"buffer body must have content length"),h.cork(),h.write(r),h.uncork(),h.end(),n.onBodySent(r),n.onRequestSent()):ee.isBlobLike(r)?typeof r.stream=="function"?FB({client:t,request:n,contentLength:g,h2stream:h,expectsPayload:f,body:r.stream(),socket:t[Pt],header:""}):J3({body:r,client:t,request:n,contentLength:g,expectsPayload:f,h2stream:h,header:"",socket:t[Pt]}):ee.isStream(r)?W3({body:r,client:t,request:n,contentLength:g,expectsPayload:f,socket:t[Pt],h2stream:h,header:""}):ee.isIterable(r)?FB({body:r,client:t,request:n,contentLength:g,expectsPayload:f,header:"",h2stream:h,socket:t[Pt]}):z(!1):n.onRequestSent()}}function W3({h2stream:t,body:e,client:n,request:r,socket:i,contentLength:s,header:o,expectsPayload:a}){if(z(s!==0||n[kt]===0,"stream body cannot be pipelined"),n[Zs]==="h2"){let g=function(m){r.onBodySent(m)},f=aIe(e,t,m=>{m?(ee.destroy(e,m),ee.destroy(t,m)):r.onRequestSent()});f.on("data",g),f.once("end",()=>{f.removeListener("data",g),ee.destroy(f)});return}let A=!1,l=new xB({socket:i,request:r,contentLength:s,client:n,expectsPayload:a,header:o}),c=function(f){if(!A)try{!l.write(f)&&this.pause&&this.pause()}catch(g){ee.destroy(this,g)}},u=function(){A||e.resume&&e.resume()},h=function(){d(new _N)},d=function(f){if(!A){if(A=!0,z(i.destroyed||i[Ho]&&n[kt]<=1),i.off("drain",u).off("error",d),e.removeListener("data",c).removeListener("end",d).removeListener("error",d).removeListener("close",h),!f)try{l.end()}catch(g){f=g}l.destroy(f),f&&(f.code!=="UND_ERR_INFO"||f.message!=="reset")?ee.destroy(e,f):ee.destroy(e)}};e.on("data",c).on("end",d).on("error",d).on("close",h),e.resume&&e.resume(),i.on("drain",u).on("error",d)}function J3(A){return E(this,arguments,function*({h2stream:t,body:e,client:n,request:r,socket:i,contentLength:s,header:o,expectsPayload:a}){z(s===e.size,"blob body must have content length");let l=n[Zs]==="h2";try{if(s!=null&&s!==e.size)throw new Go;let c=Buffer.from(yield e.arrayBuffer());l?(t.cork(),t.write(c),t.uncork()):(i.cork(),i.write(`${o}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork()),r.onBodySent(c),r.onRequestSent(),a||(i[ar]=!0),Yr(n)}catch(c){ee.destroy(l?t:i,c)}})}function FB(A){return E(this,arguments,function*({h2stream:t,body:e,client:n,request:r,socket:i,contentLength:s,header:o,expectsPayload:a}){z(s!==0||n[kt]===0,"iterator body cannot be pipelined");let l=null;function c(){if(l){let S=l;l=null,S()}}let u=()=>new Promise((S,T)=>{z(l===null),i[Nn]?T(i[Nn]):l=S});if(n[Zs]==="h2"){t.on("close",c).on("drain",c);try{try{for(var d=Ln(e),f,g,m;f=!(g=yield d.next()).done;f=!1){let S=g.value;if(i[Nn])throw i[Nn];let T=t.write(S);r.onBodySent(S),T||(yield u())}}catch{m=[g]}finally{try{f&&(g=d.return)&&(yield g.call(d))}finally{if(m)throw m[0]}}}catch(S){t.destroy(S)}finally{r.onRequestSent(),t.end(),t.off("close",c).off("drain",c)}return}i.on("close",c).on("drain",c);let h=new xB({socket:i,request:r,contentLength:s,client:n,expectsPayload:a,header:o});try{try{for(var y=Ln(e),I,_,w;I=!(_=yield y.next()).done;I=!1){let S=_.value;if(i[Nn])throw i[Nn];h.write(S)||(yield u())}}catch{w=[_]}finally{try{I&&(_=y.return)&&(yield _.call(y))}finally{if(w)throw w[0]}}h.end()}catch(S){h.destroy(S)}finally{i.off("close",c).off("drain",c)}})}var xB=class{constructor({socket:e,request:n,contentLength:r,client:i,expectsPayload:s,header:o}){this.socket=e,this.request=n,this.contentLength=r,this.client=i,this.bytesWritten=0,this.expectsPayload=s,this.header=o,e[Ho]=!0}write(e){let{socket:n,request:r,contentLength:i,client:s,bytesWritten:o,expectsPayload:a,header:A}=this;if(n[Nn])throw n[Nn];if(n.destroyed)return!1;let l=Buffer.byteLength(e);if(!l)return!0;if(i!==null&&o+l>i){if(s[pp])throw new Go;process.emitWarning(new Go)}n.cork(),o===0&&(a||(n[ar]=!0),i===null?n.write(`${A}transfer-encoding: chunked\r
`,"latin1"):n.write(`${A}content-length: ${i}\r
\r
`,"latin1")),i===null&&n.write(`\r
${l.toString(16)}\r
`,"latin1"),this.bytesWritten+=l;let c=n.write(e);return n.uncork(),r.onBodySent(e),c||n[Ut].timeout&&n[Ut].timeoutType===bh&&n[Ut].timeout.refresh&&n[Ut].timeout.refresh(),c}end(){let{socket:e,contentLength:n,client:r,bytesWritten:i,expectsPayload:s,header:o,request:a}=this;if(a.onRequestSent(),e[Ho]=!1,e[Nn])throw e[Nn];if(!e.destroyed){if(i===0?s?e.write(`${o}content-length: 0\r
\r
`,"latin1"):e.write(`${o}\r
`,"latin1"):n===null&&e.write(`\r
0\r
\r
`,"latin1"),n!==null&&i!==n){if(r[pp])throw new Go;process.emitWarning(new Go)}e[Ut].timeout&&e[Ut].timeoutType===bh&&e[Ut].timeout.refresh&&e[Ut].timeout.refresh(),Yr(r)}}destroy(e){let{socket:n,client:r}=this;n[Ho]=!1,e&&(z(r[kt]<=1,"pipeline should only contain this request"),ee.destroy(n,e))}};function Fn(t,e,n){try{e.onError(n),z(e.aborted)}catch(r){t.emit("error",r)}}z3.exports=IN});var K3=C((rOe,j3)=>{"use strict";var LB=class{constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};j3.exports=class{constructor(){this.head=this.tail=new LB}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new LB),this.head.push(e)}shift(){let e=this.tail,n=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),n}}});var Z3=C((iOe,X3)=>{var{kFree:YIe,kConnected:WIe,kPending:JIe,kQueued:zIe,kRunning:jIe,kSize:KIe}=_t(),xl=Symbol("pool"),vN=class{constructor(e){this[xl]=e}get connected(){return this[xl][WIe]}get free(){return this[xl][YIe]}get pending(){return this[xl][JIe]}get queued(){return this[xl][zIe]}get running(){return this[xl][jIe]}get size(){return this[xl][KIe]}};X3.exports=vN});var kN=C((sOe,A9)=>{"use strict";var XIe=lp(),ZIe=K3(),{kConnected:SN,kSize:$3,kRunning:e9,kPending:t9,kQueued:Cp,kBusy:$Ie,kFree:eye,kUrl:tye,kClose:nye,kDestroy:rye,kDispatch:iye}=_t(),sye=Z3(),wr=Symbol("clients"),Ar=Symbol("needDrain"),Ip=Symbol("queue"),bN=Symbol("closed resolve"),DN=Symbol("onDrain"),n9=Symbol("onConnect"),r9=Symbol("onDisconnect"),i9=Symbol("onConnectionError"),RN=Symbol("get dispatcher"),o9=Symbol("add client"),a9=Symbol("remove client"),s9=Symbol("stats"),TN=class extends XIe{constructor(){super(),this[Ip]=new ZIe,this[wr]=[],this[Cp]=0;let e=this;this[DN]=function(r,i){let s=e[Ip],o=!1;for(;!o;){let a=s.shift();if(!a)break;e[Cp]--,o=!this.dispatch(a.opts,a.handler)}this[Ar]=o,!this[Ar]&&e[Ar]&&(e[Ar]=!1,e.emit("drain",r,[e,...i])),e[bN]&&s.isEmpty()&&Promise.all(e[wr].map(a=>a.close())).then(e[bN])},this[n9]=(n,r)=>{e.emit("connect",n,[e,...r])},this[r9]=(n,r,i)=>{e.emit("disconnect",n,[e,...r],i)},this[i9]=(n,r,i)=>{e.emit("connectionError",n,[e,...r],i)},this[s9]=new sye(this)}get[$Ie](){return this[Ar]}get[SN](){return this[wr].filter(e=>e[SN]).length}get[eye](){return this[wr].filter(e=>e[SN]&&!e[Ar]).length}get[t9](){let e=this[Cp];for(let{[t9]:n}of this[wr])e+=n;return e}get[e9](){let e=0;for(let{[e9]:n}of this[wr])e+=n;return e}get[$3](){let e=this[Cp];for(let{[$3]:n}of this[wr])e+=n;return e}get stats(){return this[s9]}[nye](){return E(this,null,function*(){return this[Ip].isEmpty()?Promise.all(this[wr].map(e=>e.close())):new Promise(e=>{this[bN]=e})})}[rye](e){return E(this,null,function*(){for(;;){let n=this[Ip].shift();if(!n)break;n.handler.onError(e)}return Promise.all(this[wr].map(n=>n.destroy(e)))})}[iye](e,n){let r=this[RN]();return r?r.dispatch(e,n)||(r[Ar]=!0,this[Ar]=!this[RN]()):(this[Ar]=!0,this[Ip].push({opts:e,handler:n}),this[Cp]++),!this[Ar]}[o9](e){return e.on("drain",this[DN]).on("connect",this[n9]).on("disconnect",this[r9]).on("connectionError",this[i9]),this[wr].push(e),this[Ar]&&process.nextTick(()=>{this[Ar]&&this[DN](e[tye],[this,e])}),this}[a9](e){e.close(()=>{let n=this[wr].indexOf(e);n!==-1&&this[wr].splice(n,1)}),this[Ar]=this[wr].some(n=>!n[Ar]&&n.closed!==!0&&n.destroyed!==!0)}};A9.exports={PoolBase:TN,kClients:wr,kNeedDrain:Ar,kAddClient:o9,kRemoveClient:a9,kGetDispatcher:RN}});var Dh=C((aOe,h9)=>{"use strict";var{PoolBase:oye,kClients:l9,kNeedDrain:aye,kAddClient:Aye,kGetDispatcher:lye}=kN(),cye=mp(),{InvalidArgumentError:NN}=ht(),FN=Ve(),{kUrl:c9,kInterceptors:uye}=_t(),hye=cp(),xN=Symbol("options"),MN=Symbol("connections"),u9=Symbol("factory");function dye(t,e){return new cye(t,e)}var LN=class extends oye{constructor(e,d={}){var f=d,{connections:n,factory:r=dye,connect:i,connectTimeout:s,tls:o,maxCachedSessions:a,socketPath:A,autoSelectFamily:l,autoSelectFamilyAttemptTimeout:c,allowH2:u}=f,h=ii(f,["connections","factory","connect","connectTimeout","tls","maxCachedSessions","socketPath","autoSelectFamily","autoSelectFamilyAttemptTimeout","allowH2"]);if(super(),n!=null&&(!Number.isFinite(n)||n<0))throw new NN("invalid connections");if(typeof r!="function")throw new NN("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new NN("connect must be a function or an object");typeof i!="function"&&(i=hye(x(x(se(x({},o),{maxCachedSessions:a,allowH2:u,socketPath:A,timeout:s??1e4}),FN.nodeHasAutoSelectFamily&&l?{autoSelectFamily:l,autoSelectFamilyAttemptTimeout:c}:void 0),i))),this[uye]=h.interceptors&&h.interceptors.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[MN]=n||null,this[c9]=FN.parseOrigin(e),this[xN]=se(x({},FN.deepClone(h)),{connect:i,allowH2:u}),this[xN].interceptors=h.interceptors?x({},h.interceptors):void 0,this[u9]=r}[lye](){let e=this[l9].find(n=>!n[aye]);return e||((!this[MN]||this[l9].length<this[MN])&&(e=this[u9](this[c9],this[xN]),this[Aye](e)),e)}};h9.exports=LN});var m9=C((lOe,E9)=>{"use strict";var{BalancedPoolMissingUpstreamError:fye,InvalidArgumentError:gye}=ht(),{PoolBase:pye,kClients:lr,kNeedDrain:yp,kAddClient:Eye,kRemoveClient:mye,kGetDispatcher:Cye}=kN(),Iye=Dh(),{kUrl:ON,kInterceptors:yye}=_t(),{parseOrigin:d9}=Ve(),f9=Symbol("factory"),OB=Symbol("options"),g9=Symbol("kGreatestCommonDivisor"),Ml=Symbol("kCurrentWeight"),Ll=Symbol("kIndex"),Di=Symbol("kWeight"),UB=Symbol("kMaxWeightPerServer"),PB=Symbol("kErrorPenalty");function p9(t,e){return e===0?t:p9(e,t%e)}function Bye(t,e){return new Iye(t,e)}var UN=class extends pye{constructor(e=[],i={}){var s=i,{factory:n=Bye}=s,r=ii(s,["factory"]);if(super(),this[OB]=r,this[Ll]=-1,this[Ml]=0,this[UB]=this[OB].maxWeightPerServer||100,this[PB]=this[OB].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof n!="function")throw new gye("factory must be a function.");this[yye]=r.interceptors&&r.interceptors.BalancedPool&&Array.isArray(r.interceptors.BalancedPool)?r.interceptors.BalancedPool:[],this[f9]=n;for(let o of e)this.addUpstream(o);this._updateBalancedPoolStats()}addUpstream(e){let n=d9(e).origin;if(this[lr].find(i=>i[ON].origin===n&&i.closed!==!0&&i.destroyed!==!0))return this;let r=this[f9](n,Object.assign({},this[OB]));this[Eye](r),r.on("connect",()=>{r[Di]=Math.min(this[UB],r[Di]+this[PB])}),r.on("connectionError",()=>{r[Di]=Math.max(1,r[Di]-this[PB]),this._updateBalancedPoolStats()}),r.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(r[Di]=Math.max(1,r[Di]-this[PB]),this._updateBalancedPoolStats())});for(let i of this[lr])i[Di]=this[UB];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[g9]=this[lr].map(e=>e[Di]).reduce(p9,0)}removeUpstream(e){let n=d9(e).origin,r=this[lr].find(i=>i[ON].origin===n&&i.closed!==!0&&i.destroyed!==!0);return r&&this[mye](r),this}get upstreams(){return this[lr].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[ON].origin)}[Cye](){if(this[lr].length===0)throw new fye;if(!this[lr].find(s=>!s[yp]&&s.closed!==!0&&s.destroyed!==!0)||this[lr].map(s=>s[yp]).reduce((s,o)=>s&&o,!0))return;let r=0,i=this[lr].findIndex(s=>!s[yp]);for(;r++<this[lr].length;){this[Ll]=(this[Ll]+1)%this[lr].length;let s=this[lr][this[Ll]];if(s[Di]>this[lr][i][Di]&&!s[yp]&&(i=this[Ll]),this[Ll]===0&&(this[Ml]=this[Ml]-this[g9],this[Ml]<=0&&(this[Ml]=this[UB])),s[Di]>=this[Ml]&&!s[yp])return s}return this[Ml]=this[lr][i][Di],this[Ll]=i,this[lr][i]}};E9.exports=UN});var PN=C((uOe,y9)=>{"use strict";var{kConnected:C9,kSize:I9}=_t(),VB=class{constructor(e){this.value=e}deref(){return this.value[C9]===0&&this.value[I9]===0?void 0:this.value}},qB=class{constructor(e){this.finalizer=e}register(e,n){e.on&&e.on("disconnect",()=>{e[C9]===0&&e[I9]===0&&this.finalizer(n)})}};y9.exports=function(){return process.env.NODE_V8_COVERAGE?{WeakRef:VB,FinalizationRegistry:qB}:{WeakRef:global.WeakRef||VB,FinalizationRegistry:global.FinalizationRegistry||qB}}});var Bp=C((hOe,D9)=>{"use strict";var{InvalidArgumentError:GB}=ht(),{kClients:dA,kRunning:B9,kClose:Qye,kDestroy:wye,kDispatch:_ye,kInterceptors:vye}=_t(),Sye=lp(),bye=Dh(),Dye=mp(),Rye=Ve(),Tye=SB(),{WeakRef:kye,FinalizationRegistry:Nye}=PN()(),Q9=Symbol("onConnect"),w9=Symbol("onDisconnect"),_9=Symbol("onConnectionError"),Fye=Symbol("maxRedirections"),v9=Symbol("onDrain"),S9=Symbol("factory"),b9=Symbol("finalizer"),VN=Symbol("options");function xye(t,e){return e&&e.connections===1?new Dye(t,e):new bye(t,e)}var qN=class extends Sye{constructor(s={}){var o=s,{factory:e=xye,maxRedirections:n=0,connect:r}=o,i=ii(o,["factory","maxRedirections","connect"]);if(super(),typeof e!="function")throw new GB("factory must be a function.");if(r!=null&&typeof r!="function"&&typeof r!="object")throw new GB("connect must be a function or an object");if(!Number.isInteger(n)||n<0)throw new GB("maxRedirections must be a positive number");r&&typeof r!="function"&&(r=x({},r)),this[vye]=i.interceptors&&i.interceptors.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[Tye({maxRedirections:n})],this[VN]=se(x({},Rye.deepClone(i)),{connect:r}),this[VN].interceptors=i.interceptors?x({},i.interceptors):void 0,this[Fye]=n,this[S9]=e,this[dA]=new Map,this[b9]=new Nye(A=>{let l=this[dA].get(A);l!==void 0&&l.deref()===void 0&&this[dA].delete(A)});let a=this;this[v9]=(A,l)=>{a.emit("drain",A,[a,...l])},this[Q9]=(A,l)=>{a.emit("connect",A,[a,...l])},this[w9]=(A,l,c)=>{a.emit("disconnect",A,[a,...l],c)},this[_9]=(A,l,c)=>{a.emit("connectionError",A,[a,...l],c)}}get[B9](){let e=0;for(let n of this[dA].values()){let r=n.deref();r&&(e+=r[B9])}return e}[_ye](e,n){let r;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))r=String(e.origin);else throw new GB("opts.origin must be a non-empty string or URL.");let i=this[dA].get(r),s=i?i.deref():null;return s||(s=this[S9](e.origin,this[VN]).on("drain",this[v9]).on("connect",this[Q9]).on("disconnect",this[w9]).on("connectionError",this[_9]),this[dA].set(r,new kye(s)),this[b9].register(s,r)),s.dispatch(e,n)}[Qye](){return E(this,null,function*(){let e=[];for(let n of this[dA].values()){let r=n.deref();r&&e.push(r.close())}yield Promise.all(e)})}[wye](e){return E(this,null,function*(){let n=[];for(let r of this[dA].values()){let i=r.deref();i&&n.push(i.destroy(e))}yield Promise.all(n)})}};D9.exports=qN});var L9=C((gOe,M9)=>{"use strict";var k9=B("assert"),{Readable:Mye}=B("stream"),{RequestAbortedError:N9,NotSupportedError:Lye,InvalidArgumentError:Oye}=ht(),Rh=Ve(),{ReadableStreamFrom:Uye,toUSVString:Pye}=Ve(),GN,Wr=Symbol("kConsume"),HB=Symbol("kReading"),fA=Symbol("kBody"),R9=Symbol("abort"),F9=Symbol("kContentType");M9.exports=class extends Mye{constructor({resume:e,abort:n,contentType:r="",highWaterMark:i=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:i}),this._readableState.dataEmitted=!1,this[R9]=n,this[Wr]=null,this[fA]=null,this[F9]=r,this[HB]=!1}destroy(e){return this.destroyed?this:(!e&&!this._readableState.endEmitted&&(e=new N9),e&&this[R9](),super.destroy(e))}emit(e,...n){return e==="data"?this._readableState.dataEmitted=!0:e==="error"&&(this._readableState.errorEmitted=!0),super.emit(e,...n)}on(e,...n){return(e==="data"||e==="readable")&&(this[HB]=!0),super.on(e,...n)}addListener(e,...n){return this.on(e,...n)}off(e,...n){let r=super.off(e,...n);return(e==="data"||e==="readable")&&(this[HB]=this.listenerCount("data")>0||this.listenerCount("readable")>0),r}removeListener(e,...n){return this.off(e,...n)}push(e){return this[Wr]&&e!==null&&this.readableLength===0?(x9(this[Wr],e),this[HB]?super.push(e):!0):super.push(e)}text(){return E(this,null,function*(){return YB(this,"text")})}json(){return E(this,null,function*(){return YB(this,"json")})}blob(){return E(this,null,function*(){return YB(this,"blob")})}arrayBuffer(){return E(this,null,function*(){return YB(this,"arrayBuffer")})}formData(){return E(this,null,function*(){throw new Lye})}get bodyUsed(){return Rh.isDisturbed(this)}get body(){return this[fA]||(this[fA]=Uye(this),this[Wr]&&(this[fA].getReader(),k9(this[fA].locked))),this[fA]}dump(e){return E(this,null,function*(){let n=e&&Number.isFinite(e.limit)?e.limit:262144,r=e&&e.signal,i=()=>{this.destroy()},s;if(r){if(typeof r!="object"||!("aborted"in r))throw new Oye("signal must be an AbortSignal");Rh.throwIfAborted(r),s=Rh.addAbortListener(r,i)}try{try{for(var o=Ln(this),a,A,l;a=!(A=yield o.next()).done;a=!1){let c=A.value;if(Rh.throwIfAborted(r),n-=Buffer.byteLength(c),n<0)return}}catch{l=[A]}finally{try{a&&(A=o.return)&&(yield A.call(o))}finally{if(l)throw l[0]}}}catch{Rh.throwIfAborted(r)}finally{typeof s=="function"?s():s&&s[Symbol.dispose]()}})}};function Vye(t){return t[fA]&&t[fA].locked===!0||t[Wr]}function qye(t){return Rh.isDisturbed(t)||Vye(t)}function YB(t,e){return E(this,null,function*(){if(qye(t))throw new TypeError("unusable");return k9(!t[Wr]),new Promise((n,r)=>{t[Wr]={type:e,stream:t,resolve:n,reject:r,length:0,body:[]},t.on("error",function(i){HN(this[Wr],i)}).on("close",function(){this[Wr].body!==null&&HN(this[Wr],new N9)}),process.nextTick(Gye,t[Wr])})})}function Gye(t){if(t.body===null)return;let{_readableState:e}=t.stream;for(let n of e.buffer)x9(t,n);for(e.endEmitted?T9(this[Wr]):t.stream.on("end",function(){T9(this[Wr])}),t.stream.resume();t.stream.read()!=null;);}function T9(t){let{type:e,body:n,resolve:r,stream:i,length:s}=t;try{if(e==="text")r(Pye(Buffer.concat(n)));else if(e==="json")r(JSON.parse(Buffer.concat(n)));else if(e==="arrayBuffer"){let o=new Uint8Array(s),a=0;for(let A of n)o.set(A,a),a+=A.byteLength;r(o.buffer)}else e==="blob"&&(GN||(GN=B("buffer").Blob),r(new GN(n,{type:i[F9]})));HN(t)}catch(o){i.destroy(o)}}function x9(t,e){t.length+=e.length,t.body.push(e)}function HN(t,e){t.body!==null&&(e?t.reject(e):t.resolve(),t.type=null,t.stream=null,t.resolve=null,t.reject=null,t.length=0,t.body=null)}});var YN=C((EOe,U9)=>{var Hye=B("assert"),{ResponseStatusCodeError:WB}=ht(),{toUSVString:O9}=Ve();function Yye(o){return E(this,arguments,function*({callback:t,body:e,contentType:n,statusCode:r,statusMessage:i,headers:s}){Hye(e);let a=[],A=0;try{for(var l=Ln(e),c,u,h;c=!(u=yield l.next()).done;c=!1){let d=u.value;if(a.push(d),A+=d.length,A>128*1024){a=null;break}}}catch{h=[u]}finally{try{c&&(u=l.return)&&(yield u.call(l))}finally{if(h)throw h[0]}}if(r===204||!n||!a){process.nextTick(t,new WB(`Response status code ${r}${i?`: ${i}`:""}`,r,s));return}try{if(n.startsWith("application/json")){let d=JSON.parse(O9(Buffer.concat(a)));process.nextTick(t,new WB(`Response status code ${r}${i?`: ${i}`:""}`,r,s,d));return}if(n.startsWith("text/")){let d=O9(Buffer.concat(a));process.nextTick(t,new WB(`Response status code ${r}${i?`: ${i}`:""}`,r,s,d));return}}catch{}process.nextTick(t,new WB(`Response status code ${r}${i?`: ${i}`:""}`,r,s))})}U9.exports={getResolveErrorBodyCallback:Yye}});var kh=C((COe,V9)=>{var{addAbortListener:Wye}=Ve(),{RequestAbortedError:Jye}=ht(),Th=Symbol("kListener"),gA=Symbol("kSignal");function P9(t){t.abort?t.abort():t.onError(new Jye)}function zye(t,e){if(t[gA]=null,t[Th]=null,!!e){if(e.aborted){P9(t);return}t[gA]=e,t[Th]=()=>{P9(t)},Wye(t[gA],t[Th])}}function jye(t){t[gA]&&("removeEventListener"in t[gA]?t[gA].removeEventListener("abort",t[Th]):t[gA].removeListener("abort",t[Th]),t[gA]=null,t[Th]=null)}V9.exports={addSignal:zye,removeSignal:jye}});var Y9=C((IOe,H9)=>{"use strict";var Kye=L9(),{InvalidArgumentError:Nh,RequestAbortedError:Xye}=ht(),$s=Ve(),{getResolveErrorBodyCallback:Zye}=YN(),{AsyncResource:$ye}=B("async_hooks"),{addSignal:eBe,removeSignal:q9}=kh(),WN=class extends $ye{constructor(e,n){if(!e||typeof e!="object")throw new Nh("invalid opts");let{signal:r,method:i,opaque:s,body:o,onInfo:a,responseHeaders:A,throwOnError:l,highWaterMark:c}=e;try{if(typeof n!="function")throw new Nh("invalid callback");if(c&&(typeof c!="number"||c<0))throw new Nh("invalid highWaterMark");if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Nh("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new Nh("invalid method");if(a&&typeof a!="function")throw new Nh("invalid onInfo callback");super("UNDICI_REQUEST")}catch(u){throw $s.isStream(o)&&$s.destroy(o.on("error",$s.nop),u),u}this.responseHeaders=A||null,this.opaque=s||null,this.callback=n,this.res=null,this.abort=null,this.body=o,this.trailers={},this.context=null,this.onInfo=a||null,this.throwOnError=l,this.highWaterMark=c,$s.isStream(o)&&o.on("error",u=>{this.onError(u)}),eBe(this,r)}onConnect(e,n){if(!this.callback)throw new Xye;this.abort=e,this.context=n}onHeaders(e,n,r,i){let{callback:s,opaque:o,abort:a,context:A,responseHeaders:l,highWaterMark:c}=this,u=l==="raw"?$s.parseRawHeaders(n):$s.parseHeaders(n);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:u});return}let d=(l==="raw"?$s.parseHeaders(n):u)["content-type"],f=new Kye({resume:r,abort:a,contentType:d,highWaterMark:c});this.callback=null,this.res=f,s!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(Zye,null,{callback:s,body:f,contentType:d,statusCode:e,statusMessage:i,headers:u}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:u,trailers:this.trailers,opaque:o,body:f,context:A}))}onData(e){let{res:n}=this;return n.push(e)}onComplete(e){let{res:n}=this;q9(this),$s.parseHeaders(e,this.trailers),n.push(null)}onError(e){let{res:n,callback:r,body:i,opaque:s}=this;q9(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:s})})),n&&(this.res=null,queueMicrotask(()=>{$s.destroy(n,e)})),i&&(this.body=null,$s.destroy(i,e))}};function G9(t,e){if(e===void 0)return new Promise((n,r)=>{G9.call(this,t,(i,s)=>i?r(i):n(s))});try{this.dispatch(t,new WN(t,e))}catch(n){if(typeof e!="function")throw n;let r=t&&t.opaque;queueMicrotask(()=>e(n,{opaque:r}))}}H9.exports=G9});var j9=C((yOe,z9)=>{"use strict";var{finished:tBe,PassThrough:nBe}=B("stream"),{InvalidArgumentError:Fh,InvalidReturnValueError:rBe,RequestAbortedError:iBe}=ht(),ss=Ve(),{getResolveErrorBodyCallback:sBe}=YN(),{AsyncResource:oBe}=B("async_hooks"),{addSignal:aBe,removeSignal:W9}=kh(),JN=class extends oBe{constructor(e,n,r){if(!e||typeof e!="object")throw new Fh("invalid opts");let{signal:i,method:s,opaque:o,body:a,onInfo:A,responseHeaders:l,throwOnError:c}=e;try{if(typeof r!="function")throw new Fh("invalid callback");if(typeof n!="function")throw new Fh("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new Fh("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new Fh("invalid method");if(A&&typeof A!="function")throw new Fh("invalid onInfo callback");super("UNDICI_STREAM")}catch(u){throw ss.isStream(a)&&ss.destroy(a.on("error",ss.nop),u),u}this.responseHeaders=l||null,this.opaque=o||null,this.factory=n,this.callback=r,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=a,this.onInfo=A||null,this.throwOnError=c||!1,ss.isStream(a)&&a.on("error",u=>{this.onError(u)}),aBe(this,i)}onConnect(e,n){if(!this.callback)throw new iBe;this.abort=e,this.context=n}onHeaders(e,n,r,i){let{factory:s,opaque:o,context:a,callback:A,responseHeaders:l}=this,c=l==="raw"?ss.parseRawHeaders(n):ss.parseHeaders(n);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:c});return}this.factory=null;let u;if(this.throwOnError&&e>=400){let f=(l==="raw"?ss.parseHeaders(n):c)["content-type"];u=new nBe,this.callback=null,this.runInAsyncScope(sBe,null,{callback:A,body:u,contentType:f,statusCode:e,statusMessage:i,headers:c})}else{if(s===null)return;if(u=this.runInAsyncScope(s,null,{statusCode:e,headers:c,opaque:o,context:a}),!u||typeof u.write!="function"||typeof u.end!="function"||typeof u.on!="function")throw new rBe("expected Writable");tBe(u,{readable:!1},d=>{let{callback:f,res:g,opaque:m,trailers:y,abort:I}=this;this.res=null,(d||!g.readable)&&ss.destroy(g,d),this.callback=null,this.runInAsyncScope(f,null,d||null,{opaque:m,trailers:y}),d&&I()})}return u.on("drain",r),this.res=u,(u.writableNeedDrain!==void 0?u.writableNeedDrain:u._writableState&&u._writableState.needDrain)!==!0}onData(e){let{res:n}=this;return n?n.write(e):!0}onComplete(e){let{res:n}=this;W9(this),n&&(this.trailers=ss.parseHeaders(e),n.end())}onError(e){let{res:n,callback:r,opaque:i,body:s}=this;W9(this),this.factory=null,n?(this.res=null,ss.destroy(n,e)):r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:i})})),s&&(this.body=null,ss.destroy(s,e))}};function J9(t,e,n){if(n===void 0)return new Promise((r,i)=>{J9.call(this,t,e,(s,o)=>s?i(s):r(o))});try{this.dispatch(t,new JN(t,e,n))}catch(r){if(typeof n!="function")throw r;let i=t&&t.opaque;queueMicrotask(()=>n(r,{opaque:i}))}}z9.exports=J9});var Z9=C((BOe,X9)=>{"use strict";var{Readable:K9,Duplex:ABe,PassThrough:lBe}=B("stream"),{InvalidArgumentError:Qp,InvalidReturnValueError:cBe,RequestAbortedError:JB}=ht(),Ri=Ve(),{AsyncResource:uBe}=B("async_hooks"),{addSignal:hBe,removeSignal:dBe}=kh(),fBe=B("assert"),xh=Symbol("resume"),zN=class extends K9{constructor(){super({autoDestroy:!0}),this[xh]=null}_read(){let{[xh]:e}=this;e&&(this[xh]=null,e())}_destroy(e,n){this._read(),n(e)}},jN=class extends K9{constructor(e){super({autoDestroy:!0}),this[xh]=e}_read(){this[xh]()}_destroy(e,n){!e&&!this._readableState.endEmitted&&(e=new JB),n(e)}},KN=class extends uBe{constructor(e,n){if(!e||typeof e!="object")throw new Qp("invalid opts");if(typeof n!="function")throw new Qp("invalid handler");let{signal:r,method:i,opaque:s,onInfo:o,responseHeaders:a}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Qp("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new Qp("invalid method");if(o&&typeof o!="function")throw new Qp("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=a||null,this.handler=n,this.abort=null,this.context=null,this.onInfo=o||null,this.req=new zN().on("error",Ri.nop),this.ret=new ABe({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{let{body:A}=this;A&&A.resume&&A.resume()},write:(A,l,c)=>{let{req:u}=this;u.push(A,l)||u._readableState.destroyed?c():u[xh]=c},destroy:(A,l)=>{let{body:c,req:u,res:h,ret:d,abort:f}=this;!A&&!d._readableState.endEmitted&&(A=new JB),f&&A&&f(),Ri.destroy(c,A),Ri.destroy(u,A),Ri.destroy(h,A),dBe(this),l(A)}}).on("prefinish",()=>{let{req:A}=this;A.push(null)}),this.res=null,hBe(this,r)}onConnect(e,n){let{ret:r,res:i}=this;if(fBe(!i,"pipeline cannot be retried"),r.destroyed)throw new JB;this.abort=e,this.context=n}onHeaders(e,n,r){let{opaque:i,handler:s,context:o}=this;if(e<200){if(this.onInfo){let A=this.responseHeaders==="raw"?Ri.parseRawHeaders(n):Ri.parseHeaders(n);this.onInfo({statusCode:e,headers:A})}return}this.res=new jN(r);let a;try{this.handler=null;let A=this.responseHeaders==="raw"?Ri.parseRawHeaders(n):Ri.parseHeaders(n);a=this.runInAsyncScope(s,null,{statusCode:e,headers:A,opaque:i,body:this.res,context:o})}catch(A){throw this.res.on("error",Ri.nop),A}if(!a||typeof a.on!="function")throw new cBe("expected Readable");a.on("data",A=>{let{ret:l,body:c}=this;!l.push(A)&&c.pause&&c.pause()}).on("error",A=>{let{ret:l}=this;Ri.destroy(l,A)}).on("end",()=>{let{ret:A}=this;A.push(null)}).on("close",()=>{let{ret:A}=this;A._readableState.ended||Ri.destroy(A,new JB)}),this.body=a}onData(e){let{res:n}=this;return n.push(e)}onComplete(e){let{res:n}=this;n.push(null)}onError(e){let{ret:n}=this;this.handler=null,Ri.destroy(n,e)}};function gBe(t,e){try{let n=new KN(t,e);return this.dispatch(se(x({},t),{body:n.req}),n),n.ret}catch(n){return new lBe().destroy(n)}}X9.exports=gBe});var rz=C((wOe,nz)=>{"use strict";var{InvalidArgumentError:XN,RequestAbortedError:pBe,SocketError:EBe}=ht(),{AsyncResource:mBe}=B("async_hooks"),$9=Ve(),{addSignal:CBe,removeSignal:ez}=kh(),IBe=B("assert"),ZN=class extends mBe{constructor(e,n){if(!e||typeof e!="object")throw new XN("invalid opts");if(typeof n!="function")throw new XN("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new XN("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=n,this.abort=null,this.context=null,CBe(this,r)}onConnect(e,n){if(!this.callback)throw new pBe;this.abort=e,this.context=null}onHeaders(){throw new EBe("bad upgrade",null)}onUpgrade(e,n,r){let{callback:i,opaque:s,context:o}=this;IBe.strictEqual(e,101),ez(this),this.callback=null;let a=this.responseHeaders==="raw"?$9.parseRawHeaders(n):$9.parseHeaders(n);this.runInAsyncScope(i,null,null,{headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:n,opaque:r}=this;ez(this),n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:r})}))}};function tz(t,e){if(e===void 0)return new Promise((n,r)=>{tz.call(this,t,(i,s)=>i?r(i):n(s))});try{let n=new ZN(t,e);this.dispatch(se(x({},t),{method:t.method||"GET",upgrade:t.protocol||"Websocket"}),n)}catch(n){if(typeof e!="function")throw n;let r=t&&t.opaque;queueMicrotask(()=>e(n,{opaque:r}))}}nz.exports=tz});var Az=C((vOe,az)=>{"use strict";var{AsyncResource:yBe}=B("async_hooks"),{InvalidArgumentError:$N,RequestAbortedError:BBe,SocketError:QBe}=ht(),iz=Ve(),{addSignal:wBe,removeSignal:sz}=kh(),eF=class extends yBe{constructor(e,n){if(!e||typeof e!="object")throw new $N("invalid opts");if(typeof n!="function")throw new $N("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new $N("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=n,this.abort=null,wBe(this,r)}onConnect(e,n){if(!this.callback)throw new BBe;this.abort=e,this.context=n}onHeaders(){throw new QBe("bad connect",null)}onUpgrade(e,n,r){let{callback:i,opaque:s,context:o}=this;sz(this),this.callback=null;let a=n;a!=null&&(a=this.responseHeaders==="raw"?iz.parseRawHeaders(n):iz.parseHeaders(n)),this.runInAsyncScope(i,null,null,{statusCode:e,headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:n,opaque:r}=this;sz(this),n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:r})}))}};function oz(t,e){if(e===void 0)return new Promise((n,r)=>{oz.call(this,t,(i,s)=>i?r(i):n(s))});try{let n=new eF(t,e);this.dispatch(se(x({},t),{method:"CONNECT"}),n)}catch(n){if(typeof e!="function")throw n;let r=t&&t.opaque;queueMicrotask(()=>e(n,{opaque:r}))}}az.exports=oz});var lz=C((bOe,Mh)=>{"use strict";Mh.exports.request=Y9();Mh.exports.stream=j9();Mh.exports.pipeline=Z9();Mh.exports.upgrade=rz();Mh.exports.connect=Az()});var nF=C((DOe,cz)=>{"use strict";var{UndiciError:_Be}=ht(),tF=class t extends _Be{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};cz.exports={MockNotMatchedError:tF}});var Lh=C((ROe,uz)=>{"use strict";uz.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var wp=C((TOe,Qz)=>{"use strict";var{MockNotMatchedError:Ol}=nF(),{kDispatches:zB,kMockAgent:vBe,kOriginalDispatch:SBe,kOrigin:bBe,kGetNetConnect:DBe}=Lh(),{buildURL:RBe,nop:TBe}=Ve(),{STATUS_CODES:kBe}=B("http"),{types:{isPromise:NBe}}=B("util");function Yo(t,e){return typeof t=="string"?t===e:t instanceof RegExp?t.test(e):typeof t=="function"?t(e)===!0:!1}function dz(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e.toLocaleLowerCase(),n]))}function fz(t,e){if(Array.isArray(t)){for(let n=0;n<t.length;n+=2)if(t[n].toLocaleLowerCase()===e.toLocaleLowerCase())return t[n+1];return}else return typeof t.get=="function"?t.get(e):dz(t)[e.toLocaleLowerCase()]}function gz(t){let e=t.slice(),n=[];for(let r=0;r<e.length;r+=2)n.push([e[r],e[r+1]]);return Object.fromEntries(n)}function pz(t,e){if(typeof t.headers=="function")return Array.isArray(e)&&(e=gz(e)),t.headers(e?dz(e):{});if(typeof t.headers>"u")return!0;if(typeof e!="object"||typeof t.headers!="object")return!1;for(let[n,r]of Object.entries(t.headers)){let i=fz(e,n);if(!Yo(r,i))return!1}return!0}function hz(t){if(typeof t!="string")return t;let e=t.split("?");if(e.length!==2)return t;let n=new URLSearchParams(e.pop());return n.sort(),[...e,n.toString()].join("?")}function FBe(t,{path:e,method:n,body:r,headers:i}){let s=Yo(t.path,e),o=Yo(t.method,n),a=typeof t.body<"u"?Yo(t.body,r):!0,A=pz(t,i);return s&&o&&a&&A}function Ez(t){return Buffer.isBuffer(t)?t:typeof t=="object"?JSON.stringify(t):t.toString()}function mz(t,e){let n=e.query?RBe(e.path,e.query):e.path,r=typeof n=="string"?hz(n):n,i=t.filter(({consumed:s})=>!s).filter(({path:s})=>Yo(hz(s),r));if(i.length===0)throw new Ol(`Mock dispatch not matched for path '${r}'`);if(i=i.filter(({method:s})=>Yo(s,e.method)),i.length===0)throw new Ol(`Mock dispatch not matched for method '${e.method}'`);if(i=i.filter(({body:s})=>typeof s<"u"?Yo(s,e.body):!0),i.length===0)throw new Ol(`Mock dispatch not matched for body '${e.body}'`);if(i=i.filter(s=>pz(s,e.headers)),i.length===0)throw new Ol(`Mock dispatch not matched for headers '${typeof e.headers=="object"?JSON.stringify(e.headers):e.headers}'`);return i[0]}function xBe(t,e,n){let r={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof n=="function"?{callback:n}:x({},n),s=se(x(x({},r),e),{pending:!0,data:x({error:null},i)});return t.push(s),s}function rF(t,e){let n=t.findIndex(r=>r.consumed?FBe(r,e):!1);n!==-1&&t.splice(n,1)}function Cz(t){let{path:e,method:n,body:r,headers:i,query:s}=t;return{path:e,method:n,body:r,headers:i,query:s}}function iF(t){return Object.entries(t).reduce((e,[n,r])=>[...e,Buffer.from(`${n}`),Array.isArray(r)?r.map(i=>Buffer.from(`${i}`)):Buffer.from(`${r}`)],[])}function Iz(t){return kBe[t]||"unknown"}function MBe(t){return E(this,null,function*(){let e=[];try{for(var n=Ln(t),r,i,s;r=!(i=yield n.next()).done;r=!1){let o=i.value;e.push(o)}}catch{s=[i]}finally{try{r&&(i=n.return)&&(yield i.call(n))}finally{if(s)throw s[0]}}return Buffer.concat(e).toString("utf8")})}function yz(t,e){let n=Cz(t),r=mz(this[zB],n);r.timesInvoked++,r.data.callback&&(r.data=x(x({},r.data),r.data.callback(t)));let{data:{statusCode:i,data:s,headers:o,trailers:a,error:A},delay:l,persist:c}=r,{timesInvoked:u,times:h}=r;if(r.consumed=!c&&u>=h,r.pending=u<h,A!==null)return rF(this[zB],n),e.onError(A),!0;typeof l=="number"&&l>0?setTimeout(()=>{d(this[zB])},l):d(this[zB]);function d(g,m=s){let y=Array.isArray(t.headers)?gz(t.headers):t.headers,I=typeof m=="function"?m(se(x({},t),{headers:y})):m;if(NBe(I)){I.then(T=>d(g,T));return}let _=Ez(I),w=iF(o),S=iF(a);e.abort=TBe,e.onHeaders(i,w,f,Iz(i)),e.onData(Buffer.from(_)),e.onComplete(S),rF(g,n)}function f(){}return!0}function LBe(){let t=this[vBe],e=this[bBe],n=this[SBe];return function(i,s){if(t.isMockActive)try{yz.call(this,i,s)}catch(o){if(o instanceof Ol){let a=t[DBe]();if(a===!1)throw new Ol(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(Bz(a,e))n.call(this,i,s);else throw new Ol(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw o}else n.call(this,i,s)}}function Bz(t,e){let n=new URL(e);return t===!0?!0:!!(Array.isArray(t)&&t.some(r=>Yo(r,n.host)))}function OBe(t){if(t){let e=t,{agent:n}=e;return ii(e,["agent"])}}Qz.exports={getResponseData:Ez,getMockDispatch:mz,addMockDispatch:xBe,deleteMockDispatch:rF,buildKey:Cz,generateKeyValues:iF,matchValue:Yo,getResponse:MBe,getStatusText:Iz,mockDispatch:yz,buildMockDispatch:LBe,checkNetConnect:Bz,buildMockOptions:OBe,getHeaderByName:fz}});var uF=C((NOe,cF)=>{"use strict";var{getResponseData:UBe,buildKey:PBe,addMockDispatch:sF}=wp(),{kDispatches:jB,kDispatchKey:KB,kDefaultHeaders:oF,kDefaultTrailers:aF,kContentLength:AF,kMockDispatch:XB}=Lh(),{InvalidArgumentError:os}=ht(),{buildURL:VBe}=Ve(),Oh=class{constructor(e){this[XB]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new os("waitInMs must be a valid integer > 0");return this[XB].delay=e,this}persist(){return this[XB].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new os("repeatTimes must be a valid integer > 0");return this[XB].times=e,this}},lF=class{constructor(e,n){if(typeof e!="object")throw new os("opts must be an object");if(typeof e.path>"u")throw new os("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=VBe(e.path,e.query);else{let r=new URL(e.path,"data://");e.path=r.pathname+r.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[KB]=PBe(e),this[jB]=n,this[oF]={},this[aF]={},this[AF]=!1}createMockScopeDispatchData(e,n,r={}){let i=UBe(n),s=this[AF]?{"content-length":i.length}:{},o=x(x(x({},this[oF]),s),r.headers),a=x(x({},this[aF]),r.trailers);return{statusCode:e,data:n,headers:o,trailers:a}}validateReplyParameters(e,n,r){if(typeof e>"u")throw new os("statusCode must be defined");if(typeof n>"u")throw new os("data must be defined");if(typeof r!="object")throw new os("responseOptions must be an object")}reply(e){if(typeof e=="function"){let a=l=>{let c=e(l);if(typeof c!="object")throw new os("reply options callback must return an object");let{statusCode:u,data:h="",responseOptions:d={}}=c;return this.validateReplyParameters(u,h,d),x({},this.createMockScopeDispatchData(u,h,d))},A=sF(this[jB],this[KB],a);return new Oh(A)}let[n,r="",i={}]=[...arguments];this.validateReplyParameters(n,r,i);let s=this.createMockScopeDispatchData(n,r,i),o=sF(this[jB],this[KB],s);return new Oh(o)}replyWithError(e){if(typeof e>"u")throw new os("error must be defined");let n=sF(this[jB],this[KB],{error:e});return new Oh(n)}defaultReplyHeaders(e){if(typeof e>"u")throw new os("headers must be defined");return this[oF]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new os("trailers must be defined");return this[aF]=e,this}replyContentLength(){return this[AF]=!0,this}};cF.exports.MockInterceptor=lF;cF.exports.MockScope=Oh});var fF=C((xOe,Rz)=>{"use strict";var{promisify:qBe}=B("util"),GBe=mp(),{buildMockDispatch:HBe}=wp(),{kDispatches:wz,kMockAgent:_z,kClose:vz,kOriginalClose:Sz,kOrigin:bz,kOriginalDispatch:YBe,kConnected:hF}=Lh(),{MockInterceptor:WBe}=uF(),Dz=_t(),{InvalidArgumentError:JBe}=ht(),dF=class extends GBe{constructor(e,n){if(super(e,n),!n||!n.agent||typeof n.agent.dispatch!="function")throw new JBe("Argument opts.agent must implement Agent");this[_z]=n.agent,this[bz]=e,this[wz]=[],this[hF]=1,this[YBe]=this.dispatch,this[Sz]=this.close.bind(this),this.dispatch=HBe.call(this),this.close=this[vz]}get[Dz.kConnected](){return this[hF]}intercept(e){return new WBe(e,this[wz])}[vz](){return E(this,null,function*(){yield qBe(this[Sz])(),this[hF]=0,this[_z][Dz.kClients].delete(this[bz])})}};Rz.exports=dF});var EF=C((LOe,Lz)=>{"use strict";var{promisify:zBe}=B("util"),jBe=Dh(),{buildMockDispatch:KBe}=wp(),{kDispatches:Tz,kMockAgent:kz,kClose:Nz,kOriginalClose:Fz,kOrigin:xz,kOriginalDispatch:XBe,kConnected:gF}=Lh(),{MockInterceptor:ZBe}=uF(),Mz=_t(),{InvalidArgumentError:$Be}=ht(),pF=class extends jBe{constructor(e,n){if(super(e,n),!n||!n.agent||typeof n.agent.dispatch!="function")throw new $Be("Argument opts.agent must implement Agent");this[kz]=n.agent,this[xz]=e,this[Tz]=[],this[gF]=1,this[XBe]=this.dispatch,this[Fz]=this.close.bind(this),this.dispatch=KBe.call(this),this.close=this[Nz]}get[Mz.kConnected](){return this[gF]}intercept(e){return new ZBe(e,this[Tz])}[Nz](){return E(this,null,function*(){yield zBe(this[Fz])(),this[gF]=0,this[kz][Mz.kClients].delete(this[xz])})}};Lz.exports=pF});var Uz=C((POe,Oz)=>{"use strict";var eQe={pronoun:"it",is:"is",was:"was",this:"this"},tQe={pronoun:"they",is:"are",was:"were",this:"these"};Oz.exports=class{constructor(e,n){this.singular=e,this.plural=n}pluralize(e){let n=e===1,r=n?eQe:tQe,i=n?this.singular:this.plural;return se(x({},r),{count:e,noun:i})}}});var Vz=C((GOe,Pz)=>{"use strict";var{Transform:nQe}=B("stream"),{Console:rQe}=B("console");Pz.exports=class{constructor({disableColors:e}={}){this.transform=new nQe({transform(n,r,i){i(null,n)}}),this.logger=new rQe({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let n=e.map(({method:r,path:i,data:{statusCode:s},persist:o,times:a,timesInvoked:A,origin:l})=>({Method:r,Origin:l,Path:i,"Status code":s,Persistent:o?"\u2705":"\u274C",Invocations:A,Remaining:o?1/0:a-A}));return this.logger.table(n),this.transform.read().toString()}}});var Yz=C((HOe,Hz)=>{"use strict";var{kClients:Ul}=_t(),iQe=Bp(),{kAgent:mF,kMockAgentSet:ZB,kMockAgentGet:qz,kDispatches:CF,kIsMockActive:$B,kNetConnect:Pl,kGetNetConnect:sQe,kOptions:eQ,kFactory:tQ}=Lh(),oQe=fF(),aQe=EF(),{matchValue:AQe,buildMockOptions:lQe}=wp(),{InvalidArgumentError:Gz,UndiciError:cQe}=ht(),uQe=QB(),hQe=Uz(),dQe=Vz(),IF=class{constructor(e){this.value=e}deref(){return this.value}},yF=class extends uQe{constructor(e){if(super(e),this[Pl]=!0,this[$B]=!0,e&&e.agent&&typeof e.agent.dispatch!="function")throw new Gz("Argument opts.agent must implement Agent");let n=e&&e.agent?e.agent:new iQe(e);this[mF]=n,this[Ul]=n[Ul],this[eQ]=lQe(e)}get(e){let n=this[qz](e);return n||(n=this[tQ](e),this[ZB](e,n)),n}dispatch(e,n){return this.get(e.origin),this[mF].dispatch(e,n)}close(){return E(this,null,function*(){yield this[mF].close(),this[Ul].clear()})}deactivate(){this[$B]=!1}activate(){this[$B]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[Pl])?this[Pl].push(e):this[Pl]=[e];else if(typeof e>"u")this[Pl]=!0;else throw new Gz("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[Pl]=!1}get isMockActive(){return this[$B]}[ZB](e,n){this[Ul].set(e,new IF(n))}[tQ](e){let n=Object.assign({agent:this},this[eQ]);return this[eQ]&&this[eQ].connections===1?new oQe(e,n):new aQe(e,n)}[qz](e){let n=this[Ul].get(e);if(n)return n.deref();if(typeof e!="string"){let r=this[tQ]("http://localhost:9999");return this[ZB](e,r),r}for(let[r,i]of Array.from(this[Ul])){let s=i.deref();if(s&&typeof r!="string"&&AQe(r,e)){let o=this[tQ](e);return this[ZB](e,o),o[CF]=s[CF],o}}}[sQe](){return this[Pl]}pendingInterceptors(){let e=this[Ul];return Array.from(e.entries()).flatMap(([n,r])=>r.deref()[CF].map(i=>se(x({},i),{origin:n}))).filter(({pending:n})=>n)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new dQe}={}){let n=this.pendingInterceptors();if(n.length===0)return;let r=new hQe("interceptor","interceptors").pluralize(n.length);throw new cQe(`
${r.count} ${r.noun} ${r.is} pending:

${e.format(n)}
`.trim())}};Hz.exports=yF});var Xz=C((WOe,Kz)=>{"use strict";var{kProxy:fQe,kClose:gQe,kDestroy:pQe,kInterceptors:EQe}=_t(),{URL:Wz}=B("url"),Jz=Bp(),mQe=Dh(),CQe=lp(),{InvalidArgumentError:vp,RequestAbortedError:IQe}=ht(),zz=cp(),_p=Symbol("proxy agent"),nQ=Symbol("proxy client"),rQ=Symbol("proxy headers"),BF=Symbol("request tls settings"),yQe=Symbol("proxy tls settings"),jz=Symbol("connect endpoint function");function BQe(t){return t==="https:"?443:80}function QQe(t){if(typeof t=="string"&&(t={uri:t}),!t||!t.uri)throw new vp("Proxy opts.uri is mandatory");return{uri:t.uri,protocol:t.protocol||"https"}}function wQe(t,e){return new mQe(t,e)}var QF=class extends CQe{constructor(e){if(super(e),this[fQe]=QQe(e),this[_p]=new Jz(e),this[EQe]=e.interceptors&&e.interceptors.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],typeof e=="string"&&(e={uri:e}),!e||!e.uri)throw new vp("Proxy opts.uri is mandatory");let{clientFactory:n=wQe}=e;if(typeof n!="function")throw new vp("Proxy opts.clientFactory must be a function.");if(this[BF]=e.requestTls,this[yQe]=e.proxyTls,this[rQ]=e.headers||{},e.auth&&e.token)throw new vp("opts.auth cannot be used in combination with opts.token");e.auth?this[rQ]["proxy-authorization"]=`Basic ${e.auth}`:e.token&&(this[rQ]["proxy-authorization"]=e.token);let r=new Wz(e.uri),{origin:i,port:s,host:o}=r,a=zz(x({},e.proxyTls));this[jz]=zz(x({},e.requestTls)),this[nQ]=n(r,{connect:a}),this[_p]=new Jz(se(x({},e),{connect:(A,l)=>E(this,null,function*(){let c=A.host;A.port||(c+=`:${BQe(A.protocol)}`);try{let{socket:u,statusCode:h}=yield this[nQ].connect({origin:i,port:s,path:c,signal:A.signal,headers:se(x({},this[rQ]),{host:o})});if(h!==200&&(u.on("error",()=>{}).destroy(),l(new IQe("Proxy response !== 200 when HTTP Tunneling"))),A.protocol!=="https:"){l(null,u);return}let d;this[BF]?d=this[BF].servername:d=A.servername,this[jz](se(x({},A),{servername:d,httpSocket:u}),l)}catch(u){l(u)}})}))}dispatch(e,n){let{host:r}=new Wz(e.origin),i=_Qe(e.headers);return vQe(i),this[_p].dispatch(se(x({},e),{headers:se(x({},i),{host:r})}),n)}[gQe](){return E(this,null,function*(){yield this[_p].close(),yield this[nQ].close()})}[pQe](){return E(this,null,function*(){yield this[_p].destroy(),yield this[nQ].destroy()})}};function _Qe(t){if(Array.isArray(t)){let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}return t}function vQe(t){if(t&&Object.keys(t).find(n=>n.toLowerCase()==="proxy-authorization"))throw new vp("Proxy-Authorization should be sent in ProxyAgent constructor")}Kz.exports=QF});var Uh=C((zOe,tj)=>{"use strict";var Zz=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:SQe}=ht(),bQe=Bp();ej()===void 0&&$z(new bQe);function $z(t){if(!t||typeof t.dispatch!="function")throw new SQe("Argument agent must implement Agent");Object.defineProperty(globalThis,Zz,{value:t,writable:!0,enumerable:!1,configurable:!1})}function ej(){return globalThis[Zz]}tj.exports={setGlobalDispatcher:$z,getGlobalDispatcher:ej}});var rj=C((KOe,nj)=>{"use strict";nj.exports=class{constructor(e){this.handler=e}onConnect(...e){return this.handler.onConnect(...e)}onError(...e){return this.handler.onError(...e)}onUpgrade(...e){return this.handler.onUpgrade(...e)}onHeaders(...e){return this.handler.onHeaders(...e)}onData(...e){return this.handler.onData(...e)}onComplete(...e){return this.handler.onComplete(...e)}onBodySent(...e){return this.handler.onBodySent(...e)}}});var ql=C((XOe,aj)=>{"use strict";var{kHeadersList:_r}=_t(),{kGuard:Vl}=Lo(),{kEnumerableProperty:eo}=Ve(),{makeIterator:wF,isValidHeaderName:Sp,isValidHeaderValue:ij}=bi(),{webidl:_e}=or(),DQe=B("assert"),vr=Symbol("headers map"),Sr=Symbol("headers map sorted");function sj(t){let e=t.length;for(;/[\r\n\t ]/.test(t.charAt(--e)););return t.slice(0,e+1).replace(/^[\r\n\t ]+/,"")}function oj(t,e){if(Array.isArray(e))for(let n of e){if(n.length!==2)throw _e.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});t.append(n[0],n[1])}else if(typeof e=="object"&&e!==null)for(let[n,r]of Object.entries(e))t.append(n,r);else throw _e.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}var iQ=class t{cookies=null;constructor(e){e instanceof t?(this[vr]=new Map(e[vr]),this[Sr]=e[Sr],this.cookies=e.cookies):(this[vr]=new Map(e),this[Sr]=null)}contains(e){return e=e.toLowerCase(),this[vr].has(e)}clear(){this[vr].clear(),this[Sr]=null,this.cookies=null}append(e,n){this[Sr]=null;let r=e.toLowerCase(),i=this[vr].get(r);if(i){let s=r==="cookie"?"; ":", ";this[vr].set(r,{name:i.name,value:`${i.value}${s}${n}`})}else this[vr].set(r,{name:e,value:n});r==="set-cookie"&&(this.cookies??=[],this.cookies.push(n))}set(e,n){this[Sr]=null;let r=e.toLowerCase();return r==="set-cookie"&&(this.cookies=[n]),this[vr].set(r,{name:e,value:n})}delete(e){return this[Sr]=null,e=e.toLowerCase(),e==="set-cookie"&&(this.cookies=null),this[vr].delete(e)}get(e){return this.contains(e)?this[vr].get(e.toLowerCase())?.value??null:null}*[Symbol.iterator](){for(let[e,{value:n}]of this[vr])yield[e,n]}get entries(){let e={};if(this[vr].size)for(let{name:n,value:r}of this[vr].values())e[n]=r;return e}},Ph=class t{constructor(e=void 0){this[_r]=new iQ,this[Vl]="none",e!==void 0&&(e=_e.converters.HeadersInit(e),oj(this,e))}append(e,n){if(_e.brandCheck(this,t),_e.argumentLengthCheck(arguments,2,{header:"Headers.append"}),e=_e.converters.ByteString(e),n=_e.converters.ByteString(n),n=sj(n),Sp(e)){if(!ij(n))throw _e.errors.invalidArgument({prefix:"Headers.append",value:n,type:"header value"})}else throw _e.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(this[Vl]==="immutable")throw new TypeError("immutable");return this[Vl],this[_r].append(e,n)}delete(e){if(_e.brandCheck(this,t),_e.argumentLengthCheck(arguments,1,{header:"Headers.delete"}),e=_e.converters.ByteString(e),!Sp(e))throw _e.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this[Vl]==="immutable")throw new TypeError("immutable");if(this[Vl],!!this[_r].contains(e))return this[_r].delete(e)}get(e){if(_e.brandCheck(this,t),_e.argumentLengthCheck(arguments,1,{header:"Headers.get"}),e=_e.converters.ByteString(e),!Sp(e))throw _e.errors.invalidArgument({prefix:"Headers.get",value:e,type:"header name"});return this[_r].get(e)}has(e){if(_e.brandCheck(this,t),_e.argumentLengthCheck(arguments,1,{header:"Headers.has"}),e=_e.converters.ByteString(e),!Sp(e))throw _e.errors.invalidArgument({prefix:"Headers.has",value:e,type:"header name"});return this[_r].contains(e)}set(e,n){if(_e.brandCheck(this,t),_e.argumentLengthCheck(arguments,2,{header:"Headers.set"}),e=_e.converters.ByteString(e),n=_e.converters.ByteString(n),n=sj(n),Sp(e)){if(!ij(n))throw _e.errors.invalidArgument({prefix:"Headers.set",value:n,type:"header value"})}else throw _e.errors.invalidArgument({prefix:"Headers.set",value:e,type:"header name"});if(this[Vl]==="immutable")throw new TypeError("immutable");return this[Vl],this[_r].set(e,n)}getSetCookie(){_e.brandCheck(this,t);let e=this[_r].cookies;return e?[...e]:[]}get[Sr](){if(this[_r][Sr])return this[_r][Sr];let e=[],n=[...this[_r]].sort((i,s)=>i[0]<s[0]?-1:1),r=this[_r].cookies;for(let[i,s]of n)if(i==="set-cookie")for(let o of r)e.push([i,o]);else DQe(s!==null),e.push([i,s]);return this[_r][Sr]=e,e}keys(){return _e.brandCheck(this,t),wF(()=>[...this[Sr].values()],"Headers","key")}values(){return _e.brandCheck(this,t),wF(()=>[...this[Sr].values()],"Headers","value")}entries(){return _e.brandCheck(this,t),wF(()=>[...this[Sr].values()],"Headers","key+value")}forEach(e,n=globalThis){if(_e.brandCheck(this,t),_e.argumentLengthCheck(arguments,1,{header:"Headers.forEach"}),typeof e!="function")throw new TypeError("Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.");for(let[r,i]of this)e.apply(n,[i,r,this])}[Symbol.for("nodejs.util.inspect.custom")](){return _e.brandCheck(this,t),this[_r]}};Ph.prototype[Symbol.iterator]=Ph.prototype.entries;Object.defineProperties(Ph.prototype,{append:eo,delete:eo,get:eo,has:eo,set:eo,getSetCookie:eo,keys:eo,values:eo,entries:eo,forEach:eo,[Symbol.iterator]:{enumerable:!1},[Symbol.toStringTag]:{value:"Headers",configurable:!0}});_e.converters.HeadersInit=function(t){if(_e.util.Type(t)==="Object")return t[Symbol.iterator]?_e.converters["sequence<sequence<ByteString>>"](t):_e.converters["record<ByteString, ByteString>"](t);throw _e.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};aj.exports={fill:oj,Headers:Ph,HeadersList:iQ}});var AQ=C((ZOe,gj)=>{"use strict";var{Headers:RQe,HeadersList:Aj,fill:TQe}=ql(),{extractBody:lj,cloneBody:kQe,mixinBody:NQe}=op(),SF=Ve(),{kEnumerableProperty:zr}=SF,{isValidReasonPhrase:FQe,isCancelled:xQe,isAborted:MQe,isBlobLike:LQe,serializeJavascriptValueToJSONString:OQe,isErrorLike:UQe,isomorphicEncode:PQe}=bi(),{redirectStatus:VQe,nullBodyStatus:qQe,DOMException:cj}=AA(),{kState:vt,kHeaders:yn,kGuard:Vh,kRealm:Jr}=Lo(),{webidl:Be}=or(),{FormData:GQe}=yB(),{getGlobalOrigin:HQe}=gh(),{URLSerializer:uj}=is(),{kHeadersList:_F}=_t(),bF=B("assert"),{types:vF}=B("util"),dj=globalThis.ReadableStream||B("stream/web").ReadableStream,qh=class t{static error(){let e={settingsObject:{}},n=new t;return n[vt]=oQ(),n[Jr]=e,n[yn][_F]=n[vt].headersList,n[yn][Vh]="immutable",n[yn][Jr]=e,n}static json(e,n={}){Be.argumentLengthCheck(arguments,1,{header:"Response.json"}),n!==null&&(n=Be.converters.ResponseInit(n));let r=new TextEncoder("utf-8").encode(OQe(e)),i=lj(r),s={settingsObject:{}},o=new t;return o[Jr]=s,o[yn][Vh]="response",o[yn][Jr]=s,hj(o,n,{body:i[0],type:"application/json"}),o}static redirect(e,n=302){let r={settingsObject:{}};Be.argumentLengthCheck(arguments,1,{header:"Response.redirect"}),e=Be.converters.USVString(e),n=Be.converters["unsigned short"](n);let i;try{i=new URL(e,HQe())}catch(a){throw Object.assign(new TypeError("Failed to parse URL from "+e),{cause:a})}if(!VQe.includes(n))throw new RangeError("Invalid status code "+n);let s=new t;s[Jr]=r,s[yn][Vh]="immutable",s[yn][Jr]=r,s[vt].status=n;let o=PQe(uj(i));return s[vt].headersList.append("location",o),s}constructor(e=null,n={}){e!==null&&(e=Be.converters.BodyInit(e)),n=Be.converters.ResponseInit(n),this[Jr]={settingsObject:{}},this[vt]=aQ({}),this[yn]=new RQe,this[yn][Vh]="response",this[yn][_F]=this[vt].headersList,this[yn][Jr]=this[Jr];let r=null;if(e!=null){let[i,s]=lj(e);r={body:i,type:s}}hj(this,n,r)}get type(){return Be.brandCheck(this,t),this[vt].type}get url(){Be.brandCheck(this,t);let e=this[vt].urlList,n=e[e.length-1]??null;return n===null?"":uj(n,!0)}get redirected(){return Be.brandCheck(this,t),this[vt].urlList.length>1}get status(){return Be.brandCheck(this,t),this[vt].status}get ok(){return Be.brandCheck(this,t),this[vt].status>=200&&this[vt].status<=299}get statusText(){return Be.brandCheck(this,t),this[vt].statusText}get headers(){return Be.brandCheck(this,t),this[yn]}get body(){return Be.brandCheck(this,t),this[vt].body?this[vt].body.stream:null}get bodyUsed(){return Be.brandCheck(this,t),!!this[vt].body&&SF.isDisturbed(this[vt].body.stream)}clone(){if(Be.brandCheck(this,t),this.bodyUsed||this.body&&this.body.locked)throw Be.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=DF(this[vt]),n=new t;return n[vt]=e,n[Jr]=this[Jr],n[yn][_F]=e.headersList,n[yn][Vh]=this[yn][Vh],n[yn][Jr]=this[yn][Jr],n}};NQe(qh);Object.defineProperties(qh.prototype,{type:zr,url:zr,status:zr,ok:zr,redirected:zr,statusText:zr,headers:zr,clone:zr,body:zr,bodyUsed:zr,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(qh,{json:zr,redirect:zr,error:zr});function DF(t){if(t.internalResponse)return fj(DF(t.internalResponse),t.type);let e=aQ(se(x({},t),{body:null}));return t.body!=null&&(e.body=kQe(t.body)),e}function aQ(t){return se(x({aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:""},t),{headersList:t.headersList?new Aj(t.headersList):new Aj,urlList:t.urlList?[...t.urlList]:[]})}function oQ(t){let e=UQe(t);return aQ({type:"error",status:0,error:e?t:new Error(t&&String(t)),aborted:t&&t.name==="AbortError"})}function sQ(t,e){return e=x({internalResponse:t},e),new Proxy(t,{get(n,r){return r in e?e[r]:n[r]},set(n,r,i){return bF(!(r in e)),n[r]=i,!0}})}function fj(t,e){if(e==="basic")return sQ(t,{type:"basic",headersList:t.headersList});if(e==="cors")return sQ(t,{type:"cors",headersList:t.headersList});if(e==="opaque")return sQ(t,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return sQ(t,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});bF(!1)}function YQe(t,e=null){return bF(xQe(t)),MQe(t)?oQ(Object.assign(new cj("The operation was aborted.","AbortError"),{cause:e})):oQ(Object.assign(new cj("Request was cancelled."),{cause:e}))}function hj(t,e,n){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!FQe(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(t[vt].status=e.status),"statusText"in e&&e.statusText!=null&&(t[vt].statusText=e.statusText),"headers"in e&&e.headers!=null&&TQe(t[yn],e.headers),n){if(qQe.includes(t.status))throw Be.errors.exception({header:"Response constructor",message:"Invalid response status code "+t.status});t[vt].body=n.body,n.type!=null&&!t[vt].headersList.contains("Content-Type")&&t[vt].headersList.append("content-type",n.type)}}Be.converters.ReadableStream=Be.interfaceConverter(dj);Be.converters.FormData=Be.interfaceConverter(GQe);Be.converters.URLSearchParams=Be.interfaceConverter(URLSearchParams);Be.converters.XMLHttpRequestBodyInit=function(t){return typeof t=="string"?Be.converters.USVString(t):LQe(t)?Be.converters.Blob(t,{strict:!1}):vF.isAnyArrayBuffer(t)||vF.isTypedArray(t)||vF.isDataView(t)?Be.converters.BufferSource(t):SF.isFormDataLike(t)?Be.converters.FormData(t,{strict:!1}):t instanceof URLSearchParams?Be.converters.URLSearchParams(t):Be.converters.DOMString(t)};Be.converters.BodyInit=function(t){return t instanceof dj?Be.converters.ReadableStream(t):t?.[Symbol.asyncIterator]?t:Be.converters.XMLHttpRequestBodyInit(t)};Be.converters.ResponseInit=Be.dictionaryConverter([{key:"status",converter:Be.converters["unsigned short"],defaultValue:200},{key:"statusText",converter:Be.converters.ByteString,defaultValue:""},{key:"headers",converter:Be.converters.HeadersInit}]);gj.exports={makeNetworkError:oQ,makeResponse:aQ,makeAppropriateNetworkError:YQe,filterResponse:fj,Response:qh,cloneResponse:DF}});var Rp=C((eUe,Bj)=>{"use strict";var{extractBody:WQe,mixinBody:JQe,cloneBody:zQe}=op(),{Headers:RF,fill:jQe,HeadersList:pj}=ql(),{FinalizationRegistry:KQe}=PN()(),Dp=Ve(),{isValidHTTPToken:XQe,sameOrigin:Ej,normalizeMethod:ZQe,makePolicyContainer:$Qe}=bi(),{forbiddenMethods:ewe,corsSafeListedMethods:twe,referrerPolicy:nwe,requestRedirect:rwe,requestMode:iwe,requestCredentials:swe,requestCache:owe,requestDuplex:awe}=AA(),{kEnumerableProperty:sn}=Dp,{kHeaders:Bn,kSignal:bp,kState:Ct,kGuard:lQ,kRealm:jr}=Lo(),{webidl:he}=or(),{getGlobalOrigin:Awe}=gh(),{URLSerializer:lwe}=is(),{kHeadersList:cQ}=_t(),cwe=B("assert"),{getMaxListeners:mj,setMaxListeners:Cj,getEventListeners:uwe,defaultMaxListeners:Ij}=B("events"),TF=globalThis.TransformStream,yj=Symbol("init"),hwe=Symbol("abortController"),dwe=new KQe(({signal:t,abort:e})=>{t.removeEventListener("abort",e)}),Gl=class t{constructor(e,n={}){if(e===yj)return;he.argumentLengthCheck(arguments,1,{header:"Request constructor"}),e=he.converters.RequestInfo(e),n=he.converters.RequestInit(n),this[jr]={settingsObject:{baseUrl:Awe(),get origin(){return this.baseUrl?.origin},policyContainer:$Qe()}};let r=null,i=null,s=this[jr].settingsObject.baseUrl,o=null;if(typeof e=="string"){let g;try{g=new URL(e,s)}catch(m){throw new TypeError("Failed to parse URL from "+e,{cause:m})}if(g.username||g.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);r=uQ({urlList:[g]}),i="cors"}else cwe(e instanceof t),r=e[Ct],o=e[bp];let a=this[jr].settingsObject.origin,A="client";if(r.window?.constructor?.name==="EnvironmentSettingsObject"&&Ej(r.window,a)&&(A=r.window),n.window!=null)throw new TypeError(`'window' option '${A}' must be null`);if("window"in n&&(A="no-window"),r=uQ({method:r.method,headersList:r.headersList,unsafeRequest:r.unsafeRequest,client:this[jr].settingsObject,window:A,priority:r.priority,origin:r.origin,referrer:r.referrer,referrerPolicy:r.referrerPolicy,mode:r.mode,credentials:r.credentials,cache:r.cache,redirect:r.redirect,integrity:r.integrity,keepalive:r.keepalive,reloadNavigation:r.reloadNavigation,historyNavigation:r.historyNavigation,urlList:[...r.urlList]}),Object.keys(n).length>0&&(r.mode==="navigate"&&(r.mode="same-origin"),r.reloadNavigation=!1,r.historyNavigation=!1,r.origin="client",r.referrer="client",r.referrerPolicy="",r.url=r.urlList[r.urlList.length-1],r.urlList=[r.url]),n.referrer!==void 0){let g=n.referrer;if(g==="")r.referrer="no-referrer";else{let m;try{m=new URL(g,s)}catch(y){throw new TypeError(`Referrer "${g}" is not a valid URL.`,{cause:y})}m.protocol==="about:"&&m.hostname==="client"||a&&!Ej(m,this[jr].settingsObject.baseUrl)?r.referrer="client":r.referrer=m}}n.referrerPolicy!==void 0&&(r.referrerPolicy=n.referrerPolicy);let l;if(n.mode!==void 0?l=n.mode:l=i,l==="navigate")throw he.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(l!=null&&(r.mode=l),n.credentials!==void 0&&(r.credentials=n.credentials),n.cache!==void 0&&(r.cache=n.cache),r.cache==="only-if-cached"&&r.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(n.redirect!==void 0&&(r.redirect=n.redirect),n.integrity!==void 0&&n.integrity!=null&&(r.integrity=String(n.integrity)),n.keepalive!==void 0&&(r.keepalive=!!n.keepalive),n.method!==void 0){let g=n.method;if(!XQe(n.method))throw TypeError(`'${n.method}' is not a valid HTTP method.`);if(ewe.indexOf(g.toUpperCase())!==-1)throw TypeError(`'${n.method}' HTTP method is unsupported.`);g=ZQe(n.method),r.method=g}n.signal!==void 0&&(o=n.signal),this[Ct]=r;let c=new AbortController;if(this[bp]=c.signal,this[bp][jr]=this[jr],o!=null){if(!o||typeof o.aborted!="boolean"||typeof o.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(o.aborted)c.abort(o.reason);else{this[hwe]=c;let g=new WeakRef(c),m=function(){let y=g.deref();y!==void 0&&y.abort(this.reason)};try{(typeof mj=="function"&&mj(o)===Ij||uwe(o,"abort").length>=Ij)&&Cj(100,o)}catch{}Dp.addAbortListener(o,m),dwe.register(c,{signal:o,abort:m})}}if(this[Bn]=new RF,this[Bn][cQ]=r.headersList,this[Bn][lQ]="request",this[Bn][jr]=this[jr],l==="no-cors"){if(!twe.includes(r.method))throw new TypeError(`'${r.method} is unsupported in no-cors mode.`);this[Bn][lQ]="request-no-cors"}if(Object.keys(n).length!==0){let g=new RF(this[Bn]);if(n.headers!==void 0&&(g=n.headers),this[Bn][cQ].clear(),g.constructor.name==="Headers")for(let[m,y]of g)this[Bn].append(m,y);else jQe(this[Bn],g)}let u=e instanceof t?e[Ct].body:null;if((n.body!=null||u!=null)&&(r.method==="GET"||r.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let h=null;if(n.body!=null){let[g,m]=WQe(n.body,r.keepalive);h=g,m&&!this[Bn][cQ].contains("content-type")&&this[Bn].append("content-type",m)}let d=h??u;if(d!=null&&d.source==null){if(h!=null&&n.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(r.mode!=="same-origin"&&r.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');r.useCORSPreflightFlag=!0}let f=d;if(h==null&&u!=null){if(Dp.isDisturbed(u.stream)||u.stream.locked)throw new TypeError("Cannot construct a Request with a Request object that has already been used.");TF||(TF=B("stream/web").TransformStream);let g=new TF;u.stream.pipeThrough(g),f={source:u.source,length:u.length,stream:g.readable}}this[Ct].body=f}get method(){return he.brandCheck(this,t),this[Ct].method}get url(){return he.brandCheck(this,t),lwe(this[Ct].url)}get headers(){return he.brandCheck(this,t),this[Bn]}get destination(){return he.brandCheck(this,t),this[Ct].destination}get referrer(){return he.brandCheck(this,t),this[Ct].referrer==="no-referrer"?"":this[Ct].referrer==="client"?"about:client":this[Ct].referrer.toString()}get referrerPolicy(){return he.brandCheck(this,t),this[Ct].referrerPolicy}get mode(){return he.brandCheck(this,t),this[Ct].mode}get credentials(){return this[Ct].credentials}get cache(){return he.brandCheck(this,t),this[Ct].cache}get redirect(){return he.brandCheck(this,t),this[Ct].redirect}get integrity(){return he.brandCheck(this,t),this[Ct].integrity}get keepalive(){return he.brandCheck(this,t),this[Ct].keepalive}get isReloadNavigation(){return he.brandCheck(this,t),this[Ct].reloadNavigation}get isHistoryNavigation(){return he.brandCheck(this,t),this[Ct].historyNavigation}get signal(){return he.brandCheck(this,t),this[bp]}get body(){return he.brandCheck(this,t),this[Ct].body?this[Ct].body.stream:null}get bodyUsed(){return he.brandCheck(this,t),!!this[Ct].body&&Dp.isDisturbed(this[Ct].body.stream)}get duplex(){return he.brandCheck(this,t),"half"}clone(){if(he.brandCheck(this,t),this.bodyUsed||this.body?.locked)throw new TypeError("unusable");let e=fwe(this[Ct]),n=new t(yj);n[Ct]=e,n[jr]=this[jr],n[Bn]=new RF,n[Bn][cQ]=e.headersList,n[Bn][lQ]=this[Bn][lQ],n[Bn][jr]=this[Bn][jr];let r=new AbortController;return this.signal.aborted?r.abort(this.signal.reason):Dp.addAbortListener(this.signal,()=>{r.abort(this.signal.reason)}),n[bp]=r.signal,n}};JQe(Gl);function uQ(t){let e=se(x({method:"GET",localURLsOnly:!1,unsafeRequest:!1,body:null,client:null,reservedClient:null,replacesClientId:"",window:"client",keepalive:!1,serviceWorkers:"all",initiator:"",destination:"",priority:null,origin:"client",policyContainer:"client",referrer:"client",referrerPolicy:"",mode:"no-cors",useCORSPreflightFlag:!1,credentials:"same-origin",useCredentials:!1,cache:"default",redirect:"follow",integrity:"",cryptoGraphicsNonceMetadata:"",parserMetadata:"",reloadNavigation:!1,historyNavigation:!1,userActivation:!1,taintedOrigin:!1,redirectCount:0,responseTainting:"basic",preventNoCacheCacheControlHeaderModification:!1,done:!1,timingAllowFailed:!1},t),{headersList:t.headersList?new pj(t.headersList):new pj});return e.url=e.urlList[0],e}function fwe(t){let e=uQ(se(x({},t),{body:null}));return t.body!=null&&(e.body=zQe(t.body)),e}Object.defineProperties(Gl.prototype,{method:sn,url:sn,headers:sn,redirect:sn,clone:sn,signal:sn,duplex:sn,destination:sn,body:sn,bodyUsed:sn,isHistoryNavigation:sn,isReloadNavigation:sn,keepalive:sn,integrity:sn,cache:sn,credentials:sn,attribute:sn,referrerPolicy:sn,referrer:sn,mode:sn,[Symbol.toStringTag]:{value:"Request",configurable:!0}});he.converters.Request=he.interfaceConverter(Gl);he.converters.RequestInfo=function(t){return typeof t=="string"?he.converters.USVString(t):t instanceof Gl?he.converters.Request(t):he.converters.USVString(t)};he.converters.AbortSignal=he.interfaceConverter(AbortSignal);he.converters.RequestInit=he.dictionaryConverter([{key:"method",converter:he.converters.ByteString},{key:"headers",converter:he.converters.HeadersInit},{key:"body",converter:he.nullableConverter(he.converters.BodyInit)},{key:"referrer",converter:he.converters.USVString},{key:"referrerPolicy",converter:he.converters.DOMString,allowedValues:nwe},{key:"mode",converter:he.converters.DOMString,allowedValues:iwe},{key:"credentials",converter:he.converters.DOMString,allowedValues:swe},{key:"cache",converter:he.converters.DOMString,allowedValues:owe},{key:"redirect",converter:he.converters.DOMString,allowedValues:rwe},{key:"integrity",converter:he.converters.DOMString},{key:"keepalive",converter:he.converters.boolean},{key:"signal",converter:he.nullableConverter(t=>he.converters.AbortSignal(t,{strict:!1}))},{key:"window",converter:he.converters.any},{key:"duplex",converter:he.converters.DOMString,allowedValues:awe}]);Bj.exports={Request:Gl,makeRequest:uQ}});var mQ=C((nUe,Mj)=>{"use strict";var{Response:gwe,makeNetworkError:at,makeAppropriateNetworkError:hQ,filterResponse:kF,makeResponse:dQ}=AQ(),{Headers:Qj}=ql(),{Request:pwe,makeRequest:Ewe}=Rp(),Tp=B("zlib"),{bytesMatch:mwe,makePolicyContainer:Cwe,clonePolicyContainer:Iwe,requestBadPort:ywe,TAOCheck:Bwe,appendRequestOriginHeader:Qwe,responseLocationURL:wwe,requestCurrentURL:to,setRequestReferrerPolicyOnRedirect:_we,tryUpgradeRequestToAPotentiallyTrustworthyURL:vwe,createOpaqueTimingInfo:qF,appendFetchMetadata:Swe,corsCheck:bwe,crossOriginResourcePolicyCheck:Dwe,determineRequestsReferrer:Rwe,coarsenedSharedCurrentTime:GF,createDeferredPromise:Twe,isBlobLike:kwe,sameOrigin:OF,isCancelled:Gh,isAborted:wj,isErrorLike:Nwe,fullyReadBody:bj,readableStreamClose:Fwe,isomorphicEncode:UF,urlIsLocal:xwe,urlIsHttpHttpsScheme:HF,urlHasHttpsScheme:Mwe}=bi(),{kState:PF,kHeaders:NF,kGuard:Lwe,kRealm:_j}=Lo(),Hh=B("assert"),{safelyExtractBody:fQ}=op(),{redirectStatus:Dj,nullBodyStatus:Rj,safeMethods:Owe,requestBodyHeader:Uwe,subresource:Pwe,DOMException:gQ}=AA(),{kHeadersList:VF}=_t(),Vwe=B("events"),{Readable:qwe,pipeline:Gwe}=B("stream"),{addAbortListener:Hwe,isErrored:Ywe,isReadable:pQ,nodeMajor:vj,nodeMinor:Wwe}=Ve(),{dataURLProcessor:Jwe,serializeAMimeType:zwe}=is(),{TransformStream:jwe}=B("stream/web"),{getGlobalDispatcher:Kwe}=Uh(),{webidl:Xwe}=or(),{STATUS_CODES:Zwe}=B("http"),FF,xF=globalThis.ReadableStream,EQ=class extends Vwe{constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing",this.setMaxListeners(21)}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new gQ("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function $we(t,e={}){Xwe.argumentLengthCheck(arguments,1,{header:"globalThis.fetch"});let n=Twe(),r;try{r=new pwe(t,e)}catch(h){return n.reject(h),n.promise}let i=r[PF];if(r.signal.aborted)return MF(n,i,null,r.signal.reason),n.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let o=null,a=null,A=!1,l=null;return Hwe(r.signal,()=>{A=!0,Hh(l!=null),l.abort(r.signal.reason),MF(n,i,o,r.signal.reason)}),l=kj({request:i,processResponseEndOfBody:h=>Tj(h,"fetch"),processResponse:h=>{if(A)return Promise.resolve();if(h.aborted)return MF(n,i,o,l.serializedAbortReason),Promise.resolve();if(h.type==="error")return n.reject(Object.assign(new TypeError("fetch failed"),{cause:h.error})),Promise.resolve();o=new gwe,o[PF]=h,o[_j]=a,o[NF][VF]=h.headersList,o[NF][Lwe]="immutable",o[NF][_j]=a,n.resolve(o)},dispatcher:e.dispatcher??Kwe()}),n.promise}function Tj(t,e="other"){if(t.type==="error"&&t.aborted||!t.urlList?.length)return;let n=t.urlList[0],r=t.timingInfo,i=t.cacheState;HF(n)&&r!==null&&(r.timingAllowPassed||(r=qF({startTime:r.startTime}),i=""),r.endTime=GF(),t.timingInfo=r,e0e(r,n,e,globalThis,i))}function e0e(t,e,n,r,i){(vj>18||vj===18&&Wwe>=2)&&performance.markResourceTiming(t,e.href,n,r,i)}function MF(t,e,n,r){if(r||(r=new gQ("The operation was aborted.","AbortError")),t.reject(r),e.body!=null&&pQ(e.body?.stream)&&e.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),n==null)return;let i=n[PF];i.body!=null&&pQ(i.body?.stream)&&i.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}function kj({request:t,processRequestBodyChunkLength:e,processRequestEndOfBody:n,processResponse:r,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:o=!1,dispatcher:a}){let A=null,l=!1;t.client!=null&&(A=t.client.globalObject,l=t.client.crossOriginIsolatedCapability);let c=GF(l),u=qF({startTime:c}),h={controller:new EQ(a),request:t,timingInfo:u,processRequestBodyChunkLength:e,processRequestEndOfBody:n,processResponse:r,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:A,crossOriginIsolatedCapability:l};return Hh(!t.body||t.body.stream),t.window==="client"&&(t.window=t.client?.globalObject?.constructor?.name==="Window"?t.client:"no-window"),t.origin==="client"&&(t.origin=t.client?.origin),t.policyContainer==="client"&&(t.client!=null?t.policyContainer=Iwe(t.client.policyContainer):t.policyContainer=Cwe()),t.headersList.contains("accept")||t.headersList.append("accept","*/*"),t.headersList.contains("accept-language")||t.headersList.append("accept-language","*"),t.priority,Pwe.includes(t.destination),Nj(h).catch(d=>{h.controller.terminate(d)}),h.controller}function Nj(t,e=!1){return E(this,null,function*(){let n=t.request,r=null;if(n.localURLsOnly&&!xwe(to(n))&&(r=at("local URLs only")),vwe(n),ywe(n)==="blocked"&&(r=at("bad port")),n.referrerPolicy===""&&(n.referrerPolicy=n.policyContainer.referrerPolicy),n.referrer!=="no-referrer"&&(n.referrer=Rwe(n)),r===null&&(r=yield E(this,null,function*(){let s=to(n);return OF(s,n.url)&&n.responseTainting==="basic"||s.protocol==="data:"||n.mode==="navigate"||n.mode==="websocket"?(n.responseTainting="basic",yield Sj(t)):n.mode==="same-origin"?at('request mode cannot be "same-origin"'):n.mode==="no-cors"?n.redirect!=="follow"?at('redirect mode cannot be "follow" for "no-cors" request'):(n.responseTainting="opaque",yield Sj(t)):HF(to(n))?(n.responseTainting="cors",yield Fj(t)):at("URL scheme must be a HTTP(S) scheme")})),e)return r;r.status!==0&&!r.internalResponse&&(n.responseTainting,n.responseTainting==="basic"?r=kF(r,"basic"):n.responseTainting==="cors"?r=kF(r,"cors"):n.responseTainting==="opaque"?r=kF(r,"opaque"):Hh(!1));let i=r.status===0?r:r.internalResponse;if(i.urlList.length===0&&i.urlList.push(...n.urlList),n.timingAllowFailed||(r.timingAllowPassed=!0),r.type==="opaque"&&i.status===206&&i.rangeRequested&&!n.headers.contains("range")&&(r=i=at()),r.status!==0&&(n.method==="HEAD"||n.method==="CONNECT"||Rj.includes(i.status))&&(i.body=null,t.controller.dump=!0),n.integrity){let s=a=>LF(t,at(a));if(n.responseTainting==="opaque"||r.body==null){s(r.error);return}let o=a=>{if(!mwe(a,n.integrity)){s("integrity mismatch");return}r.body=fQ(a)[0],LF(t,r)};yield bj(r.body,o,s)}else LF(t,r)})}function Sj(t){if(Gh(t)&&t.request.redirectCount===0)return Promise.resolve(hQ(t));let{request:e}=t,{protocol:n}=to(e);switch(n){case"about:":return Promise.resolve(at("about scheme is not supported"));case"blob:":{FF||(FF=B("buffer").resolveObjectURL);let r=to(e);if(r.search.length!==0)return Promise.resolve(at("NetworkError when attempting to fetch resource."));let i=FF(r.toString());if(e.method!=="GET"||!kwe(i))return Promise.resolve(at("invalid method"));let s=fQ(i),o=s[0],a=UF(`${o.length}`),A=s[1]??"",l=dQ({statusText:"OK",headersList:[["content-length",{name:"Content-Length",value:a}],["content-type",{name:"Content-Type",value:A}]]});return l.body=o,Promise.resolve(l)}case"data:":{let r=to(e),i=Jwe(r);if(i==="failure")return Promise.resolve(at("failed to fetch the data URL"));let s=zwe(i.mimeType);return Promise.resolve(dQ({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:fQ(i.body)[0]}))}case"file:":return Promise.resolve(at("not implemented... yet..."));case"http:":case"https:":return Fj(t).catch(r=>at(r));default:return Promise.resolve(at("unknown scheme"))}}function t0e(t,e){t.request.done=!0,t.processResponseDone!=null&&queueMicrotask(()=>t.processResponseDone(e))}function LF(t,e){e.type==="error"&&(e.urlList=[t.request.urlList[0]],e.timingInfo=qF({startTime:t.timingInfo.startTime}));let n=()=>{t.request.done=!0,t.processResponseEndOfBody!=null&&queueMicrotask(()=>t.processResponseEndOfBody(e))};if(t.processResponse!=null&&queueMicrotask(()=>t.processResponse(e)),e.body==null)n();else{let r=(s,o)=>{o.enqueue(s)},i=new jwe({start(){},transform:r,flush:n},{size(){return 1}},{size(){return 1}});e.body={stream:e.body.stream.pipeThrough(i)}}if(t.processResponseConsumeBody!=null){let r=s=>t.processResponseConsumeBody(e,s),i=s=>t.processResponseConsumeBody(e,s);if(e.body==null)queueMicrotask(()=>r(null));else return bj(e.body,r,i);return Promise.resolve()}}function Fj(t){return E(this,null,function*(){let e=t.request,n=null,r=null,i=t.timingInfo;if(e.serviceWorkers,n===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),r=n=yield xj(t),e.responseTainting==="cors"&&bwe(e,n)==="failure")return at("cors failure");Bwe(e,n)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||n.type==="opaque")&&Dwe(e.origin,e.client,e.destination,r)==="blocked"?at("blocked"):(Dj.includes(r.status)&&(e.redirect!=="manual"&&t.controller.connection.destroy(),e.redirect==="error"?n=at("unexpected redirect"):e.redirect==="manual"?n=r:e.redirect==="follow"?n=yield n0e(t,n):Hh(!1)),n.timingInfo=i,n)})}function n0e(t,e){let n=t.request,r=e.internalResponse?e.internalResponse:e,i;try{if(i=wwe(r,to(n).hash),i==null)return e}catch(o){return Promise.resolve(at(o))}if(!HF(i))return Promise.resolve(at("URL scheme must be a HTTP(S) scheme"));if(n.redirectCount===20)return Promise.resolve(at("redirect count exceeded"));if(n.redirectCount+=1,n.mode==="cors"&&(i.username||i.password)&&!OF(n,i))return Promise.resolve(at('cross origin not allowed for request mode "cors"'));if(n.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(at('URL cannot contain credentials for request mode "cors"'));if(r.status!==303&&n.body!=null&&n.body.source==null)return Promise.resolve(at());if([301,302].includes(r.status)&&n.method==="POST"||r.status===303&&!["GET","HEAD"].includes(n.method)){n.method="GET",n.body=null;for(let o of Uwe)n.headersList.delete(o)}OF(to(n),i)||(n.headersList.delete("authorization"),n.headersList.delete("cookie"),n.headersList.delete("host")),n.body!=null&&(Hh(n.body.source!=null),n.body=fQ(n.body.source)[0]);let s=t.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=GF(t.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),n.urlList.push(i),_we(n,r),Nj(t,!0)}function xj(t,e=!1,n=!1){return E(this,null,function*(){let r=t.request,i=null,s=null,o=null,a=null,A=!1;r.window==="no-window"&&r.redirect==="error"?(i=t,s=r):(s=Ewe(r),i=x({},t),i.request=s);let l=r.credentials==="include"||r.credentials==="same-origin"&&r.responseTainting==="basic",c=s.body?s.body.length:null,u=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(u="0"),c!=null&&(u=UF(`${c}`)),u!=null&&s.headersList.append("content-length",u),c!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",UF(s.referrer.href)),Qwe(s),Swe(s),s.headersList.contains("user-agent")||s.headersList.append("user-agent",typeof esbuildDetection>"u"?"undici":"node"),s.cache==="default"&&(s.headersList.contains("if-modified-since")||s.headersList.contains("if-none-match")||s.headersList.contains("if-unmodified-since")||s.headersList.contains("if-match")||s.headersList.contains("if-range"))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control")&&s.headersList.append("cache-control","max-age=0"),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma")||s.headersList.append("pragma","no-cache"),s.headersList.contains("cache-control")||s.headersList.append("cache-control","no-cache")),s.headersList.contains("range")&&s.headersList.append("accept-encoding","identity"),s.headersList.contains("accept-encoding")||(Mwe(to(s))?s.headersList.append("accept-encoding","br, gzip, deflate"):s.headersList.append("accept-encoding","gzip, deflate")),s.headersList.delete("host"),a==null&&(s.cache="no-store"),s.mode!=="no-store"&&s.mode,o==null){if(s.mode==="only-if-cached")return at("only if cached");let h=yield r0e(i,l,n);!Owe.includes(s.method)&&h.status>=200&&h.status<=399,A&&h.status,o==null&&(o=h)}if(o.urlList=[...s.urlList],s.headersList.contains("range")&&(o.rangeRequested=!0),o.requestIncludesCredentials=l,o.status===407)return r.window==="no-window"?at():Gh(t)?hQ(t):at("proxy authentication required");if(o.status===421&&!n&&(r.body==null||r.body.source!=null)){if(Gh(t))return hQ(t);t.controller.connection.destroy(),o=yield xj(t,e,!0)}return o})}function r0e(t,e=!1,n=!1){return E(this,null,function*(){Hh(!t.controller.connection||t.controller.connection.destroyed),t.controller.connection={abort:null,destroyed:!1,destroy(g){this.destroyed||(this.destroyed=!0,this.abort?.(g??new gQ("The operation was aborted.","AbortError")))}};let r=t.request,i=null,s=t.timingInfo;null==null&&(r.cache="no-store");let a=n?"yes":"no";r.mode;let A=null;if(r.body==null&&t.processRequestEndOfBody)queueMicrotask(()=>t.processRequestEndOfBody());else if(r.body!=null){let g=function(I){return us(this,null,function*(){Gh(t)||(yield I,t.processRequestBodyChunkLength?.(I.byteLength))})},m=()=>{Gh(t)||t.processRequestEndOfBody&&t.processRequestEndOfBody()},y=I=>{Gh(t)||(I.name==="AbortError"?t.controller.abort():t.controller.terminate(I))};A=function(){return us(this,null,function*(){try{try{for(var I=Ln(r.body.stream),_,w,S;_=!(w=yield new fc(I.next())).done;_=!1){let T=w.value;yield*TA(g(T))}}catch{S=[w]}finally{try{_&&(w=I.return)&&(yield new fc(w.call(I)))}finally{if(S)throw S[0]}}m()}catch(T){y(T)}})}()}try{let{body:g,status:m,statusText:y,headersList:I,socket:_}=yield d({body:A});if(_)i=dQ({status:m,statusText:y,headersList:I,socket:_});else{let w=g[Symbol.asyncIterator]();t.controller.next=()=>w.next(),i=dQ({status:m,statusText:y,headersList:I})}}catch(g){return g.name==="AbortError"?(t.controller.connection.destroy(),hQ(t,g)):at(g)}let l=()=>{t.controller.resume()},c=g=>{t.controller.abort(g)};xF||(xF=B("stream/web").ReadableStream);let u=new xF({start(g){return E(this,null,function*(){t.controller.controller=g})},pull(g){return E(this,null,function*(){yield l(g)})},cancel(g){return E(this,null,function*(){yield c(g)})}},{highWaterMark:0,size(){return 1}});i.body={stream:u},t.controller.on("terminated",h),t.controller.resume=()=>E(this,null,function*(){for(;;){let g,m;try{let{done:y,value:I}=yield t.controller.next();if(wj(t))break;g=y?void 0:I}catch(y){t.controller.ended&&!s.encodedBodySize?g=void 0:(g=y,m=!0)}if(g===void 0){Fwe(t.controller.controller),t0e(t,i);return}if(s.decodedBodySize+=g?.byteLength??0,m){t.controller.terminate(g);return}if(t.controller.controller.enqueue(new Uint8Array(g)),Ywe(u)){t.controller.terminate();return}if(!t.controller.controller.desiredSize)return}});function h(g){wj(t)?(i.aborted=!0,pQ(u)&&t.controller.controller.error(t.controller.serializedAbortReason)):pQ(u)&&t.controller.controller.error(new TypeError("terminated",{cause:Nwe(g)?g:void 0})),t.controller.connection.destroy()}return i;function d(m){return E(this,arguments,function*({body:g}){let y=to(r),I=t.controller.dispatcher;return new Promise((_,w)=>I.dispatch({path:y.pathname+y.search,origin:y.origin,method:r.method,body:t.controller.dispatcher.isMockActive?r.body&&r.body.source:g,headers:r.headersList.entries,maxRedirections:0,upgrade:r.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(S){let{connection:T}=t.controller;T.destroyed?S(new gQ("The operation was aborted.","AbortError")):(t.controller.on("terminated",S),this.abort=T.abort=S)},onHeaders(S,T,Z,pe){if(S<200)return;let ke=[],we="",b=new Qj;if(Array.isArray(T))for(let p=0;p<T.length;p+=2){let L=T[p+0].toString("latin1"),re=T[p+1].toString("latin1");L.toLowerCase()==="content-encoding"?ke=re.toLowerCase().split(",").map(Oe=>Oe.trim()):L.toLowerCase()==="location"&&(we=re),b.append(L,re)}else{let p=Object.keys(T);for(let L of p){let re=T[L];L.toLowerCase()==="content-encoding"?ke=re.toLowerCase().split(",").map(Oe=>Oe.trim()).reverse():L.toLowerCase()==="location"&&(we=re),b.append(L,re)}}this.body=new qwe({read:Z});let ce=[],D=r.redirect==="follow"&&we&&Dj.includes(S);if(r.method!=="HEAD"&&r.method!=="CONNECT"&&!Rj.includes(S)&&!D)for(let p of ke)if(p==="x-gzip"||p==="gzip")ce.push(Tp.createGunzip({flush:Tp.constants.Z_SYNC_FLUSH,finishFlush:Tp.constants.Z_SYNC_FLUSH}));else if(p==="deflate")ce.push(Tp.createInflate());else if(p==="br")ce.push(Tp.createBrotliDecompress());else{ce.length=0;break}return _({status:S,statusText:pe,headersList:b[VF],body:ce.length?Gwe(this.body,...ce,()=>{}):this.body.on("error",()=>{})}),!0},onData(S){if(t.controller.dump)return;let T=S;return s.encodedBodySize+=T.byteLength,this.body.push(T)},onComplete(){this.abort&&t.controller.off("terminated",this.abort),t.controller.ended=!0,this.body.push(null)},onError(S){this.abort&&t.controller.off("terminated",this.abort),this.body?.destroy(S),t.controller.terminate(S),w(S)},onUpgrade(S,T,Z){if(S!==101)return;let pe=new Qj;for(let ke=0;ke<T.length;ke+=2){let we=T[ke+0].toString("latin1"),b=T[ke+1].toString("latin1");pe.append(we,b)}return _({status:S,statusText:Zwe[S],headersList:pe[VF],socket:Z}),!0}}))})}})}Mj.exports={fetch:$we,Fetch:EQ,fetching:kj,finalizeAndReportTiming:Tj}});var YF=C((iUe,Lj)=>{"use strict";Lj.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var Uj=C((sUe,Oj)=>{"use strict";var{webidl:Kr}=or(),CQ=Symbol("ProgressEvent state"),WF=class t extends Event{constructor(e,n={}){e=Kr.converters.DOMString(e),n=Kr.converters.ProgressEventInit(n??{}),super(e,n),this[CQ]={lengthComputable:n.lengthComputable,loaded:n.loaded,total:n.total}}get lengthComputable(){return Kr.brandCheck(this,t),this[CQ].lengthComputable}get loaded(){return Kr.brandCheck(this,t),this[CQ].loaded}get total(){return Kr.brandCheck(this,t),this[CQ].total}};Kr.converters.ProgressEventInit=Kr.dictionaryConverter([{key:"lengthComputable",converter:Kr.converters.boolean,defaultValue:!1},{key:"loaded",converter:Kr.converters["unsigned long long"],defaultValue:0},{key:"total",converter:Kr.converters["unsigned long long"],defaultValue:0},{key:"bubbles",converter:Kr.converters.boolean,defaultValue:!1},{key:"cancelable",converter:Kr.converters.boolean,defaultValue:!1},{key:"composed",converter:Kr.converters.boolean,defaultValue:!1}]);Oj.exports={ProgressEvent:WF}});var Vj=C((oUe,Pj)=>{"use strict";function i0e(t){if(!t)return"failure";switch(t.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}Pj.exports={getEncoding:i0e}});var jj=C((aUe,zj)=>{"use strict";var{kState:Yh,kError:JF,kResult:qj,kAborted:kp,kLastProgressEventFired:zF}=YF(),{ProgressEvent:s0e}=Uj(),{getEncoding:Gj}=Vj(),{DOMException:o0e}=AA(),{serializeAMimeType:a0e,parseMIMEType:Hj}=is(),{types:A0e}=B("util"),{StringDecoder:Yj}=B("string_decoder"),{btoa:Wj}=B("buffer"),l0e={enumerable:!0,writable:!1,configurable:!1};function c0e(t,e,n,r){if(t[Yh]==="loading")throw new o0e("Invalid state","InvalidStateError");t[Yh]="loading",t[qj]=null,t[JF]=null;let s=e.stream().getReader(),o=[],a=s.read(),A=!0;E(this,null,function*(){for(;!t[kp];)try{let{done:l,value:c}=yield a;if(A&&!t[kp]&&queueMicrotask(()=>{pA("loadstart",t)}),A=!1,!l&&A0e.isUint8Array(c))o.push(c),(t[zF]===void 0||Date.now()-t[zF]>=50)&&!t[kp]&&(t[zF]=Date.now(),queueMicrotask(()=>{pA("progress",t)})),a=s.read();else if(l){queueMicrotask(()=>{t[Yh]="done";try{let u=u0e(o,n,e.type,r);if(t[kp])return;t[qj]=u,pA("load",t)}catch(u){t[JF]=u,pA("error",t)}t[Yh]!=="loading"&&pA("loadend",t)});break}}catch(l){if(t[kp])return;queueMicrotask(()=>{t[Yh]="done",t[JF]=l,pA("error",t),t[Yh]!=="loading"&&pA("loadend",t)});break}})}function pA(t,e){let n=new s0e(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}function u0e(t,e,n,r){switch(e){case"DataURL":{let i="data:",s=Hj(n||"application/octet-stream");s!=="failure"&&(i+=a0e(s)),i+=";base64,";let o=new Yj("latin1");for(let a of t)i+=Wj(o.write(a));return i+=Wj(o.end()),i}case"Text":{let i="failure";if(r&&(i=Gj(r)),i==="failure"&&n){let s=Hj(n);s!=="failure"&&(i=Gj(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),h0e(t,i)}case"ArrayBuffer":return Jj(t).buffer;case"BinaryString":{let i="",s=new Yj("latin1");for(let o of t)i+=s.write(o);return i+=s.end(),i}}}function h0e(t,e){let n=Jj(t),r=d0e(n),i=0;r!==null&&(e=r,i=r==="UTF-8"?3:2);let s=n.slice(i);return new TextDecoder(e).decode(s)}function d0e(t){let[e,n,r]=t;return e===239&&n===187&&r===191?"UTF-8":e===254&&n===255?"UTF-16BE":e===255&&n===254?"UTF-16LE":null}function Jj(t){let e=t.reduce((r,i)=>r+i.byteLength,0),n=0;return t.reduce((r,i)=>(r.set(i,n),n+=i.byteLength,r),new Uint8Array(e))}zj.exports={staticPropertyDescriptors:l0e,readOperation:c0e,fireAProgressEvent:pA}});var $j=C((lUe,Zj)=>{"use strict";var{staticPropertyDescriptors:Wh,readOperation:IQ,fireAProgressEvent:Kj}=jj(),{kState:Hl,kError:Xj,kResult:yQ,kEvents:ze,kAborted:f0e}=YF(),{webidl:nt}=or(),{kEnumerableProperty:br}=Ve(),as=class t extends EventTarget{constructor(){super(),this[Hl]="empty",this[yQ]=null,this[Xj]=null,this[ze]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){nt.brandCheck(this,t),nt.argumentLengthCheck(arguments,1,{header:"FileReader.readAsArrayBuffer"}),e=nt.converters.Blob(e,{strict:!1}),IQ(this,e,"ArrayBuffer")}readAsBinaryString(e){nt.brandCheck(this,t),nt.argumentLengthCheck(arguments,1,{header:"FileReader.readAsBinaryString"}),e=nt.converters.Blob(e,{strict:!1}),IQ(this,e,"BinaryString")}readAsText(e,n=void 0){nt.brandCheck(this,t),nt.argumentLengthCheck(arguments,1,{header:"FileReader.readAsText"}),e=nt.converters.Blob(e,{strict:!1}),n!==void 0&&(n=nt.converters.DOMString(n)),IQ(this,e,"Text",n)}readAsDataURL(e){nt.brandCheck(this,t),nt.argumentLengthCheck(arguments,1,{header:"FileReader.readAsDataURL"}),e=nt.converters.Blob(e,{strict:!1}),IQ(this,e,"DataURL")}abort(){if(this[Hl]==="empty"||this[Hl]==="done"){this[yQ]=null;return}this[Hl]==="loading"&&(this[Hl]="done",this[yQ]=null),this[f0e]=!0,Kj("abort",this),this[Hl]!=="loading"&&Kj("loadend",this)}get readyState(){switch(nt.brandCheck(this,t),this[Hl]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return nt.brandCheck(this,t),this[yQ]}get error(){return nt.brandCheck(this,t),this[Xj]}get onloadend(){return nt.brandCheck(this,t),this[ze].loadend}set onloadend(e){nt.brandCheck(this,t),this[ze].loadend&&this.removeEventListener("loadend",this[ze].loadend),typeof e=="function"?(this[ze].loadend=e,this.addEventListener("loadend",e)):this[ze].loadend=null}get onerror(){return nt.brandCheck(this,t),this[ze].error}set onerror(e){nt.brandCheck(this,t),this[ze].error&&this.removeEventListener("error",this[ze].error),typeof e=="function"?(this[ze].error=e,this.addEventListener("error",e)):this[ze].error=null}get onloadstart(){return nt.brandCheck(this,t),this[ze].loadstart}set onloadstart(e){nt.brandCheck(this,t),this[ze].loadstart&&this.removeEventListener("loadstart",this[ze].loadstart),typeof e=="function"?(this[ze].loadstart=e,this.addEventListener("loadstart",e)):this[ze].loadstart=null}get onprogress(){return nt.brandCheck(this,t),this[ze].progress}set onprogress(e){nt.brandCheck(this,t),this[ze].progress&&this.removeEventListener("progress",this[ze].progress),typeof e=="function"?(this[ze].progress=e,this.addEventListener("progress",e)):this[ze].progress=null}get onload(){return nt.brandCheck(this,t),this[ze].load}set onload(e){nt.brandCheck(this,t),this[ze].load&&this.removeEventListener("load",this[ze].load),typeof e=="function"?(this[ze].load=e,this.addEventListener("load",e)):this[ze].load=null}get onabort(){return nt.brandCheck(this,t),this[ze].abort}set onabort(e){nt.brandCheck(this,t),this[ze].abort&&this.removeEventListener("abort",this[ze].abort),typeof e=="function"?(this[ze].abort=e,this.addEventListener("abort",e)):this[ze].abort=null}};as.EMPTY=as.prototype.EMPTY=0;as.LOADING=as.prototype.LOADING=1;as.DONE=as.prototype.DONE=2;Object.defineProperties(as.prototype,{EMPTY:Wh,LOADING:Wh,DONE:Wh,readAsArrayBuffer:br,readAsBinaryString:br,readAsText:br,readAsDataURL:br,abort:br,readyState:br,result:br,error:br,onloadstart:br,onprogress:br,onload:br,onabort:br,onerror:br,onloadend:br,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(as,{EMPTY:Wh,LOADING:Wh,DONE:Wh});Zj.exports={FileReader:as}});var BQ=C((cUe,e5)=>{"use strict";e5.exports={kConstruct:Symbol("constructable")}});var r5=C((uUe,n5)=>{"use strict";var g0e=B("assert"),{URLSerializer:t5}=is(),{isValidHeaderName:p0e}=bi();function E0e(t,e,n=!1){let r=t5(t,n),i=t5(e,n);return r===i}function m0e(t){g0e(t!==null);let e=[];for(let n of t.split(",")){if(n=n.trim(),n.length){if(!p0e(n))continue}else continue;e.push(n)}return e}n5.exports={urlEquals:E0e,fieldValues:m0e}});var l5=C((hUe,A5)=>{"use strict";var{kConstruct:C0e}=BQ(),{urlEquals:I0e,fieldValues:jF}=r5(),{kEnumerableProperty:Yl,isDisturbed:y0e}=Ve(),{kHeadersList:i5}=_t(),{webidl:Ae}=or(),{Response:o5,cloneResponse:B0e}=AQ(),{Request:no}=Rp(),{kState:cr,kHeaders:QQ,kGuard:s5,kRealm:Q0e}=Lo(),{fetching:w0e}=mQ(),{urlIsHttpHttpsScheme:wQ,createDeferredPromise:Jh,readAllBytes:_0e}=bi(),KF=B("assert"),{getGlobalDispatcher:v0e}=Uh(),_Q=class t{#e;constructor(){arguments[0]!==C0e&&Ae.illegalConstructor(),this.#e=arguments[1]}match(r){return E(this,arguments,function*(e,n={}){Ae.brandCheck(this,t),Ae.argumentLengthCheck(arguments,1,{header:"Cache.match"}),e=Ae.converters.RequestInfo(e),n=Ae.converters.CacheQueryOptions(n);let i=yield this.matchAll(e,n);if(i.length!==0)return i[0]})}matchAll(){return E(this,arguments,function*(e=void 0,n={}){Ae.brandCheck(this,t),e!==void 0&&(e=Ae.converters.RequestInfo(e)),n=Ae.converters.CacheQueryOptions(n);let r=null;if(e!==void 0)if(e instanceof no){if(r=e[cr],r.method!=="GET"&&!n.ignoreMethod)return[]}else typeof e=="string"&&(r=new no(e)[cr]);let i=[];if(e===void 0)for(let o of this.#e)i.push(o[1]);else{let o=this.#r(r,n);for(let a of o)i.push(a[1])}let s=[];for(let o of i){let a=new o5(o.body?.source??null),A=a[cr].body;a[cr]=o,a[cr].body=A,a[QQ][i5]=o.headersList,a[QQ][s5]="immutable",s.push(a)}return Object.freeze(s)})}add(n){return E(this,arguments,function*(e){Ae.brandCheck(this,t),Ae.argumentLengthCheck(arguments,1,{header:"Cache.add"}),e=Ae.converters.RequestInfo(e);let r=[e];return yield this.addAll(r)})}addAll(n){return E(this,arguments,function*(e){Ae.brandCheck(this,t),Ae.argumentLengthCheck(arguments,1,{header:"Cache.addAll"}),e=Ae.converters["sequence<RequestInfo>"](e);let r=[],i=[];for(let h of e){if(typeof h=="string")continue;let d=h[cr];if(!wQ(d.url)||d.method!=="GET")throw Ae.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of e){let d=new no(h)[cr];if(!wQ(d.url))throw Ae.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme."});d.initiator="fetch",d.destination="subresource",i.push(d);let f=Jh();s.push(w0e({request:d,dispatcher:v0e(),processResponse(g){if(g.type==="error"||g.status===206||g.status<200||g.status>299)f.reject(Ae.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(g.headersList.contains("vary")){let m=jF(g.headersList.get("vary"));for(let y of m)if(y==="*"){f.reject(Ae.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let I of s)I.abort();return}}},processResponseEndOfBody(g){if(g.aborted){f.reject(new DOMException("aborted","AbortError"));return}f.resolve(g)}})),r.push(f.promise)}let a=yield Promise.all(r),A=[],l=0;for(let h of a){let d={type:"put",request:i[l],response:h};A.push(d),l++}let c=Jh(),u=null;try{this.#n(A)}catch(h){u=h}return queueMicrotask(()=>{u===null?c.resolve(void 0):c.reject(u)}),c.promise})}put(r,i){return E(this,arguments,function*(e,n){Ae.brandCheck(this,t),Ae.argumentLengthCheck(arguments,2,{header:"Cache.put"}),e=Ae.converters.RequestInfo(e),n=Ae.converters.Response(n);let s=null;if(e instanceof no?s=e[cr]:s=new no(e)[cr],!wQ(s.url)||s.method!=="GET")throw Ae.errors.exception({header:"Cache.put",message:"Expected an http/s scheme when method is not GET"});let o=n[cr];if(o.status===206)throw Ae.errors.exception({header:"Cache.put",message:"Got 206 status"});if(o.headersList.contains("vary")){let f=jF(o.headersList.get("vary"));for(let g of f)if(g==="*")throw Ae.errors.exception({header:"Cache.put",message:"Got * vary field value"})}if(o.body&&(y0e(o.body.stream)||o.body.stream.locked))throw Ae.errors.exception({header:"Cache.put",message:"Response body is locked or disturbed"});let a=B0e(o),A=Jh();if(o.body!=null){let g=o.body.stream.getReader();_0e(g).then(A.resolve,A.reject)}else A.resolve(void 0);let l=[],c={type:"put",request:s,response:a};l.push(c);let u=yield A.promise;a.body!=null&&(a.body.source=u);let h=Jh(),d=null;try{this.#n(l)}catch(f){d=f}return queueMicrotask(()=>{d===null?h.resolve():h.reject(d)}),h.promise})}delete(r){return E(this,arguments,function*(e,n={}){Ae.brandCheck(this,t),Ae.argumentLengthCheck(arguments,1,{header:"Cache.delete"}),e=Ae.converters.RequestInfo(e),n=Ae.converters.CacheQueryOptions(n);let i=null;if(e instanceof no){if(i=e[cr],i.method!=="GET"&&!n.ignoreMethod)return!1}else KF(typeof e=="string"),i=new no(e)[cr];let s=[],o={type:"delete",request:i,options:n};s.push(o);let a=Jh(),A=null,l;try{l=this.#n(s)}catch(c){A=c}return queueMicrotask(()=>{A===null?a.resolve(!!l?.length):a.reject(A)}),a.promise})}keys(){return E(this,arguments,function*(e=void 0,n={}){Ae.brandCheck(this,t),e!==void 0&&(e=Ae.converters.RequestInfo(e)),n=Ae.converters.CacheQueryOptions(n);let r=null;if(e!==void 0)if(e instanceof no){if(r=e[cr],r.method!=="GET"&&!n.ignoreMethod)return[]}else typeof e=="string"&&(r=new no(e)[cr]);let i=Jh(),s=[];if(e===void 0)for(let o of this.#e)s.push(o[0]);else{let o=this.#r(r,n);for(let a of o)s.push(a[0])}return queueMicrotask(()=>{let o=[];for(let a of s){let A=new no("https://a");A[cr]=a,A[QQ][i5]=a.headersList,A[QQ][s5]="immutable",A[Q0e]=a.client,o.push(A)}i.resolve(Object.freeze(o))}),i.promise})}#n(e){let n=this.#e,r=[...n],i=[],s=[];try{for(let o of e){if(o.type!=="delete"&&o.type!=="put")throw Ae.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(o.type==="delete"&&o.response!=null)throw Ae.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#r(o.request,o.options,i).length)throw new DOMException("???","InvalidStateError");let a;if(o.type==="delete"){if(a=this.#r(o.request,o.options),a.length===0)return[];for(let A of a){let l=n.indexOf(A);KF(l!==-1),n.splice(l,1)}}else if(o.type==="put"){if(o.response==null)throw Ae.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let A=o.request;if(!wQ(A.url))throw Ae.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(A.method!=="GET")throw Ae.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(o.options!=null)throw Ae.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});a=this.#r(o.request);for(let l of a){let c=n.indexOf(l);KF(c!==-1),n.splice(c,1)}n.push([o.request,o.response]),i.push([o.request,o.response])}s.push([o.request,o.response])}return s}catch(o){throw this.#e.length=0,this.#e=r,o}}#r(e,n,r){let i=[],s=r??this.#e;for(let o of s){let[a,A]=o;this.#t(e,a,A,n)&&i.push(o)}return i}#t(e,n,r=null,i){let s=new URL(e.url),o=new URL(n.url);if(i?.ignoreSearch&&(o.search="",s.search=""),!I0e(s,o,!0))return!1;if(r==null||i?.ignoreVary||!r.headersList.contains("vary"))return!0;let a=jF(r.headersList.get("vary"));for(let A of a){if(A==="*")return!1;let l=n.headersList.get(A),c=e.headersList.get(A);if(l!==c)return!1}return!0}};Object.defineProperties(_Q.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:Yl,matchAll:Yl,add:Yl,addAll:Yl,put:Yl,delete:Yl,keys:Yl});var a5=[{key:"ignoreSearch",converter:Ae.converters.boolean,defaultValue:!1},{key:"ignoreMethod",converter:Ae.converters.boolean,defaultValue:!1},{key:"ignoreVary",converter:Ae.converters.boolean,defaultValue:!1}];Ae.converters.CacheQueryOptions=Ae.dictionaryConverter(a5);Ae.converters.MultiCacheQueryOptions=Ae.dictionaryConverter([...a5,{key:"cacheName",converter:Ae.converters.DOMString}]);Ae.converters.Response=Ae.interfaceConverter(o5);Ae.converters["sequence<RequestInfo>"]=Ae.sequenceConverter(Ae.converters.RequestInfo);A5.exports={Cache:_Q}});var u5=C((fUe,c5)=>{"use strict";var{kConstruct:Np}=BQ(),{Cache:vQ}=l5(),{webidl:ur}=or(),{kEnumerableProperty:Fp}=Ve(),SQ=class t{#e=new Map;constructor(){arguments[0]!==Np&&ur.illegalConstructor()}match(r){return E(this,arguments,function*(e,n={}){if(ur.brandCheck(this,t),ur.argumentLengthCheck(arguments,1,{header:"CacheStorage.match"}),e=ur.converters.RequestInfo(e),n=ur.converters.MultiCacheQueryOptions(n),n.cacheName!=null){if(this.#e.has(n.cacheName)){let i=this.#e.get(n.cacheName);return yield new vQ(Np,i).match(e,n)}}else for(let i of this.#e.values()){let o=yield new vQ(Np,i).match(e,n);if(o!==void 0)return o}})}has(n){return E(this,arguments,function*(e){return ur.brandCheck(this,t),ur.argumentLengthCheck(arguments,1,{header:"CacheStorage.has"}),e=ur.converters.DOMString(e),this.#e.has(e)})}open(n){return E(this,arguments,function*(e){if(ur.brandCheck(this,t),ur.argumentLengthCheck(arguments,1,{header:"CacheStorage.open"}),e=ur.converters.DOMString(e),this.#e.has(e)){let i=this.#e.get(e);return new vQ(Np,i)}let r=[];return this.#e.set(e,r),new vQ(Np,r)})}delete(n){return E(this,arguments,function*(e){return ur.brandCheck(this,t),ur.argumentLengthCheck(arguments,1,{header:"CacheStorage.delete"}),e=ur.converters.DOMString(e),this.#e.delete(e)})}keys(){return E(this,null,function*(){return ur.brandCheck(this,t),[...this.#e.keys()]})}};Object.defineProperties(SQ.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:Fp,has:Fp,open:Fp,delete:Fp,keys:Fp});c5.exports={CacheStorage:SQ}});var d5=C((pUe,h5)=>{"use strict";h5.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var XF=C((EUe,p5)=>{"use strict";var f5=B("assert"),{kHeadersList:g5}=_t();function S0e(t){if(t.length===0)return!1;for(let e of t){let n=e.charCodeAt(0);if(n>=0||n<=8||n>=10||n<=31||n===127)return!1}}function b0e(t){for(let e of t){let n=e.charCodeAt(0);if(n<=32||n>127||e==="("||e===")"||e===">"||e==="<"||e==="@"||e===","||e===";"||e===":"||e==="\\"||e==='"'||e==="/"||e==="["||e==="]"||e==="?"||e==="="||e==="{"||e==="}")throw new Error("Invalid cookie name")}}function D0e(t){for(let e of t){let n=e.charCodeAt(0);if(n<33||n===34||n===44||n===59||n===92||n>126)throw new Error("Invalid header value")}}function R0e(t){for(let e of t)if(e.charCodeAt(0)<33||e===";")throw new Error("Invalid cookie path")}function T0e(t){if(t.startsWith("-")||t.endsWith(".")||t.endsWith("-"))throw new Error("Invalid cookie domain")}function k0e(t){typeof t=="number"&&(t=new Date(t));let e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e[t.getUTCDay()],i=t.getUTCDate().toString().padStart(2,"0"),s=n[t.getUTCMonth()],o=t.getUTCFullYear(),a=t.getUTCHours().toString().padStart(2,"0"),A=t.getUTCMinutes().toString().padStart(2,"0"),l=t.getUTCSeconds().toString().padStart(2,"0");return`${r}, ${i} ${s} ${o} ${a}:${A}:${l} GMT`}function N0e(t){if(t<0)throw new Error("Invalid cookie max-age")}function F0e(t){if(t.name.length===0)return null;b0e(t.name),D0e(t.value);let e=[`${t.name}=${t.value}`];t.name.startsWith("__Secure-")&&(t.secure=!0),t.name.startsWith("__Host-")&&(t.secure=!0,t.domain=null,t.path="/"),t.secure&&e.push("Secure"),t.httpOnly&&e.push("HttpOnly"),typeof t.maxAge=="number"&&(N0e(t.maxAge),e.push(`Max-Age=${t.maxAge}`)),t.domain&&(T0e(t.domain),e.push(`Domain=${t.domain}`)),t.path&&(R0e(t.path),e.push(`Path=${t.path}`)),t.expires&&t.expires.toString()!=="Invalid Date"&&e.push(`Expires=${k0e(t.expires)}`),t.sameSite&&e.push(`SameSite=${t.sameSite}`);for(let n of t.unparsed){if(!n.includes("="))throw new Error("Invalid unparsed");let[r,...i]=n.split("=");e.push(`${r.trim()}=${i.join("=")}`)}return e.join("; ")}var bQ;function x0e(t){if(t[g5])return t[g5];bQ||(bQ=Object.getOwnPropertySymbols(t).find(n=>n.description==="headers list"),f5(bQ,"Headers cannot be parsed"));let e=t[bQ];return f5(e),e}p5.exports={isCTLExcludingHtab:S0e,stringify:F0e,getHeadersList:x0e}});var m5=C((mUe,E5)=>{"use strict";var{maxNameValuePairSize:M0e,maxAttributeValueSize:L0e}=d5(),{isCTLExcludingHtab:O0e}=XF(),{collectASequenceOfCodePointsFast:DQ}=is(),U0e=B("assert");function P0e(t){if(O0e(t))return null;let e="",n="",r="",i="";if(t.includes(";")){let s={position:0};e=DQ(";",t,s),n=t.slice(s.position)}else e=t;if(!e.includes("="))i=e;else{let s={position:0};r=DQ("=",e,s),i=e.slice(s.position+1)}return r=r.trim(),i=i.trim(),r.length+i.length>M0e?null:x({name:r,value:i},zh(n))}function zh(t,e={}){if(t.length===0)return e;U0e(t[0]===";"),t=t.slice(1);let n="";t.includes(";")?(n=DQ(";",t,{position:0}),t=t.slice(n.length)):(n=t,t="");let r="",i="";if(n.includes("=")){let o={position:0};r=DQ("=",n,o),i=n.slice(o.position+1)}else r=n;if(r=r.trim(),i=i.trim(),i.length>L0e)return zh(t,e);let s=r.toLowerCase();if(s==="expires"){let o=new Date(i);e.expires=o}else if(s==="max-age"){let o=i.charCodeAt(0);if((o<48||o>57)&&i[0]!=="-"||!/^\d+$/.test(i))return zh(t,e);let a=Number(i);e.maxAge=a}else if(s==="domain"){let o=i;o[0]==="."&&(o=o.slice(1)),o=o.toLowerCase(),e.domain=o}else if(s==="path"){let o="";i.length===0||i[0]!=="/"?o="/":o=i,e.path=o}else if(s==="secure")e.secure=!0;else if(s==="httponly")e.httpOnly=!0;else if(s==="samesite"){let o="Default",a=i.toLowerCase();a.includes("none")&&(o="None"),a.includes("strict")&&(o="Strict"),a.includes("lax")&&(o="Lax"),e.sameSite=o}else e.unparsed??=[],e.unparsed.push(`${r}=${i}`);return zh(t,e)}E5.exports={parseSetCookie:P0e,parseUnparsedAttributes:zh}});var B5=C((IUe,y5)=>{"use strict";var{parseSetCookie:V0e}=m5(),{stringify:C5,getHeadersList:q0e}=XF(),{webidl:Fe}=or(),{Headers:RQ}=ql();function G0e(t){Fe.argumentLengthCheck(arguments,1,{header:"getCookies"}),Fe.brandCheck(t,RQ,{strict:!1});let e=t.get("cookie"),n={};if(!e)return n;for(let r of e.split(";")){let[i,...s]=r.split("=");n[i.trim()]=s.join("=")}return n}function H0e(t,e,n){Fe.argumentLengthCheck(arguments,2,{header:"deleteCookie"}),Fe.brandCheck(t,RQ,{strict:!1}),e=Fe.converters.DOMString(e),n=Fe.converters.DeleteCookieAttributes(n),I5(t,x({name:e,value:"",expires:new Date(0)},n))}function Y0e(t){Fe.argumentLengthCheck(arguments,1,{header:"getSetCookies"}),Fe.brandCheck(t,RQ,{strict:!1});let e=q0e(t).cookies;return e?e.map(n=>V0e(Array.isArray(n)?n[1]:n)):[]}function I5(t,e){Fe.argumentLengthCheck(arguments,2,{header:"setCookie"}),Fe.brandCheck(t,RQ,{strict:!1}),e=Fe.converters.Cookie(e),C5(e)&&t.append("Set-Cookie",C5(e))}Fe.converters.DeleteCookieAttributes=Fe.dictionaryConverter([{converter:Fe.nullableConverter(Fe.converters.DOMString),key:"path",defaultValue:null},{converter:Fe.nullableConverter(Fe.converters.DOMString),key:"domain",defaultValue:null}]);Fe.converters.Cookie=Fe.dictionaryConverter([{converter:Fe.converters.DOMString,key:"name"},{converter:Fe.converters.DOMString,key:"value"},{converter:Fe.nullableConverter(t=>typeof t=="number"?Fe.converters["unsigned long long"](t):new Date(t)),key:"expires",defaultValue:null},{converter:Fe.nullableConverter(Fe.converters["long long"]),key:"maxAge",defaultValue:null},{converter:Fe.nullableConverter(Fe.converters.DOMString),key:"domain",defaultValue:null},{converter:Fe.nullableConverter(Fe.converters.DOMString),key:"path",defaultValue:null},{converter:Fe.nullableConverter(Fe.converters.boolean),key:"secure",defaultValue:null},{converter:Fe.nullableConverter(Fe.converters.boolean),key:"httpOnly",defaultValue:null},{converter:Fe.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Fe.sequenceConverter(Fe.converters.DOMString),key:"unparsed",defaultValue:[]}]);y5.exports={getCookies:G0e,deleteCookie:H0e,getSetCookies:Y0e,setCookie:I5}});var jh=C((BUe,Q5)=>{"use strict";var W0e="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",J0e={enumerable:!0,writable:!1,configurable:!1},z0e={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},j0e={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},K0e=2**16-1,X0e={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},Z0e=Buffer.allocUnsafe(0);Q5.exports={uid:W0e,staticPropertyDescriptors:J0e,states:z0e,opcodes:j0e,maxUnsigned16Bit:K0e,parserStates:X0e,emptyBuffer:Z0e}});var xp=C((QUe,w5)=>{"use strict";w5.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var $F=C((wUe,_5)=>{"use strict";var{webidl:le}=or(),{kEnumerableProperty:Dr}=Ve(),{MessagePort:$0e}=B("worker_threads"),TQ=class t extends Event{#e;constructor(e,n={}){le.argumentLengthCheck(arguments,1,{header:"MessageEvent constructor"}),e=le.converters.DOMString(e),n=le.converters.MessageEventInit(n),super(e,n),this.#e=n}get data(){return le.brandCheck(this,t),this.#e.data}get origin(){return le.brandCheck(this,t),this.#e.origin}get lastEventId(){return le.brandCheck(this,t),this.#e.lastEventId}get source(){return le.brandCheck(this,t),this.#e.source}get ports(){return le.brandCheck(this,t),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,n=!1,r=!1,i=null,s="",o="",a=null,A=[]){return le.brandCheck(this,t),le.argumentLengthCheck(arguments,1,{header:"MessageEvent.initMessageEvent"}),new t(e,{bubbles:n,cancelable:r,data:i,origin:s,lastEventId:o,source:a,ports:A})}},kQ=class t extends Event{#e;constructor(e,n={}){le.argumentLengthCheck(arguments,1,{header:"CloseEvent constructor"}),e=le.converters.DOMString(e),n=le.converters.CloseEventInit(n),super(e,n),this.#e=n}get wasClean(){return le.brandCheck(this,t),this.#e.wasClean}get code(){return le.brandCheck(this,t),this.#e.code}get reason(){return le.brandCheck(this,t),this.#e.reason}},NQ=class t extends Event{#e;constructor(e,n){le.argumentLengthCheck(arguments,1,{header:"ErrorEvent constructor"}),super(e,n),e=le.converters.DOMString(e),n=le.converters.ErrorEventInit(n??{}),this.#e=n}get message(){return le.brandCheck(this,t),this.#e.message}get filename(){return le.brandCheck(this,t),this.#e.filename}get lineno(){return le.brandCheck(this,t),this.#e.lineno}get colno(){return le.brandCheck(this,t),this.#e.colno}get error(){return le.brandCheck(this,t),this.#e.error}};Object.defineProperties(TQ.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:Dr,origin:Dr,lastEventId:Dr,source:Dr,ports:Dr,initMessageEvent:Dr});Object.defineProperties(kQ.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:Dr,code:Dr,wasClean:Dr});Object.defineProperties(NQ.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:Dr,filename:Dr,lineno:Dr,colno:Dr,error:Dr});le.converters.MessagePort=le.interfaceConverter($0e);le.converters["sequence<MessagePort>"]=le.sequenceConverter(le.converters.MessagePort);var ZF=[{key:"bubbles",converter:le.converters.boolean,defaultValue:!1},{key:"cancelable",converter:le.converters.boolean,defaultValue:!1},{key:"composed",converter:le.converters.boolean,defaultValue:!1}];le.converters.MessageEventInit=le.dictionaryConverter([...ZF,{key:"data",converter:le.converters.any,defaultValue:null},{key:"origin",converter:le.converters.USVString,defaultValue:""},{key:"lastEventId",converter:le.converters.DOMString,defaultValue:""},{key:"source",converter:le.nullableConverter(le.converters.MessagePort),defaultValue:null},{key:"ports",converter:le.converters["sequence<MessagePort>"],get defaultValue(){return[]}}]);le.converters.CloseEventInit=le.dictionaryConverter([...ZF,{key:"wasClean",converter:le.converters.boolean,defaultValue:!1},{key:"code",converter:le.converters["unsigned short"],defaultValue:0},{key:"reason",converter:le.converters.USVString,defaultValue:""}]);le.converters.ErrorEventInit=le.dictionaryConverter([...ZF,{key:"message",converter:le.converters.DOMString,defaultValue:""},{key:"filename",converter:le.converters.USVString,defaultValue:""},{key:"lineno",converter:le.converters["unsigned long"],defaultValue:0},{key:"colno",converter:le.converters["unsigned long"],defaultValue:0},{key:"error",converter:le.converters.any}]);_5.exports={MessageEvent:TQ,CloseEvent:kQ,ErrorEvent:NQ}});var MQ=C((_Ue,b5)=>{"use strict";var{kReadyState:FQ,kController:e_e,kResponse:t_e,kBinaryType:n_e,kWebSocketURL:r_e}=xp(),{states:xQ,opcodes:v5}=jh(),{MessageEvent:i_e,ErrorEvent:s_e}=$F();function o_e(t){return t[FQ]===xQ.OPEN}function a_e(t){return t[FQ]===xQ.CLOSING}function A_e(t){return t[FQ]===xQ.CLOSED}function ex(t,e,n=Event,r){let i=new n(t,r);e.dispatchEvent(i)}function l_e(t,e,n){if(t[FQ]!==xQ.OPEN)return;let r;if(e===v5.TEXT)try{r=new TextDecoder("utf-8",{fatal:!0}).decode(n)}catch{S5(t,"Received invalid UTF-8 in text frame.");return}else e===v5.BINARY&&(t[n_e]==="blob"?r=new Blob([n]):r=new Uint8Array(n).buffer);ex("message",t,i_e,{origin:t[r_e].origin,data:r})}function c_e(t){if(t.length===0)return!1;for(let e of t){let n=e.charCodeAt(0);if(n<33||n>126||e==="("||e===")"||e==="<"||e===">"||e==="@"||e===","||e===";"||e===":"||e==="\\"||e==='"'||e==="/"||e==="["||e==="]"||e==="?"||e==="="||e==="{"||e==="}"||n===32||n===9)return!1}return!0}function u_e(t){return t>=1e3&&t<1015?t!==1004&&t!==1005&&t!==1006:t>=3e3&&t<=4999}function S5(t,e){let{[e_e]:n,[t_e]:r}=t;n.abort(),r?.socket&&!r.socket.destroyed&&r.socket.destroy(),e&&ex("error",t,s_e,{error:new Error(e)})}b5.exports={isEstablished:o_e,isClosing:a_e,isClosed:A_e,fireEvent:ex,isValidSubprotocol:c_e,isValidStatusCode:u_e,failWebsocketConnection:S5,websocketMessageReceived:l_e}});var F5=C((vUe,N5)=>{"use strict";var nx=B("diagnostics_channel"),{uid:h_e,states:R5}=jh(),{kReadyState:T5,kSentClose:D5,kByteParser:k5,kReceivedClose:d_e}=xp(),{fireEvent:f_e,failWebsocketConnection:Wl}=MQ(),{CloseEvent:g_e}=$F(),{makeRequest:p_e}=Rp(),{fetching:E_e}=mQ(),{Headers:m_e}=ql(),{getGlobalDispatcher:C_e}=Uh(),{kHeadersList:I_e}=_t(),Wo={};Wo.open=nx.channel("undici:websocket:open");Wo.close=nx.channel("undici:websocket:close");Wo.socketError=nx.channel("undici:websocket:socket_error");var tx;try{tx=B("crypto")}catch{}function y_e(t,e,n,r,i){let s=t;s.protocol=t.protocol==="ws:"?"http:":"https:";let o=p_e({urlList:[s],serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(i.headers){let c=new m_e(i.headers)[I_e];o.headersList=c}let a=tx.randomBytes(16).toString("base64");o.headersList.append("sec-websocket-key",a),o.headersList.append("sec-websocket-version","13");for(let c of e)o.headersList.append("sec-websocket-protocol",c);let A="";return E_e({request:o,useParallelQueue:!0,dispatcher:i.dispatcher??C_e(),processResponse(c){if(c.type==="error"||c.status!==101){Wl(n,"Received network error or non-101 status code.");return}if(e.length!==0&&!c.headersList.get("Sec-WebSocket-Protocol")){Wl(n,"Server did not respond with sent protocols.");return}if(c.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){Wl(n,'Server did not set Upgrade header to "websocket".');return}if(c.headersList.get("Connection")?.toLowerCase()!=="upgrade"){Wl(n,'Server did not set Connection header to "upgrade".');return}let u=c.headersList.get("Sec-WebSocket-Accept"),h=tx.createHash("sha1").update(a+h_e).digest("base64");if(u!==h){Wl(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let d=c.headersList.get("Sec-WebSocket-Extensions");if(d!==null&&d!==A){Wl(n,"Received different permessage-deflate than the one set.");return}let f=c.headersList.get("Sec-WebSocket-Protocol");if(f!==null&&f!==o.headersList.get("Sec-WebSocket-Protocol")){Wl(n,"Protocol was not set in the opening handshake.");return}c.socket.on("data",B_e),c.socket.on("close",Q_e),c.socket.on("error",w_e),Wo.open.hasSubscribers&&Wo.open.publish({address:c.socket.address(),protocol:f,extensions:d}),r(c)}})}function B_e(t){this.ws[k5].write(t)||this.pause()}function Q_e(){let{ws:t}=this,e=t[D5]&&t[d_e],n=1005,r="",i=t[k5].closingInfo;i?(n=i.code??1005,r=i.reason):t[D5]||(n=1006),t[T5]=R5.CLOSED,f_e("close",t,g_e,{wasClean:e,code:n,reason:r}),Wo.close.hasSubscribers&&Wo.close.publish({websocket:t,code:n,reason:r})}function w_e(t){let{ws:e}=this;e[T5]=R5.CLOSING,Wo.socketError.hasSubscribers&&Wo.socketError.publish(t),this.destroy()}N5.exports={establishWebSocketConnection:y_e}});var ix=C((SUe,M5)=>{"use strict";var{maxUnsigned16Bit:__e}=jh(),x5;try{x5=B("crypto")}catch{}var rx=class{constructor(e){this.frameData=e,this.maskKey=x5.randomBytes(4)}createFrame(e){let n=this.frameData?.byteLength??0,r=n,i=6;n>__e?(i+=8,r=127):n>125&&(i+=2,r=126);let s=Buffer.allocUnsafe(n+i);s[0]=s[1]=0,s[0]|=128,s[0]=(s[0]&240)+e;s[i-4]=this.maskKey[0],s[i-3]=this.maskKey[1],s[i-2]=this.maskKey[2],s[i-1]=this.maskKey[3],s[1]=r,r===126?s.writeUInt16BE(n,2):r===127&&(s[2]=s[3]=0,s.writeUIntBE(n,4,6)),s[1]|=128;for(let o=0;o<n;o++)s[i+o]=this.frameData[o]^this.maskKey[o%4];return s}};M5.exports={WebsocketFrameSend:rx}});var H5=C((bUe,G5)=>{"use strict";var{Writable:v_e}=B("stream"),q5=B("diagnostics_channel"),{parserStates:Ti,opcodes:ki,states:S_e,emptyBuffer:b_e}=jh(),{kReadyState:D_e,kSentClose:L5,kResponse:O5,kReceivedClose:U5}=xp(),{isValidStatusCode:P5,failWebsocketConnection:Mp,websocketMessageReceived:R_e}=MQ(),{WebsocketFrameSend:V5}=ix(),Kh={};Kh.ping=q5.channel("undici:websocket:ping");Kh.pong=q5.channel("undici:websocket:pong");var sx=class extends v_e{#e=[];#n=0;#r=Ti.INFO;#t={};#i=[];constructor(e){super(),this.ws=e}_write(e,n,r){this.#e.push(e),this.#n+=e.length,this.run(r)}run(e){for(;;){if(this.#r===Ti.INFO){if(this.#n<2)return e();let n=this.consume(2);if(this.#t.fin=(n[0]&128)!==0,this.#t.opcode=n[0]&15,this.#t.originalOpcode??=this.#t.opcode,this.#t.fragmented=!this.#t.fin&&this.#t.opcode!==ki.CONTINUATION,this.#t.fragmented&&this.#t.opcode!==ki.BINARY&&this.#t.opcode!==ki.TEXT){Mp(this.ws,"Invalid frame type was fragmented.");return}let r=n[1]&127;if(r<=125?(this.#t.payloadLength=r,this.#r=Ti.READ_DATA):r===126?this.#r=Ti.PAYLOADLENGTH_16:r===127&&(this.#r=Ti.PAYLOADLENGTH_64),this.#t.fragmented&&r>125){Mp(this.ws,"Fragmented frame exceeded 125 bytes.");return}else if((this.#t.opcode===ki.PING||this.#t.opcode===ki.PONG||this.#t.opcode===ki.CLOSE)&&r>125){Mp(this.ws,"Payload length for control frame exceeded 125 bytes.");return}else if(this.#t.opcode===ki.CLOSE){if(r===1){Mp(this.ws,"Received close frame with a 1-byte body.");return}let i=this.consume(r);if(this.#t.closeInfo=this.parseCloseBody(!1,i),!this.ws[L5]){let s=Buffer.allocUnsafe(2);s.writeUInt16BE(this.#t.closeInfo.code,0);let o=new V5(s);this.ws[O5].socket.write(o.createFrame(ki.CLOSE),a=>{a||(this.ws[L5]=!0)})}this.ws[D_e]=S_e.CLOSING,this.ws[U5]=!0,this.end();return}else if(this.#t.opcode===ki.PING){let i=this.consume(r);if(!this.ws[U5]){let s=new V5(i);this.ws[O5].socket.write(s.createFrame(ki.PONG)),Kh.ping.hasSubscribers&&Kh.ping.publish({payload:i})}if(this.#r=Ti.INFO,this.#n>0)continue;e();return}else if(this.#t.opcode===ki.PONG){let i=this.consume(r);if(Kh.pong.hasSubscribers&&Kh.pong.publish({payload:i}),this.#n>0)continue;e();return}}else if(this.#r===Ti.PAYLOADLENGTH_16){if(this.#n<2)return e();let n=this.consume(2);this.#t.payloadLength=n.readUInt16BE(0),this.#r=Ti.READ_DATA}else if(this.#r===Ti.PAYLOADLENGTH_64){if(this.#n<8)return e();let n=this.consume(8),r=n.readUInt32BE(0);if(r>2**31-1){Mp(this.ws,"Received payload length > 2^31 bytes.");return}let i=n.readUInt32BE(4);this.#t.payloadLength=(r<<8)+i,this.#r=Ti.READ_DATA}else if(this.#r===Ti.READ_DATA){if(this.#n<this.#t.payloadLength)return e();if(this.#n>=this.#t.payloadLength){let n=this.consume(this.#t.payloadLength);if(this.#i.push(n),!this.#t.fragmented||this.#t.fin&&this.#t.opcode===ki.CONTINUATION){let r=Buffer.concat(this.#i);R_e(this.ws,this.#t.originalOpcode,r),this.#t={},this.#i.length=0}this.#r=Ti.INFO}}if(!(this.#n>0)){e();break}}}consume(e){if(e>this.#n)return null;if(e===0)return b_e;if(this.#e[0].length===e)return this.#n-=this.#e[0].length,this.#e.shift();let n=Buffer.allocUnsafe(e),r=0;for(;r!==e;){let i=this.#e[0],{length:s}=i;if(s+r===e){n.set(this.#e.shift(),r);break}else if(s+r>e){n.set(i.subarray(0,e-r),r),this.#e[0]=i.subarray(e-r);break}else n.set(this.#e.shift(),r),r+=i.length}return this.#n-=e,n}parseCloseBody(e,n){let r;if(n.length>=2&&(r=n.readUInt16BE(0)),e)return P5(r)?{code:r}:null;let i=n.subarray(2);if(i[0]===239&&i[1]===187&&i[2]===191&&(i=i.subarray(3)),r!==void 0&&!P5(r))return null;try{i=new TextDecoder("utf-8",{fatal:!0}).decode(i)}catch{return null}return{code:r,reason:i}}get closingInfo(){return this.#t.closeInfo}};G5.exports={ByteParser:sx}});var Z5=C((DUe,X5)=>{"use strict";var{webidl:ge}=or(),{DOMException:EA}=AA(),{URLSerializer:T_e}=is(),{getGlobalOrigin:k_e}=gh(),{staticPropertyDescriptors:mA,states:Xh,opcodes:Lp,emptyBuffer:N_e}=jh(),{kWebSocketURL:Y5,kReadyState:Jo,kController:F_e,kBinaryType:LQ,kResponse:OQ,kSentClose:x_e,kByteParser:M_e}=xp(),{isEstablished:W5,isClosing:J5,isValidSubprotocol:L_e,failWebsocketConnection:O_e,fireEvent:U_e}=MQ(),{establishWebSocketConnection:P_e}=F5(),{WebsocketFrameSend:Op}=ix(),{ByteParser:V_e}=H5(),{kEnumerableProperty:Ni,isBlobLike:j5}=Ve(),{getGlobalDispatcher:q_e}=Uh(),{types:K5}=B("util"),z5=!1,Xr=class t extends EventTarget{#e={open:null,error:null,close:null,message:null};#n=0;#r="";#t="";constructor(e,n=[]){super(),ge.argumentLengthCheck(arguments,1,{header:"WebSocket constructor"}),z5||(z5=!0,process.emitWarning("WebSockets are experimental, expect them to change at any time.",{code:"UNDICI-WS"}));let r=ge.converters["DOMString or sequence<DOMString> or WebSocketInit"](n);e=ge.converters.USVString(e),n=r.protocols;let i=k_e(),s;try{s=new URL(e,i)}catch(o){throw new EA(o,"SyntaxError")}if(s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),s.protocol!=="ws:"&&s.protocol!=="wss:")throw new EA(`Expected a ws: or wss: protocol, got ${s.protocol}`,"SyntaxError");if(s.hash||s.href.endsWith("#"))throw new EA("Got fragment","SyntaxError");if(typeof n=="string"&&(n=[n]),n.length!==new Set(n.map(o=>o.toLowerCase())).size)throw new EA("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(n.length>0&&!n.every(o=>L_e(o)))throw new EA("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[Y5]=new URL(s.href),this[F_e]=P_e(s,n,this,o=>this.#i(o),r),this[Jo]=t.CONNECTING,this[LQ]="blob"}close(e=void 0,n=void 0){if(ge.brandCheck(this,t),e!==void 0&&(e=ge.converters["unsigned short"](e,{clamp:!0})),n!==void 0&&(n=ge.converters.USVString(n)),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new EA("invalid code","InvalidAccessError");let r=0;if(n!==void 0&&(r=Buffer.byteLength(n),r>123))throw new EA(`Reason must be less than 123 bytes; received ${r}`,"SyntaxError");if(!(this[Jo]===t.CLOSING||this[Jo]===t.CLOSED))if(!W5(this))O_e(this,"Connection was closed before it was established."),this[Jo]=t.CLOSING;else if(J5(this))this[Jo]=t.CLOSING;else{let i=new Op;e!==void 0&&n===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(e,0)):e!==void 0&&n!==void 0?(i.frameData=Buffer.allocUnsafe(2+r),i.frameData.writeUInt16BE(e,0),i.frameData.write(n,2,"utf-8")):i.frameData=N_e,this[OQ].socket.write(i.createFrame(Lp.CLOSE),o=>{o||(this[x_e]=!0)}),this[Jo]=Xh.CLOSING}}send(e){if(ge.brandCheck(this,t),ge.argumentLengthCheck(arguments,1,{header:"WebSocket.send"}),e=ge.converters.WebSocketSendData(e),this[Jo]===t.CONNECTING)throw new EA("Sent before connected.","InvalidStateError");if(!W5(this)||J5(this))return;let n=this[OQ].socket;if(typeof e=="string"){let r=Buffer.from(e),s=new Op(r).createFrame(Lp.TEXT);this.#n+=r.byteLength,n.write(s,()=>{this.#n-=r.byteLength})}else if(K5.isArrayBuffer(e)){let r=Buffer.from(e),s=new Op(r).createFrame(Lp.BINARY);this.#n+=r.byteLength,n.write(s,()=>{this.#n-=r.byteLength})}else if(ArrayBuffer.isView(e)){let r=Buffer.from(e,e.byteOffset,e.byteLength),s=new Op(r).createFrame(Lp.BINARY);this.#n+=r.byteLength,n.write(s,()=>{this.#n-=r.byteLength})}else if(j5(e)){let r=new Op;e.arrayBuffer().then(i=>{let s=Buffer.from(i);r.frameData=s;let o=r.createFrame(Lp.BINARY);this.#n+=s.byteLength,n.write(o,()=>{this.#n-=s.byteLength})})}}get readyState(){return ge.brandCheck(this,t),this[Jo]}get bufferedAmount(){return ge.brandCheck(this,t),this.#n}get url(){return ge.brandCheck(this,t),T_e(this[Y5])}get extensions(){return ge.brandCheck(this,t),this.#t}get protocol(){return ge.brandCheck(this,t),this.#r}get onopen(){return ge.brandCheck(this,t),this.#e.open}set onopen(e){ge.brandCheck(this,t),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return ge.brandCheck(this,t),this.#e.error}set onerror(e){ge.brandCheck(this,t),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return ge.brandCheck(this,t),this.#e.close}set onclose(e){ge.brandCheck(this,t),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return ge.brandCheck(this,t),this.#e.message}set onmessage(e){ge.brandCheck(this,t),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return ge.brandCheck(this,t),this[LQ]}set binaryType(e){ge.brandCheck(this,t),e!=="blob"&&e!=="arraybuffer"?this[LQ]="blob":this[LQ]=e}#i(e){this[OQ]=e;let n=new V_e(this);n.on("drain",function(){this.ws[OQ].socket.resume()}),e.socket.ws=this,this[M_e]=n,this[Jo]=Xh.OPEN;let r=e.headersList.get("sec-websocket-extensions");r!==null&&(this.#t=r);let i=e.headersList.get("sec-websocket-protocol");i!==null&&(this.#r=i),U_e("open",this)}};Xr.CONNECTING=Xr.prototype.CONNECTING=Xh.CONNECTING;Xr.OPEN=Xr.prototype.OPEN=Xh.OPEN;Xr.CLOSING=Xr.prototype.CLOSING=Xh.CLOSING;Xr.CLOSED=Xr.prototype.CLOSED=Xh.CLOSED;Object.defineProperties(Xr.prototype,{CONNECTING:mA,OPEN:mA,CLOSING:mA,CLOSED:mA,url:Ni,readyState:Ni,bufferedAmount:Ni,onopen:Ni,onerror:Ni,onclose:Ni,close:Ni,onmessage:Ni,binaryType:Ni,send:Ni,extensions:Ni,protocol:Ni,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Xr,{CONNECTING:mA,OPEN:mA,CLOSING:mA,CLOSED:mA});ge.converters["sequence<DOMString>"]=ge.sequenceConverter(ge.converters.DOMString);ge.converters["DOMString or sequence<DOMString>"]=function(t){return ge.util.Type(t)==="Object"&&Symbol.iterator in t?ge.converters["sequence<DOMString>"](t):ge.converters.DOMString(t)};ge.converters.WebSocketInit=ge.dictionaryConverter([{key:"protocols",converter:ge.converters["DOMString or sequence<DOMString>"],get defaultValue(){return[]}},{key:"dispatcher",converter:t=>t,get defaultValue(){return q_e()}},{key:"headers",converter:ge.nullableConverter(ge.converters.HeadersInit)}]);ge.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(t){return ge.util.Type(t)==="Object"&&!(Symbol.iterator in t)?ge.converters.WebSocketInit(t):{protocols:ge.converters["DOMString or sequence<DOMString>"](t)}};ge.converters.WebSocketSendData=function(t){if(ge.util.Type(t)==="Object"){if(j5(t))return ge.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||K5.isAnyArrayBuffer(t))return ge.converters.BufferSource(t)}return ge.converters.USVString(t)};X5.exports={WebSocket:Xr}});var n8=C((RUe,Qe)=>{"use strict";var G_e=mp(),$5=QB(),e8=ht(),H_e=Dh(),Y_e=m9(),W_e=Bp(),Jl=Ve(),{InvalidArgumentError:UQ}=e8,Zh=lz(),J_e=cp(),z_e=fF(),j_e=Yz(),K_e=EF(),X_e=nF(),Z_e=Xz(),{getGlobalDispatcher:t8,setGlobalDispatcher:$_e}=Uh(),eve=rj(),tve=dN(),nve=SB(),ox;try{B("crypto"),ox=!0}catch{ox=!1}Object.assign($5.prototype,Zh);Qe.exports.Dispatcher=$5;Qe.exports.Client=G_e;Qe.exports.Pool=H_e;Qe.exports.BalancedPool=Y_e;Qe.exports.Agent=W_e;Qe.exports.ProxyAgent=Z_e;Qe.exports.DecoratorHandler=eve;Qe.exports.RedirectHandler=tve;Qe.exports.createRedirectInterceptor=nve;Qe.exports.buildConnector=J_e;Qe.exports.errors=e8;function Up(t){return(e,n,r)=>{if(typeof n=="function"&&(r=n,n=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new UQ("invalid url");if(n!=null&&typeof n!="object")throw new UQ("invalid opts");if(n&&n.path!=null){if(typeof n.path!="string")throw new UQ("invalid opts.path");let o=n.path;n.path.startsWith("/")||(o=`/${o}`),e=new URL(Jl.parseOrigin(e).origin+o)}else n||(n=typeof e=="object"?e:{}),e=Jl.parseURL(e);let{agent:i,dispatcher:s=t8()}=n;if(i)throw new UQ("unsupported opts.agent. Did you mean opts.client?");return t.call(s,se(x({},n),{origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:n.method||(n.body?"PUT":"GET")}),r)}}Qe.exports.setGlobalDispatcher=$_e;Qe.exports.getGlobalDispatcher=t8;if(Jl.nodeMajor>16||Jl.nodeMajor===16&&Jl.nodeMinor>=8){let t=null;Qe.exports.fetch=function(a){return E(this,arguments,function*(o){t||(t=mQ().fetch);try{return yield t(...arguments)}catch(A){throw typeof A=="object"&&Error.captureStackTrace(A,this),A}})},Qe.exports.Headers=ql().Headers,Qe.exports.Response=AQ().Response,Qe.exports.Request=Rp().Request,Qe.exports.FormData=yB().FormData,Qe.exports.File=CB().File,Qe.exports.FileReader=$j().FileReader;let{setGlobalOrigin:e,getGlobalOrigin:n}=gh();Qe.exports.setGlobalOrigin=e,Qe.exports.getGlobalOrigin=n;let{CacheStorage:r}=u5(),{kConstruct:i}=BQ();Qe.exports.caches=new r(i)}if(Jl.nodeMajor>=16){let{deleteCookie:t,getCookies:e,getSetCookies:n,setCookie:r}=B5();Qe.exports.deleteCookie=t,Qe.exports.getCookies=e,Qe.exports.getSetCookies=n,Qe.exports.setCookie=r;let{parseMIMEType:i,serializeAMimeType:s}=is();Qe.exports.parseMIMEType=i,Qe.exports.serializeAMimeType=s}if(Jl.nodeMajor>=18&&ox){let{WebSocket:t}=Z5();Qe.exports.WebSocket=t}Qe.exports.request=Up(Zh.request);Qe.exports.stream=Up(Zh.stream);Qe.exports.pipeline=Up(Zh.pipeline);Qe.exports.connect=Up(Zh.connect);Qe.exports.upgrade=Up(Zh.upgrade);Qe.exports.MockClient=z_e;Qe.exports.MockPool=K_e;Qe.exports.MockAgent=j_e;Qe.exports.mockErrors=X_e});var oo=C((Qx,q8)=>{var KQ=B("buffer"),so=KQ.Buffer;function V8(t,e){for(var n in t)e[n]=t[n]}so.from&&so.alloc&&so.allocUnsafe&&so.allocUnsafeSlow?q8.exports=KQ:(V8(KQ,Qx),Qx.Buffer=Kl);function Kl(t,e,n){return so(t,e,n)}Kl.prototype=Object.create(so.prototype);V8(so,Kl);Kl.from=function(t,e,n){if(typeof t=="number")throw new TypeError("Argument must not be a number");return so(t,e,n)};Kl.alloc=function(t,e,n){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=so(t);return e!==void 0?typeof n=="string"?r.fill(e,n):r.fill(e):r.fill(0),r};Kl.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return so(t)};Kl.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return KQ.SlowBuffer(t)}});var Y8=C(wx=>{"use strict";var G8=B("stream").Stream,H8=B("util"),Xl=function(t){this.readable=this.writable=!0,this._paused=!1,this._driver=t};H8.inherits(Xl,G8);Xl.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0};Xl.prototype.resume=function(){this._paused=!1,this.emit("drain");var t=this._driver.messages;t._paused=!1,t.emit("drain")};Xl.prototype.write=function(t){return this.writable?(this._driver.parse(t),!this._paused):!1};Xl.prototype.end=function(t){if(this.writable){t!==void 0&&this.write(t),this.writable=!1;var e=this._driver.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))}};Xl.prototype.destroy=function(){this.end()};var Zl=function(t){this.readable=this.writable=!0,this._paused=!1,this._driver=t};H8.inherits(Zl,G8);Zl.prototype.pause=function(){this._driver.io._paused=!0};Zl.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")};Zl.prototype.write=function(t){return this.writable?(typeof t=="string"?this._driver.text(t):this._driver.binary(t),!this._paused):!1};Zl.prototype.end=function(t){t!==void 0&&this.write(t)};Zl.prototype.destroy=function(){};wx.IO=Xl;wx.Messages=Zl});var XQ=C((rPe,W8)=>{"use strict";var Ad=function(){this.clear()};Ad.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"];Ad.prototype.clear=function(){this._sent={},this._lines=[]};Ad.prototype.set=function(t,e){if(e!==void 0){t=this._strip(t),e=this._strip(e);var n=t.toLowerCase();(!this._sent.hasOwnProperty(n)||this.ALLOWED_DUPLICATES.indexOf(n)>=0)&&(this._sent[n]=!0,this._lines.push(t+": "+e+`\r
`))}};Ad.prototype.toString=function(){return this._lines.join("")};Ad.prototype._strip=function(t){return t.toString().replace(/^ */,"").replace(/ *$/,"")};W8.exports=Ad});var z8=C((iPe,J8)=>{"use strict";var ZQ=oo().Buffer,$Q=function(){this._queue=[],this._queueSize=0,this._offset=0};$Q.prototype.put=function(t){!t||t.length===0||(ZQ.isBuffer(t)||(t=ZQ.from(t)),this._queue.push(t),this._queueSize+=t.length)};$Q.prototype.read=function(t){if(t>this._queueSize)return null;if(t===0)return ZQ.alloc(0);this._queueSize-=t;var e=this._queue,n=t,r=e[0],i,s;if(r.length>=t)return r.length===t?e.shift():(s=r.slice(0,t),e[0]=r.slice(t),s);for(var o=0,a=e.length;o<a&&!(n<e[o].length);o++)n-=e[o].length;return i=e.splice(0,o),n>0&&e.length>0&&(i.push(e[0].slice(0,n)),e[0]=e[0].slice(n)),ZQ.concat(i,t)};$Q.prototype.eachByte=function(t,e){for(var n,r,i;this._queue.length>0;){for(n=this._queue[0],r=n.length;this._offset<r;)i=this._offset,this._offset+=1,t.call(e,n[i]);this._offset=0,this._queue.shift()}};J8.exports=$Q});var IA=C((sPe,eK)=>{"use strict";var j8=oo().Buffer,Z8=B("events").EventEmitter,SSe=B("util"),K8=Y8(),$8=XQ(),bSe=z8(),dr=function(t,e,n){Z8.call(this),dr.validateOptions(n||{},["maxLength","masking","requireMasking","protocols"]),this._request=t,this._reader=new bSe,this._options=n||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new $8,this.__queue=[],this.readyState=0,this.url=e,this.io=new K8.IO(this),this.messages=new K8.Messages(this),this._bindEventListeners()};SSe.inherits(dr,Z8);dr.isWebSocket=function(t){var e=t.headers.connection||"",n=t.headers.upgrade||"";return t.method==="GET"&&e.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&n.toLowerCase()==="websocket"};dr.validateOptions=function(t,e){for(var n in t)if(e.indexOf(n)<0)throw new Error("Unrecognized option: "+n)};var X8={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var t=this;this.messages.on("error",function(){}),this.on("message",function(e){var n=t.messages;n.readable&&n.emit("data",e.data)}),this.on("error",function(e){var n=t.messages;n.readable&&n.emit("error",e)}),this.on("close",function(){var e=t.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(t){return!1},setHeader:function(t,e){return this.readyState>0?!1:(this._headers.set(t,e),!0)},start:function(){if(this.readyState!==0)return!1;if(!dr.isWebSocket(this._request))return this._failHandshake(new Error("Not a WebSocket request"));var t;try{t=this._handshakeResponse()}catch(e){return this._failHandshake(e)}return this._write(t),this._stage!==-1&&this._open(),!0},_failHandshake:function(t){var e=new $8;return e.set("Content-Type","text/plain"),e.set("Content-Length",j8.byteLength(t.message,"utf8")),e=["HTTP/1.1 400 Bad Request",e.toString(),t.message],this._write(j8.from(e.join(`\r
`),"utf8")),this._fail("protocol_error",t.message),!1},text:function(t){return this.frame(t)},binary:function(t){return!1},ping:function(){return!1},pong:function(){return!1},close:function(t,e){return this.readyState!==1?!1:(this.readyState=3,this.emit("close",new dr.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(t){this.frame.apply(this,t)},this),this.__queue=[],this.emit("open",new dr.OpenEvent)},_queue:function(t){return this.__queue.push(t),!0},_write:function(t){var e=this.io;e.readable&&e.emit("data",t)},_fail:function(t,e){this.readyState=2,this.emit("error",new Error(e)),this.close()}};for(_x in X8)dr.prototype[_x]=X8[_x];var _x;dr.ConnectEvent=function(){};dr.OpenEvent=function(){};dr.CloseEvent=function(t,e){this.code=t,this.reason=e};dr.MessageEvent=function(t){this.data=t};dr.PingEvent=function(t){this.data=t};dr.PongEvent=function(t){this.data=t};eK.exports=dr});var sK=C(Dx=>{var Sx=B("assert");Dx.HTTPParser=oe;function oe(t){Sx.ok(t===oe.REQUEST||t===oe.RESPONSE||t===void 0),t===void 0||this.initialize(t),this.maxHeaderSize=oe.maxHeaderSize}oe.prototype.initialize=function(t,e){Sx.ok(t===oe.REQUEST||t===oe.RESPONSE),this.type=t,this.state=t+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1};oe.encoding="ascii";oe.maxHeaderSize=80*1024;oe.REQUEST="REQUEST";oe.RESPONSE="RESPONSE";var tK=oe.kOnHeaders=1,vx=oe.kOnHeadersComplete=2,ew=oe.kOnBody=3,bx=oe.kOnMessageComplete=4;oe.prototype[tK]=oe.prototype[vx]=oe.prototype[ew]=oe.prototype[bx]=function(){};var nK=!0;Object.defineProperty(oe,"kOnExecute",{get:function(){return nK=!1,99}});var rK=Dx.methods=oe.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],iK=rK.indexOf("CONNECT");oe.prototype.reinitialize=oe;oe.prototype.close=oe.prototype.pause=oe.prototype.resume=oe.prototype.free=function(){};oe.prototype._compatMode0_11=!1;oe.prototype.getAsyncId=function(){return 0};var DSe={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};oe.prototype.execute=function(t,e,n){if(!(this instanceof oe))throw new TypeError("not a HTTPParser");e=e||0,n=typeof n=="number"?n:t.length,this.chunk=t,this.offset=e;var r=this.end=e+n;try{for(;this.offset<r&&!this[this.state](););}catch(i){if(this.isUserCall)throw i;return this.hadError=!0,i}return this.chunk=null,n=this.offset-e,DSe[this.state]&&(this.headerSize+=n,this.headerSize>(this.maxHeaderSize||oe.maxHeaderSize))?new Error("max header size exceeded"):n};var RSe={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};oe.prototype.finish=function(){if(!this.hadError){if(!RSe[this.state])return new Error("invalid state for EOF");this.state==="BODY_RAW"&&this.userCall()(this[bx]())}};oe.prototype.consume=oe.prototype.unconsume=oe.prototype.getCurrentBuffer=function(){};oe.prototype.userCall=function(){this.isUserCall=!0;var t=this;return function(e){return t.isUserCall=!1,e}};oe.prototype.nextRequest=function(){this.userCall()(this[bx]()),this.reinitialize(this.type)};oe.prototype.consumeLine=function(){for(var t=this.end,e=this.chunk,n=this.offset;n<t;n++)if(e[n]===10){var r=this.line+e.toString(oe.encoding,this.offset,n);return r.charAt(r.length-1)==="\r"&&(r=r.substr(0,r.length-1)),this.line="",this.offset=n+1,r}this.line+=e.toString(oe.encoding,this.offset,this.end),this.offset=this.end};var TSe=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,kSe=/^[ \t]+(.*[^ \t])/;oe.prototype.parseHeader=function(t,e){if(t.indexOf("\r")!==-1)throw tw("HPE_LF_EXPECTED");var n=TSe.exec(t),r=n&&n[1];if(r)e.push(r),e.push(n[2]);else{var i=kSe.exec(t);i&&e.length&&(e[e.length-1]&&(e[e.length-1]+=" "),e[e.length-1]+=i[1])}};var NSe=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;oe.prototype.REQUEST_LINE=function(){var t=this.consumeLine();if(t){var e=NSe.exec(t);if(e===null)throw tw("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?e[1]:rK.indexOf(e[1]),this.info.method===-1)throw new Error("invalid request method");this.info.url=e[2],this.info.versionMajor=+e[3],this.info.versionMinor=+e[4],this.body_bytes=0,this.state="HEADER"}};var FSe=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;oe.prototype.RESPONSE_LINE=function(){var t=this.consumeLine();if(t){var e=FSe.exec(t);if(e===null)throw tw("HPE_INVALID_CONSTANT");this.info.versionMajor=+e[1],this.info.versionMinor=+e[2];var n=this.info.statusCode=+e[3];this.info.statusMessage=e[4],((n/100|0)===1||n===204||n===304)&&(this.body_bytes=0),this.state="HEADER"}};oe.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(this.connection.indexOf("close")!==-1)return!1}else if(this.connection.indexOf("keep-alive")===-1)return!1;return!!(this.body_bytes!==null||this.isChunked)};oe.prototype.HEADER=function(){var t=this.consumeLine();if(t!==void 0){var e=this.info;if(t)this.parseHeader(t,e.headers);else{for(var n=e.headers,r=!1,i,s=!1,o=0;o<n.length;o+=2)switch(n[o].toLowerCase()){case"transfer-encoding":this.isChunked=n[o+1].toLowerCase()==="chunked";break;case"content-length":if(i=+n[o+1],r){if(i!==this.body_bytes)throw tw("HPE_UNEXPECTED_CONTENT_LENGTH")}else r=!0,this.body_bytes=i;break;case"connection":this.connection+=n[o+1].toLowerCase();break;case"upgrade":s=!0;break}this.isChunked&&r&&(r=!1,this.body_bytes=null),s&&this.connection.indexOf("upgrade")!=-1?e.upgrade=this.type===oe.REQUEST||e.statusCode===101:e.upgrade=e.method===iK,this.isChunked&&e.upgrade&&(this.isChunked=!1),e.shouldKeepAlive=this.shouldKeepAlive();var a;if(nK?a=this.userCall()(this[vx](e)):a=this.userCall()(this[vx](e.versionMajor,e.versionMinor,e.headers,e.method,e.url,e.statusCode,e.statusMessage,e.upgrade,e.shouldKeepAlive)),a===2)return this.nextRequest(),!0;if(this.isChunked&&!a)this.state="BODY_CHUNKHEAD";else{if(a||this.body_bytes===0)return this.nextRequest(),e.upgrade;this.body_bytes===null?this.state="BODY_RAW":this.state="BODY_SIZED"}}}};oe.prototype.BODY_CHUNKHEAD=function(){var t=this.consumeLine();t!==void 0&&(this.body_bytes=parseInt(t,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")};oe.prototype.BODY_CHUNK=function(){var t=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[ew](this.chunk,this.offset,t)),this.offset+=t,this.body_bytes-=t,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")};oe.prototype.BODY_CHUNKEMPTYLINE=function(){var t=this.consumeLine();t!==void 0&&(Sx.equal(t,""),this.state="BODY_CHUNKHEAD")};oe.prototype.BODY_CHUNKTRAILERS=function(){var t=this.consumeLine();t!==void 0&&(t?this.parseHeader(t,this.trailers):(this.trailers.length&&this.userCall()(this[tK](this.trailers,"")),this.nextRequest()))};oe.prototype.BODY_RAW=function(){var t=this.end-this.offset;this.userCall()(this[ew](this.chunk,this.offset,t)),this.offset=this.end};oe.prototype.BODY_SIZED=function(){var t=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[ew](this.chunk,this.offset,t)),this.offset+=t,this.body_bytes-=t,this.body_bytes||this.nextRequest()};["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(t){var e=oe["kOn"+t];Object.defineProperty(oe.prototype,"on"+t,{get:function(){return this[e]},set:function(n){return this._compatMode0_11=!0,iK="CONNECT",this[e]=n}})});function tw(t){var e=new Error("Parse Error");return e.code=t,e}});var rw=C((aPe,aK)=>{"use strict";var nw=sK().HTTPParser,xSe=oo().Buffer,MSe={request:nw.REQUEST||"request",response:nw.RESPONSE||"response"},fr=function(t){this._type=t,this._parser=new nw(MSe[t]),this._complete=!1,this.headers={};var e=null,n=this;this._parser.onHeaderField=function(r,i,s){e=r.toString("utf8",i,i+s).toLowerCase()},this._parser.onHeaderValue=function(r,i,s){var o=r.toString("utf8",i,i+s);n.headers.hasOwnProperty(e)?n.headers[e]+=", "+o:n.headers[e]=o},this._parser.onHeadersComplete=this._parser[nw.kOnHeadersComplete]=function(r,i,s,o,a,A){var l=arguments[0];if(typeof l=="object"&&(o=l.method,a=l.url,A=l.statusCode,s=l.headers),n.method=typeof o=="number"?fr.METHODS[o]:o,n.statusCode=A,n.url=a,!!s){for(var c=0,u=s.length,h,d;c<u;c+=2)h=s[c].toLowerCase(),d=s[c+1],n.headers.hasOwnProperty(h)?n.headers[h]+=", "+d:n.headers[h]=d;n._complete=!0}}};fr.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var oK=process.version?process.version.match(/[0-9]+/g).map(function(t){return parseInt(t,10)}):[];oK[0]===0&&oK[1]===12&&(fr.METHODS[16]="REPORT",fr.METHODS[17]="MKACTIVITY",fr.METHODS[18]="CHECKOUT",fr.METHODS[19]="MERGE",fr.METHODS[20]="M-SEARCH",fr.METHODS[21]="NOTIFY",fr.METHODS[22]="SUBSCRIBE",fr.METHODS[23]="UNSUBSCRIBE",fr.METHODS[24]="PATCH",fr.METHODS[25]="PURGE");fr.prototype.isComplete=function(){return this._complete};fr.prototype.parse=function(t){var e=this._parser.execute(t,0,t.length);if(typeof e!="number"){this.error=e,this._complete=!0;return}this._complete&&(this.body=e<t.length?t.slice(e):xSe.alloc(0))};aK.exports=fr});var cK=C((APe,lK)=>{"use strict";var Rx=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,LSe=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,OSe=/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/,Tx=new RegExp(Rx.source+"(?:=(?:"+Rx.source+"|"+OSe.source+"))?"),kx=new RegExp(Rx.source+"(?: *; *"+Tx.source+")*","g"),USe=new RegExp("^"+kx.source+"(?: *, *"+kx.source+")*$"),PSe=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,AK=Object.prototype.hasOwnProperty,VSe={parseHeader:function(t){var e=new Hp;if(t===""||t===void 0)return e;if(!USe.test(t))throw new SyntaxError("Invalid Sec-WebSocket-Extensions header: "+t);var n=t.match(kx);return n.forEach(function(r){var i=r.match(new RegExp(Tx.source,"g")),s=i.shift(),o={};i.forEach(function(a){var A=a.match(Tx),l=A[1],c;A[2]!==void 0?c=A[2]:A[3]!==void 0?c=A[3].replace(/\\/g,""):c=!0,PSe.test(c)&&(c=parseFloat(c)),AK.call(o,l)?(o[l]=[].concat(o[l]),o[l].push(c)):o[l]=c},this),e.push(s,o)},this),e},serializeParams:function(t,e){var n=[],r=function(s,o){o instanceof Array?o.forEach(function(a){r(s,a)}):o===!0?n.push(s):typeof o=="number"?n.push(s+"="+o):LSe.test(o)?n.push(s+'="'+o.replace(/"/g,'\\"')+'"'):n.push(s+"="+o)};for(var i in e)r(i,e[i]);return[t].concat(n).join("; ")}},Hp=function(){this._byName={},this._inOrder=[]};Hp.prototype.push=function(t,e){AK.call(this._byName,t)||(this._byName[t]=[]),this._byName[t].push(e),this._inOrder.push({name:t,params:e})};Hp.prototype.eachOffer=function(t,e){for(var n=this._inOrder,r=0,i=n.length;r<i;r++)t.call(e,n[r].name,n[r].params)};Hp.prototype.byName=function(t){return this._byName[t]||[]};Hp.prototype.toArray=function(){return this._inOrder.slice()};lK.exports=VSe});var Nx=C((lPe,uK)=>{"use strict";var Yp=function(t){this._bufferSize=t,this.clear()};Yp.prototype.clear=function(){this._buffer=new Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0};Yp.prototype.push=function(t){var e=!1,n=!1;this._ringSize<this._bufferSize?e=this._tail===0:this._ringOffset===this._ringSize&&(e=!0,n=this._tail===0),e&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(new Array(this._bufferSize)),this._bufferSize=this._buffer.length,n&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=t,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize};Yp.prototype.peek=function(){if(this.length!==0)return this._buffer[this._head]};Yp.prototype.shift=function(){if(this.length!==0){var t=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,this._ringOffset===0&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,t}};uK.exports=Yp});var dK=C((cPe,hK)=>{"use strict";var qSe=Nx(),ld=function(t,e){this._session=t,this._method=e,this._queue=new qSe(ld.QUEUE_SIZE),this._stopped=!1,this.pending=0};ld.QUEUE_SIZE=8;ld.prototype.call=function(t,e,n,r){if(!this._stopped){var i={error:t,message:e,callback:n,context:r,done:!1},s=!1,o=this;if(this._queue.push(i),i.error)return i.done=!0,this._stop(),this._flushQueue();var a=function(A,l){s^(s=!0)&&(A?(o._stop(),i.error=A,i.message=null):i.message=l,i.done=!0,o._flushQueue())};try{this._session[this._method](e,a)}catch(A){a(A)}}};ld.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0};ld.prototype._flushQueue=function(){for(var t=this._queue,e;t.length>0&&t.peek().done;)e=t.shift(),e.error?(this.pending=0,t.clear()):this.pending-=1,e.callback.call(e.context,e.error,e.message)};hK.exports=ld});var Fx=C((uPe,fK)=>{"use strict";var GSe=Nx(),$l=function(){this._complete=!1,this._callbacks=new GSe($l.QUEUE_SIZE)};$l.QUEUE_SIZE=4;$l.all=function(t){var e=new $l,n=t.length,r=n;for(n===0&&e.done();r--;)t[r].then(function(){n-=1,n===0&&e.done()});return e};$l.prototype.then=function(t){this._complete?t():this._callbacks.push(t)};$l.prototype.done=function(){this._complete=!0;for(var t=this._callbacks,e;e=t.shift();)e()};fK.exports=$l});var EK=C((hPe,pK)=>{"use strict";var gK=dK(),HSe=Fx(),ec=function(t){this._ext=t[0],this._session=t[1],this._functors={incoming:new gK(this._session,"processIncomingMessage"),outgoing:new gK(this._session,"processOutgoingMessage")}};ec.prototype.pending=function(t){var e=this._functors[t];e._stopped||(e.pending+=1)};ec.prototype.incoming=function(t,e,n,r){this._exec("incoming",t,e,n,r)};ec.prototype.outgoing=function(t,e,n,r){this._exec("outgoing",t,e,n,r)};ec.prototype.close=function(){return this._closed=this._closed||new HSe,this._doClose(),this._closed};ec.prototype._exec=function(t,e,n,r,i){this._functors[t].call(e,n,function(s,o){s&&(s.message=this._ext.name+": "+s.message),r.call(i,s,o),this._doClose()},this)};ec.prototype._doClose=function(){var t=this._functors.incoming,e=this._functors.outgoing;!this._closed||t.pending+e.pending!==0||(this._session&&this._session.close(),this._session=null,this._closed.done())};pK.exports=ec});var CK=C((dPe,mK)=>{"use strict";var YSe=EK(),WSe=Fx(),Wp=function(t){this._cells=t.map(function(e){return new YSe(e)}),this._stopped={incoming:!1,outgoing:!1}};Wp.prototype.processIncomingMessage=function(t,e,n){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,t,e,n)};Wp.prototype.processOutgoingMessage=function(t,e,n){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,t,e,n)};Wp.prototype.close=function(t,e){this._stopped={incoming:!0,outgoing:!0};var n=this._cells.map(function(r){return r.close()});t&&WSe.all(n).then(function(){t.call(e)})};Wp.prototype._loop=function(t,e,n,r,i,s,o){for(var a=this._cells,A=a.length,l=this;A--;)a[A].pending(t);var c=function(u,h,d){if(u===n)return s.call(o,h,d);a[u][t](h,d,function(f,g){f&&(l._stopped[t]=!0),c(u+r,f,g)})};c(e,null,i)};mK.exports=Wp});var QK=C((fPe,BK)=>{"use strict";var Jp=cK(),IK=CK(),iw=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};iw.MESSAGE_OPCODES=[1,2];var yK={add:function(t){if(typeof t.name!="string")throw new TypeError("extension.name must be a string");if(t.type!=="permessage")throw new TypeError('extension.type must be "permessage"');if(typeof t.rsv1!="boolean")throw new TypeError("extension.rsv1 must be true or false");if(typeof t.rsv2!="boolean")throw new TypeError("extension.rsv2 must be true or false");if(typeof t.rsv3!="boolean")throw new TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(t.name))throw new TypeError('An extension with name "'+t.name+'" is already registered');this._byName[t.name]=t,this._inOrder.push(t)},generateOffer:function(){var t=[],e=[],n={};return this._inOrder.forEach(function(r){var i=r.createClientSession();if(i){var s=[r,i];t.push(s),n[r.name]=s;var o=i.generateOffer();o=o?[].concat(o):[],o.forEach(function(a){e.push(Jp.serializeParams(r.name,a))},this)}},this),this._sessions=t,this._index=n,e.length>0?e.join(", "):null},activate:function(t){var e=Jp.parseHeader(t),n=[];e.eachOffer(function(r,i){var s=this._index[r];if(!s)throw new Error('Server sent an extension response for unknown extension "'+r+'"');var o=s[0],a=s[1],A=this._reserved(o);if(A)throw new Error("Server sent two extension responses that use the RSV"+A[0]+' bit: "'+A[1]+'" and "'+o.name+'"');if(a.activate(i)!==!0)throw new Error("Server sent unacceptable extension parameters: "+Jp.serializeParams(r,i));this._reserve(o),n.push(s)},this),this._sessions=n,this._pipeline=new IK(n)},generateResponse:function(t){var e=[],n=[],r=Jp.parseHeader(t);return this._inOrder.forEach(function(i){var s=r.byName(i.name);if(!(s.length===0||this._reserved(i))){var o=i.createServerSession(s);o&&(this._reserve(i),e.push([i,o]),n.push(Jp.serializeParams(i.name,o.generateResponse())))}},this),this._sessions=e,this._pipeline=new IK(e),n.length>0?n.join(", "):null},validFrameRsv:function(t){var e={rsv1:!1,rsv2:!1,rsv3:!1},n;if(iw.MESSAGE_OPCODES.indexOf(t.opcode)>=0)for(var r=0,i=this._sessions.length;r<i;r++)n=this._sessions[r][0],e.rsv1=e.rsv1||n.rsv1,e.rsv2=e.rsv2||n.rsv2,e.rsv3=e.rsv3||n.rsv3;return(e.rsv1||!t.rsv1)&&(e.rsv2||!t.rsv2)&&(e.rsv3||!t.rsv3)},processIncomingMessage:function(t,e,n){this._pipeline.processIncomingMessage(t,e,n)},processOutgoingMessage:function(t,e,n){this._pipeline.processOutgoingMessage(t,e,n)},close:function(t,e){if(!this._pipeline)return t.call(e);this._pipeline.close(t,e)},_reserve:function(t){this._rsv1=this._rsv1||t.rsv1&&t.name,this._rsv2=this._rsv2||t.rsv2&&t.name,this._rsv3=this._rsv3||t.rsv3&&t.name},_reserved:function(t){return this._rsv1&&t.rsv1?[1,this._rsv1]:this._rsv2&&t.rsv2?[2,this._rsv2]:this._rsv3&&t.rsv3?[3,this._rsv3]:!1}};for(xx in yK)iw.prototype[xx]=yK[xx];var xx;BK.exports=iw});var SK=C((gPe,vK)=>{"use strict";var _K=function(){},wK={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(Mx in wK)_K.prototype[Mx]=wK[Mx];var Mx;vK.exports=_K});var TK=C((pPe,RK)=>{"use strict";var JSe=oo().Buffer,DK=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},bK={read:function(){return this.data=this.data||JSe.concat(this._chunks,this.length)},pushFrame:function(t){this.rsv1=this.rsv1||t.rsv1,this.rsv2=this.rsv2||t.rsv2,this.rsv3=this.rsv3||t.rsv3,this.opcode===null&&(this.opcode=t.opcode),this._chunks.push(t.payload),this.length+=t.length}};for(Lx in bK)DK.prototype[Lx]=bK[Lx];var Lx;RK.exports=DK});var Ux=C((EPe,MK)=>{"use strict";var zp=oo().Buffer,xK=B("crypto"),zSe=B("util"),jSe=QK(),tc=IA(),kK=SK(),NK=TK(),$r=function(t,e,n){if(tc.apply(this,arguments),this._extensions=new jSe,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},typeof this._protocols=="string"&&(this._protocols=this._protocols.split(/ *, */)),!!this._request){var r=this._request.headers["sec-websocket-protocol"],i=this._protocols;r!==void 0&&(typeof r=="string"&&(r=r.split(/ *, */)),this.protocol=r.filter(function(s){return i.indexOf(s)>=0})[0]),this.version="hybi-"+$r.VERSION}};zSe.inherits($r,tc);$r.VERSION="13";$r.mask=function(t,e,n){if(!e||e.length===0)return t;n=n||0;for(var r=0,i=t.length-n;r<i;r++)t[n+r]=t[n+r]^e[r%4];return t};$r.generateAccept=function(t){var e=xK.createHash("sha1");return e.update(t+$r.GUID),e.digest("base64")};$r.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var FK={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(t){return this._extensions.add(t),!0},parse:function(t){this._reader.put(t);for(var e=!0;e;)switch(this._stage){case 0:e=this._reader.read(1),e&&this._parseOpcode(e[0]);break;case 1:e=this._reader.read(1),e&&this._parseLength(e[0]);break;case 2:e=this._reader.read(this._frame.lengthBytes),e&&this._parseExtendedLength(e);break;case 3:e=this._reader.read(4),e&&(this._stage=4,this._frame.maskingKey=e);break;case 4:e=this._reader.read(this._frame.length),e&&(this._stage=0,this._emitFrame(e));break;default:e=null}},text:function(t){return this.readyState>1?!1:this.frame(t,"text")},binary:function(t){return this.readyState>1?!1:this.frame(t,"binary")},ping:function(t,e){return this.readyState>1?!1:(t=t||"",e&&(this._pingCallbacks[t]=e),this.frame(t,"ping"))},pong:function(t){return this.readyState>1?!1:(t=t||"",this.frame(t,"pong"))},close:function(t,e){return t=t||"",e=e||this.ERRORS.normal_closure,this.readyState<=0?(this.readyState=3,this.emit("close",new tc.CloseEvent(e,t)),!0):this.readyState===1?(this.readyState=2,this._extensions.close(function(){this.frame(t,"close",e)},this),!0):!1},frame:function(t,e,n){if(this.readyState<=0)return this._queue([t,e,n]);if(this.readyState>2)return!1;t instanceof Array&&(t=zp.from(t)),typeof t=="number"&&(t=t.toString());var r=new NK,i=typeof t=="string",s,o;r.rsv1=r.rsv2=r.rsv3=!1,r.opcode=this.OPCODES[e||(i?"text":"binary")],s=i?zp.from(t,"utf8"):t,n&&(o=s,s=zp.allocUnsafe(2+o.length),s.writeUInt16BE(n,0),o.copy(s,2)),r.data=s;var a=function(A){var l=new kK;l.final=!0,l.rsv1=A.rsv1,l.rsv2=A.rsv2,l.rsv3=A.rsv3,l.opcode=A.opcode,l.masked=!!this._masking,l.length=A.data.length,l.payload=A.data,l.masked&&(l.maskingKey=xK.randomBytes(4)),this._sendFrame(l)};return this.MESSAGE_OPCODES.indexOf(r.opcode)>=0?this._extensions.processOutgoingMessage(r,function(A,l){if(A)return this._fail("extension_error",A.message);a.call(this,l)},this):a.call(this,r),!0},_sendFrame:function(t){var e=t.length,n=e<=125?2:e<=65535?4:10,r=n+(t.masked?4:0),i=zp.allocUnsafe(r+e),s=t.masked?this.MASK:0;i[0]=(t.final?this.FIN:0)|(t.rsv1?this.RSV1:0)|(t.rsv2?this.RSV2:0)|(t.rsv3?this.RSV3:0)|t.opcode,e<=125?i[1]=s|e:e<=65535?(i[1]=s|126,i.writeUInt16BE(e,2)):(i[1]=s|127,i.writeUInt32BE(Math.floor(e/4294967296),2),i.writeUInt32BE(e%4294967296,6)),t.payload.copy(i,r),t.masked&&(t.maskingKey.copy(i,n),$r.mask(i,t.maskingKey,r)),this._write(i)},_handshakeResponse:function(){var t=this._request.headers["sec-websocket-key"],e=this._request.headers["sec-websocket-version"];if(e!==$r.VERSION)throw new Error("Unsupported WebSocket version: "+e);if(typeof t!="string")throw new Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",$r.generateAccept(t)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var n=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);n&&this._headers.set("Sec-WebSocket-Extensions",n);var r="HTTP/1.1 101 Switching Protocols",i=[r,this._headers.toString(),""];return zp.from(i.join(`\r
`),"utf8")},_shutdown:function(t,e,n){delete this._frame,delete this._message,this._stage=5;var r=this.readyState===1;this.readyState=2,this._extensions.close(function(){r&&this.frame(e,"close",t),this.readyState=3,n&&this.emit("error",new Error(e)),this.emit("close",new tc.CloseEvent(t,e))},this)},_fail:function(t,e){this.readyState>1||this._shutdown(this.ERRORS[t],e,!0)},_parseOpcode:function(t){var e=[this.RSV1,this.RSV2,this.RSV3].map(function(r){return(t&r)===r}),n=this._frame=new kK;if(n.final=(t&this.FIN)===this.FIN,n.rsv1=e[0],n.rsv2=e[1],n.rsv3=e[2],n.opcode=t&this.OPCODE,this._stage=1,!this._extensions.validFrameRsv(n))return this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(n.rsv1?1:0)+", reserved2 = "+(n.rsv2?1:0)+", reserved3 = "+(n.rsv3?1:0));if(this.OPCODE_CODES.indexOf(n.opcode)<0)return this._fail("protocol_error","Unrecognized frame opcode: "+n.opcode);if(this.MESSAGE_OPCODES.indexOf(n.opcode)<0&&!n.final)return this._fail("protocol_error","Received fragmented control frame: opcode = "+n.opcode);if(this._message&&this.OPENING_OPCODES.indexOf(n.opcode)>=0)return this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished")},_parseLength:function(t){var e=this._frame;if(e.masked=(t&this.MASK)===this.MASK,e.length=t&this.LENGTH,e.length>=0&&e.length<=125){if(this._stage=e.masked?3:4,!this._checkFrameLength())return}else this._stage=2,e.lengthBytes=e.length===126?2:8;if(this._requireMasking&&!e.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(t){var e=this._frame;if(e.length=this._readUInt(t),this._stage=e.masked?3:4,this.MESSAGE_OPCODES.indexOf(e.opcode)<0&&e.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+e.length);this._checkFrameLength()},_checkFrameLength:function(){var t=this._message?this._message.length:0;return t+this._frame.length>this._maxLength?(this._fail("too_large","WebSocket frame length too large"),!1):!0},_emitFrame:function(t){var e=this._frame,n=e.payload=$r.mask(t,e.maskingKey),r=e.opcode,i,s,o,a,A;if(delete this._frame,r===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(e)}if((r===this.OPCODES.text||r===this.OPCODES.binary)&&(this._message=new NK,this._message.pushFrame(e)),e.final&&this.MESSAGE_OPCODES.indexOf(r)>=0)return this._emitMessage(this._message);r===this.OPCODES.close&&(s=n.length>=2?n.readUInt16BE(0):null,o=n.length>2?this._encode(n.slice(2)):null,n.length!==0&&!(s!==null&&s>=this.MIN_RESERVED_ERROR&&s<=this.MAX_RESERVED_ERROR)&&this.ERROR_CODES.indexOf(s)<0&&(s=this.ERRORS.protocol_error),(n.length>125||n.length>2&&!o)&&(s=this.ERRORS.protocol_error),this._shutdown(s||this.DEFAULT_ERROR_CODE,o||"")),r===this.OPCODES.ping&&(this.frame(n,"pong"),this.emit("ping",new tc.PingEvent(n.toString()))),r===this.OPCODES.pong&&(a=this._pingCallbacks,i=this._encode(n),A=a[i],delete a[i],A&&A(),this.emit("pong",new tc.PongEvent(n.toString())))},_emitMessage:function(e){var e=this._message;e.read(),delete this._message,this._extensions.processIncomingMessage(e,function(n,r){if(n)return this._fail("extension_error",n.message);var i=r.data;if(r.opcode===this.OPCODES.text&&(i=this._encode(i)),i===null)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new tc.MessageEvent(i))},this)},_encode:function(t){try{var e=t.toString("binary",0,t.length);if(!this.UTF8_MATCH.test(e))return null}catch{}return t.toString("utf8",0,t.length)},_readUInt:function(t){return t.length===2?t.readUInt16BE(0):t.readUInt32BE(0)*4294967296+t.readUInt32BE(4)}};for(Ox in FK)$r.prototype[Ox]=FK[Ox];var Ox;MK.exports=$r});var VK=C((mPe,PK)=>{"use strict";var UK=oo().Buffer,KSe=B("stream").Stream,LK=B("url"),XSe=B("util"),ZSe=IA(),$Se=XQ(),ebe=rw(),tbe={"ws:":80,"wss:":443},Vx=function(t,e,n){this._client=t,this._http=new ebe("response"),this._origin=typeof t.url=="object"?t.url:LK.parse(t.url),this._url=typeof e=="object"?e:LK.parse(e),this._options=n||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new $Se,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var r=this._url.auth&&UK.from(this._url.auth,"utf8").toString("base64");r&&this._headers.set("Proxy-Authorization","Basic "+r)};XSe.inherits(Vx,KSe);var OK={setHeader:function(t,e){return this._state!==0?!1:(this._headers.set(t,e),!0)},start:function(){if(this._state!==0)return!1;this._state=1;var t=this._origin,e=t.port||tbe[t.protocol],n="CONNECT "+t.hostname+":"+e+" HTTP/1.1",r=[n,this._headers.toString(),""];return this.emit("data",UK.from(r.join(`\r
`),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(t){if(!this.writable)return!1;if(this._http.parse(t),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this.statusCode===200)this.emit("connect",new ZSe.ConnectEvent);else{var e="Can't establish a connection to the server at "+this._origin.href;this.emit("error",new Error(e))}return this.end(),!this._paused},end:function(t){this.writable&&(t!==void 0&&this.write(t),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(Px in OK)Vx.prototype[Px]=OK[Px];var Px;PK.exports=Vx});var YK=C((CPe,HK)=>{"use strict";var GK=oo().Buffer,nbe=B("crypto"),rbe=B("url"),ibe=B("util"),sbe=rw(),obe=IA(),cd=Ux(),abe=VK(),jp=function(t,e){this.version="hybi-"+cd.VERSION,cd.call(this,null,t,e),this.readyState=-1,this._key=jp.generateKey(),this._accept=cd.generateAccept(this._key),this._http=new sbe("response");var n=rbe.parse(this.url),r=n.auth&&GK.from(n.auth,"utf8").toString("base64");if(this.VALID_PROTOCOLS.indexOf(n.protocol)<0)throw new Error(this.url+" is not a valid WebSocket URL");this._pathname=(n.pathname||"/")+(n.search||""),this._headers.set("Host",n.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",cd.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),r&&this._headers.set("Authorization","Basic "+r)};ibe.inherits(jp,cd);jp.generateKey=function(){return nbe.randomBytes(16).toString("base64")};var qK={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(t,e){return new abe(this,t,e)},start:function(){return this.readyState!==-1?!1:(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(t){if(this.readyState!==3){if(this.readyState>0)return cd.prototype.parse.call(this,t);this._http.parse(t),this._http.isComplete()&&(this._validateHandshake(),this.readyState!==3&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var t=this._extensions.generateOffer();t&&this._headers.set("Sec-WebSocket-Extensions",t);var e="GET "+this._pathname+" HTTP/1.1",n=[e,this._headers.toString(),""];return GK.from(n.join(`\r
`),"utf8")},_failHandshake:function(t){t="Error during WebSocket handshake: "+t,this.readyState=3,this.emit("error",new Error(t)),this.emit("close",new obe.CloseEvent(this.ERRORS.protocol_error,t))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(this._http.statusCode!==101)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var t=this._http.headers,e=t.upgrade||"",n=t.connection||"",r=t["sec-websocket-accept"]||"",i=t["sec-websocket-protocol"]||"";if(e==="")return this._failHandshake("'Upgrade' header is missing");if(e.toLowerCase()!=="websocket")return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(n==="")return this._failHandshake("'Connection' header is missing");if(n.toLowerCase()!=="upgrade")return this._failHandshake("'Connection' header value is not 'Upgrade'");if(r!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,i!==""){if(this._protocols.indexOf(i)<0)return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=i}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(s){return this._failHandshake(s.message)}}};for(qx in qK)jp.prototype[qx]=qK[qx];var qx;HK.exports=jp});var Yx=C((IPe,JK)=>{"use strict";var sw=oo().Buffer,ow=IA(),Abe=B("util"),Hx=function(t,e,n){ow.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};Abe.inherits(Hx,ow);var WK={close:function(){return this.readyState===3?!1:(this.readyState=3,this.emit("close",new ow.CloseEvent(null,null)),!0)},parse:function(t){this.readyState>1||(this._reader.put(t),this._reader.eachByte(function(e){var n;switch(this._stage){case-1:this._body.push(e),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(e);break;case 1:if(this._length=(e&127)+128*this._length,this._closing&&this._length===0)return this.close();(e&128)!==128&&(this._length===0?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(e===255)this._stage=0,n=sw.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new ow.MessageEvent(n));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(e),this._buffer.length>this._maxLength)return this.close();break}},this))},frame:function(t){if(this.readyState===0)return this._queue([t]);if(this.readyState>1)return!1;typeof t!="string"&&(t=t.toString());var e=sw.byteLength(t),n=sw.allocUnsafe(e+2);return n[0]=0,n.write(t,1),n[n.length-1]=255,this._write(n),!0},_handshakeResponse:function(){var t="HTTP/1.1 101 Web Socket Protocol Handshake",e=[t,this._headers.toString(),""];return sw.from(e.join(`\r
`),"utf8")},_parseLeadingByte:function(t){(t&128)===128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(Gx in WK)Hx.prototype[Gx]=WK[Gx];var Gx;JK.exports=Hx});var ZK=C((yPe,XK)=>{"use strict";var Kp=oo().Buffer,lbe=IA(),aw=Yx(),cbe=B("crypto"),ube=B("util"),zK=function(t){return parseInt((t.match(/[0-9]/g)||[]).join(""),10)},jK=function(t){return(t.match(/ /g)||[]).length},Jx=function(t,e,n){aw.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};ube.inherits(Jx,aw);var KK={BODY_SIZE:8,start:function(){return aw.prototype.start.call(this)?(this._started=!0,this._sendHandshakeBody(),!0):!1},close:function(){return this.readyState===3?!1:(this.readyState===1&&this._write(Kp.from([255,0])),this.readyState=3,this.emit("close",new lbe.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var a=this._request.headers,t=a["sec-websocket-key1"],e=a["sec-websocket-key2"];if(!t)throw new Error("Missing required header: Sec-WebSocket-Key1");if(!e)throw new Error("Missing required header: Sec-WebSocket-Key2");var n=zK(t),r=jK(t),i=zK(e),s=jK(e);if(n%r!==0||i%s!==0)throw new Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[n/r,i/s];var o="HTTP/1.1 101 WebSocket Protocol Handshake",a=[o,this._headers.toString(),""];return Kp.from(a.join(`\r
`),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var t=cbe.createHash("md5"),e=Kp.allocUnsafe(8+this.BODY_SIZE);return e.writeUInt32BE(this._keyValues[0],0),e.writeUInt32BE(this._keyValues[1],4),Kp.from(this._body).copy(e,8,0,this.BODY_SIZE),t.update(e),Kp.from(t.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var t=this._handshakeSignature();t&&(this._write(t),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(t){if(t!==255)return aw.prototype._parseLeadingByte.call(this,t);this._closing=!0,this._length=0,this._stage=1}};for(Wx in KK)Jx.prototype[Wx]=KK[Wx];var Wx;XK.exports=Jx});var e6=C((BPe,$K)=>{"use strict";var hbe=B("util"),dbe=rw(),Kx=IA(),fbe=Yx(),gbe=ZK(),pbe=Ux(),nc=function(t){Kx.call(this,null,null,t),this._http=new dbe("request")};hbe.inherits(nc,Kx);var jx={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(t){if(this._delegate)return this._delegate.parse(t);if(this._http.parse(t),!!this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var e=this;this._delegate=nc.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(n){this._delegate.on(n,function(r){e.emit(n,r)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new Kx.ConnectEvent)}},_open:function(){this.__queue.forEach(function(t){this._delegate[t[0]].apply(this._delegate,t[1])},this),this.__queue=[]}};["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(t){jx[t]=function(){return this._delegate?this._delegate[t].apply(this._delegate,arguments):(this.__queue.push([t,arguments]),!0)}});for(zx in jx)nc.prototype[zx]=jx[zx];var zx;nc.isSecureRequest=function(t){if(t.connection&&t.connection.authorized!==void 0||t.socket&&t.socket.secure)return!0;var e=t.headers;return e?e.https==="on"||e["x-forwarded-ssl"]==="on"||e["x-forwarded-scheme"]==="https"||e["x-forwarded-proto"]==="https":!1};nc.determineUrl=function(t){var e=this.isSecureRequest(t)?"wss:":"ws:";return e+"//"+t.headers.host+t.url};nc.http=function(t,e){e=e||{},e.requireMasking===void 0&&(e.requireMasking=!0);var n=t.headers,r=n["sec-websocket-version"],i=n["sec-websocket-key"],s=n["sec-websocket-key1"],o=n["sec-websocket-key2"],a=this.determineUrl(t);return r||i?new pbe(t,a,e):s||o?new gbe(t,a,e):new fbe(t,a,e)};$K.exports=nc});var Xp=C((QPe,n6)=>{"use strict";var t6=IA(),Ebe=YK(),Aw=e6(),mbe={client:function(t,e){return e=e||{},e.masking===void 0&&(e.masking=!0),new Ebe(t,e)},server:function(t){return t=t||{},t.requireMasking===void 0&&(t.requireMasking=!0),new Aw(t)},http:function(){return Aw.http.apply(Aw,arguments)},isSecureRequest:function(t){return Aw.isSecureRequest(t)},isWebSocket:function(t){return t6.isWebSocket(t)},validateOptions:function(t,e){t6.validateOptions(t,e)}};n6.exports=mbe});var Zp=C((wPe,r6)=>{"use strict";var rc=function(t,e){this.type=t;for(var n in e)this[n]=e[n]};rc.prototype.initEvent=function(t,e,n){this.type=t,this.bubbles=e,this.cancelable=n};rc.prototype.stopPropagation=function(){};rc.prototype.preventDefault=function(){};rc.CAPTURING_PHASE=1;rc.AT_TARGET=2;rc.BUBBLING_PHASE=3;r6.exports=rc});var Xx=C((_Pe,i6)=>{"use strict";var Cbe=Zp(),Ibe={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(t,e,n){this.on(t,e)},removeEventListener:function(t,e,n){this.removeListener(t,e)},dispatchEvent:function(t){t.target=t.currentTarget=this,t.eventPhase=Cbe.AT_TARGET,this["on"+t.type]&&this["on"+t.type](t),this.emit(t.type,t)}};i6.exports=Ibe});var cw=C((vPe,a6)=>{"use strict";var ybe=B("stream").Stream,Bbe=B("util"),Qbe=Xp(),s6=Xx(),lw=Zp(),St=function(t){t=t||{},Qbe.validateOptions(t,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var e=t.headers;if(e)for(var n in e)this._driver.setHeader(n,e[n]);var r=t.extensions;r&&[].concat(r).forEach(this._driver.addExtension,this._driver),this._ping=t.ping,this._pingId=0,this.readyState=St.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var i=this;this._driver.on("open",function(s){i._open()}),this._driver.on("message",function(s){i._receiveMessage(s.data)}),this._driver.on("close",function(s){i._beginClose(s.reason,s.code)}),this._driver.on("error",function(s){i._emitError(s.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){i.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){i._pingId+=1,i.ping(i._pingId.toString())},this._ping*1e3)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};Bbe.inherits(St,ybe);St.CONNECTING=0;St.OPEN=1;St.CLOSING=2;St.CLOSED=3;St.CLOSE_TIMEOUT=3e4;var o6={write:function(t){return this.send(t)},end:function(t){t!==void 0&&this.send(t),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(t){return this.readyState>St.OPEN?!1:(t instanceof Buffer||(t=String(t)),this._driver.messages.write(t))},ping:function(t,e){return this.readyState>St.OPEN?!1:this._driver.ping(t,e)},close:function(t,e){if(t===void 0&&(t=1e3),e===void 0&&(e=""),t!==1e3&&(t<3e3||t>4999))throw new Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+t+" is neither.");if(this.readyState<St.CLOSING){var n=this;this._closeTimer=setTimeout(function(){n._beginClose("",1006)},St.CLOSE_TIMEOUT)}this.readyState!==St.CLOSED&&(this.readyState=St.CLOSING),this._driver.close(e,t)},_configureStream:function(){var t=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(e){this._stream.on(e,function(){t._finalizeClose()})},this),this._stream.on("error",function(e){t._emitError("Network error: "+t.url+": "+e.message),t._finalizeClose()})},_open:function(){if(this.readyState===St.CONNECTING){this.readyState=St.OPEN,this.protocol=this._driver.protocol||"";var t=new lw("open");t.initEvent("open",!1,!1),this.dispatchEvent(t)}},_receiveMessage:function(t){if(this.readyState>St.OPEN)return!1;this.readable&&this.emit("data",t);var e=new lw("message",{data:t});e.initEvent("message",!1,!1),this.dispatchEvent(e)},_emitError:function(t){if(!(this.readyState>=St.CLOSING)){var e=new lw("error",{message:t});e.initEvent("error",!1,!1),this.dispatchEvent(e)}},_beginClose:function(t,e){this.readyState!==St.CLOSED&&(this.readyState=St.CLOSING,this._closeParams=[t,e],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==St.CLOSED){this.readyState=St.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var t=this._closeParams?this._closeParams[0]:"",e=this._closeParams?this._closeParams[1]:1006,n=new lw("close",{code:e,reason:t});n.initEvent("close",!1,!1),this.dispatchEvent(n)}}};for(Zx in o6)St.prototype[Zx]=o6[Zx];var Zx;for($x in s6)St.prototype[$x]=s6[$x];var $x;a6.exports=St});var d6=C((bPe,h6)=>{"use strict";var wbe=B("util"),_be=B("net"),A6=B("tls"),l6=B("url"),vbe=Xp(),c6=cw(),SPe=Zp(),Sbe={"http:":80,"https:":443,"ws:":80,"wss:":443},u6=["https:","wss:"],uw=function(t,e,n){n=n||{},this.url=t,this._driver=vbe.client(this.url,{maxLength:n.maxLength,protocols:e}),["open","error"].forEach(function(h){this._driver.on(h,function(){u.headers=u._driver.headers,u.statusCode=u._driver.statusCode})},this);var r=n.proxy||{},i=l6.parse(r.origin||this.url),s=i.port||Sbe[i.protocol],o=u6.indexOf(i.protocol)>=0,a=function(){u._onConnect()},A=n.net||{},l=n.tls||{},c=r.origin?r.tls||{}:l,u=this;A.host=c.host=i.hostname,A.port=c.port=s,l.ca=l.ca||n.ca,c.servername=c.servername||i.hostname,this._stream=o?A6.connect(c,a):_be.connect(A,a),r.origin&&this._configureProxy(r,l),c6.call(this,n)};wbe.inherits(uw,c6);uw.prototype._onConnect=function(){var t=this._proxy||this._driver;t.start()};uw.prototype._configureProxy=function(t,e){var n=l6.parse(this.url),r=u6.indexOf(n.protocol)>=0,i=this,s;if(this._proxy=this._driver.proxy(t.origin),t.headers)for(s in t.headers)this._proxy.setHeader(s,t.headers[s]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(r){var o={socket:i._stream,servername:n.hostname};for(s in e)o[s]=e[s];i._stream=A6.connect(o),i._configureStream()}i._driver.io.pipe(i._stream),i._stream.pipe(i._driver.io),i._driver.start()}),this._proxy.on("error",function(o){i._driver.emit("error",o)})};h6.exports=uw});var m6=C((DPe,E6)=>{"use strict";var bbe=B("stream").Stream,Dbe=B("util"),Rbe=Xp(),Tbe=XQ(),ud=cw(),f6=Xx(),g6=Zp(),$p=function(t,e,n){this.writable=!0,n=n||{},this._stream=e.socket,this._ping=n.ping||this.DEFAULT_PING,this._retry=n.retry||this.DEFAULT_RETRY;var r=Rbe.isSecureRequest(t)?"https:":"http:";this.url=r+"//"+t.headers.host+t.url,this.lastEventId=t.headers["last-event-id"]||"",this.readyState=ud.CONNECTING;var i=new Tbe,s=this;if(n.headers)for(var o in n.headers)i.set(o,n.headers[o]);if(!(!this._stream||!this._stream.writable)){process.nextTick(function(){s._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var a=`HTTP/1.1 200 OK\r
Content-Type: text/event-stream\r
Cache-Control: no-cache, no-store\r
Connection: close\r
`+i.toString()+`\r
retry: `+Math.floor(this._retry*1e3)+`\r
\r
`;this._write(a),this._stream.on("drain",function(){s.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){s.ping()},this._ping*1e3)),["error","end"].forEach(function(A){s._stream.on(A,function(){s.close()})})}};Dbe.inherits($p,bbe);$p.isEventSource=function(t){if(t.method!=="GET")return!1;var e=(t.headers.accept||"").split(/\s*,\s*/);return e.indexOf("text/event-stream")>=0};var p6={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(t){if(!this.writable)return!1;try{return this._stream.write(t,"utf8")}catch{return!1}},_open:function(){if(this.readyState===ud.CONNECTING){this.readyState=ud.OPEN;var t=new g6("open");t.initEvent("open",!1,!1),this.dispatchEvent(t)}},write:function(t){return this.send(t)},end:function(t){t!==void 0&&this.write(t),this.close()},send:function(t,e){if(this.readyState>ud.OPEN)return!1;t=String(t).replace(/(\r\n|\r|\n)/g,"$1data: "),e=e||{};var n="";return e.event&&(n+="event: "+e.event+`\r
`),e.id&&(n+="id: "+e.id+`\r
`),n+="data: "+t+`\r
\r
`,this._write(n)},ping:function(){return this._write(`:\r
\r
`)},close:function(){if(this.readyState>ud.OPEN)return!1;this.readyState=ud.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var t=new g6("close");return t.initEvent("close",!1,!1),this.dispatchEvent(t),!0}};for(eM in p6)$p.prototype[eM]=p6[eM];var eM;for(tM in f6)$p.prototype[tM]=f6[tM];var tM;E6.exports=$p});var y6=C((RPe,I6)=>{"use strict";var kbe=B("util"),nM=Xp(),C6=cw(),yA=function(t,e,n,r,i){i=i||{},this._stream=e,this._driver=nM.http(t,{maxLength:i.maxLength,protocols:r});var s=this;if(!(!this._stream||!this._stream.writable)){if(!this._stream.readable)return this._stream.end();var o=function(){s._stream.removeListener("data",o)};this._stream.on("data",o),C6.call(this,i),process.nextTick(function(){s._driver.start(),s._driver.io.write(n)})}};kbe.inherits(yA,C6);yA.isWebSocket=function(t){return nM.isWebSocket(t)};yA.validateOptions=function(t,e){nM.validateOptions(t,e)};yA.WebSocket=yA;yA.Client=d6();yA.EventSource=m6();I6.exports=yA});var jZ="firebase",KZ="10.8.0";Nr(jZ,KZ,"app");var Ui=new d0("ANGULARFIRE2_VERSION");var XZ=(t,e)=>{let n=e?[e]:Q1(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Oi=class{constructor(){return XZ(ZZ)}},ZZ="app-check";function Q0(){}var JE=class{zone;delegate;constructor(e,n=ZL){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},w0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Q0,{},Q0,Q0)),n.pipe(a0({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ra=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new JE(Zone.current)),this.insideAngular=n.run(()=>new JE(Zone.current,gc)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Y(Ai))};static \u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function w1(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _0(t){return t.pipe(Xo(w1().outsideAngular))}function yt(t){return $Z(w1())(t)}function $Z(t){return function(n){return n=n.lift(new w0(t.ngZone)),n.pipe(pc(t.outsideAngular),Xo(t.insideAngular))}}var wNe=Dd(zZ(),1);var e$=new Map,t$={activated:!1,tokenObservers:[]},n$={initialized:!1,enabled:!1};function Pi(t){return e$.get(t)||Object.assign({},t$)}function D1(){return n$}var r$="https://content-firebaseappcheck.googleapis.com/v1";var i$="exchangeDebugToken",_1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},MNe=24*60*60*1e3;var S0=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new hn,this.pending.promise.catch(n=>{}),yield s$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new hn,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function s$(t){return new Promise(e=>{setTimeout(e,t)})}var o$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ia=new E1("appCheck","AppCheck",o$);function R1(t){if(!Pi(t).activated)throw ia.create("use-before-activation",{appName:t.name})}function T1(r,i){return E(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let d=yield o.getHeartbeatsHeader();d&&(s["X-Firebase-Client"]=d)}let a={method:"POST",body:JSON.stringify(e),headers:s},A;try{A=yield fetch(t,a)}catch(d){throw ia.create("fetch-network-error",{originalErrorMessage:d?.message})}if(A.status!==200)throw ia.create("fetch-status-error",{httpStatus:A.status});let l;try{l=yield A.json()}catch(d){throw ia.create("fetch-parse-error",{originalErrorMessage:d?.message})}let c=l.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw ia.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let u=Number(c[1])*1e3,h=Date.now();return{token:l.token,expireTimeMillis:h+u,issuedAtTimeMillis:h}})}function k1(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${r$}/projects/${n}/apps/${r}:${i$}?key=${i}`,body:{debug_token:e}}}var a$="firebase-app-check-database",A$=1,b0="firebase-app-check-store";var jE=null;function l$(){return jE||(jE=new Promise((t,e)=>{try{let n=indexedDB.open(a$,A$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ia.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(b0,{keyPath:"compositeKey"})}}}catch(n){e(ia.create("storage-open",{originalErrorMessage:n?.message}))}}),jE)}function c$(t,e){return u$(h$(t),e)}function u$(t,e){return E(this,null,function*(){let r=(yield l$()).transaction(b0,"readwrite"),s=r.objectStore(b0).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=A=>{o()},r.onerror=A=>{var l;a(ia.create("storage-set",{originalErrorMessage:(l=A.target.error)===null||l===void 0?void 0:l.message}))}})})}function h$(t){return`${t.options.appId}-${t.name}`}var D0=new na("@firebase/app-check");function v0(t,e){return qE()?c$(t,e).catch(n=>{D0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function N1(){return D1().enabled}function F1(){return E(this,null,function*(){let t=D1();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var d$={error:"UNKNOWN_ERROR"};function f$(t){return VE.encodeString(JSON.stringify(t),!1)}function R0(t,e=!1){return E(this,null,function*(){let n=t.app;R1(n);let r=Pi(n),i=r.token,s;if(i&&!Pd(i)&&(r.token=void 0,i=void 0),!i){let A=yield r.cachedTokenPromise;A&&(Pd(A)?i=A:yield v0(n,void 0))}if(!e&&i&&Pd(i))return{token:i.token};let o=!1;if(N1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=T1(k1(n,yield F1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let A=yield r.exchangeTokenPromise;return yield v0(n,A),r.token=A,{token:A.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Pi(n).exchangeTokenPromise}catch(A){A.code==="appCheck/throttled"?D0.warn(A.message):D0.error(A),s=A}let a;return i?s?Pd(i)?a={token:i.token,internalError:s}:a=S1(s):(a={token:i.token},r.token=i,yield v0(n,i)):a=S1(s),o&&m$(n,a),a})}function g$(t){return E(this,null,function*(){let e=t.app;R1(e);let{provider:n}=Pi(e);if(N1()){let r=yield F1(),{token:i}=yield T1(k1(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function p$(t,e,n,r){let{app:i}=t,s=Pi(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Pd(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),v1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>v1(t))}function x1(t,e){let n=Pi(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function v1(t){let{app:e}=t,n=Pi(e),r=n.tokenRefresher;r||(r=E$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function E$(t){let{app:e}=t;return new S0(()=>E(this,null,function*(){let n=Pi(e),r;if(n.token?r=yield R0(t,!0):r=yield R0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Pi(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},_1.RETRIAL_MIN_WAIT,_1.RETRIAL_MAX_WAIT)}function m$(t,e){let n=Pi(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Pd(t){return t.expireTimeMillis-Date.now()>0}function S1(t){return{token:f$(d$),error:t}}var T0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Pi(this.app);for(let n of e)x1(this.app,n.next);return Promise.resolve()}};function C$(t,e){return new T0(t,e)}function I$(t){return{getToken:e=>R0(t,e),getLimitedUseToken:()=>g$(t),addTokenListener:e=>p$(t,"INTERNAL",e),removeTokenListener:e=>x1(t.app,e)}}var y$="@firebase/app-check",B$="0.8.2";var Q$="app-check",b1="app-check-internal";function w$(){ho(new Sn(Q$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return C$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(b1).initialize()})),ho(new Sn(b1,t=>{let e=t.getProvider("app-check").getImmediate();return I$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Nr(y$,B$)}w$();var _$=["localhost","0.0.0.0","127.0.0.1"],zNe=typeof window<"u"&&_$.includes(window.location.hostname);var v$="firebase",S$="10.8.0";Dt.registerVersion(v$,S$,"app-compat");var b$=["ngOnDestroy"],L1=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(b$.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let A=a?.[s];return typeof A=="function"?A.bind(a):A?.then?A.then(l=>n.run(()=>l)):n.run(()=>A)});return new Proxy(()=>{},{get:(a,A)=>o[A],apply:(a,A,l)=>o.then(c=>{let u=c?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,u),u})})})});var XE=class{constructor(e){return e}},ps=new Ke("angularfire2.app.options"),Es=new Ke("angularfire2.app.name");function fo(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let o=Dt.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Dt.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;D$("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new XE(o)}var D$=(t,...e)=>{f0()&&typeof console<"u"&&console[t](...e)},R$={provide:XE,useFactory:fo,deps:[ps,Ai,[new o1,Es]]},O1=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:ps,useValue:n},{provide:Es,useValue:r}]}}constructor(n){Dt.registerVersion("angularfire",Ui.full,"core"),Dt.registerVersion("angularfire",Ui.full,"app-compat"),Dt.registerVersion("angular",a1.full,n.toString())}static \u0275fac=function(r){return new(r||t)(Y(fs))};static \u0275mod=qt({type:t});static \u0275inj=Gt({providers:[R$]})}return t})();function sa(t,e,n,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return T$(i,o)||(M1("error",`${e} was already initialized on the ${n} Firebase App with different settings.${k$?" You may need to reload as Firebase is not HMR aware.":""}`),M1("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function T$(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var k$=typeof module<"u"&&!!module.hot,M1=(t,...e)=>{f0()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Vd=new Ke("angularfire2.auth.use-emulator"),qd=new Ke("angularfire2.auth.settings"),Gd=new Ke("angularfire2.auth.tenant-id"),Hd=new Ke("angularfire2.auth.langugage-code"),Yd=new Ke("angularfire2.auth.use-device-language"),Wd=new Ke("angularfire.auth.persistence"),Jd=(t,e,n,r,i,s,o,a)=>sa(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let A=e.runOutsideAngular(()=>t.auth());if(n&&A.useEmulator(...n),r&&(A.tenantId=r),A.languageCode=i,s&&A.useDeviceLanguage(),o)for(let[l,c]of Object.entries(o))A.settings[l]=c;return a&&A.setPersistence(a),A},[n,r,i,s,o,a]),go=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,A,l,c,u,h,d){let f=new XL,g=Tr(void 0).pipe(Xo(o.outsideAngular),si(()=>s.runOutsideAngular(()=>import("./chunk-NB5M2DLR.mjs"))),Je(()=>fo(n,s,r)),Je(m=>Jd(m,s,a,l,c,u,A,h)),s0({bufferSize:1,refCount:!1}));if(PE(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Tr(null);else{g.pipe(n1()).subscribe();let m=g.pipe(si(_=>_.getRedirectResult().then(w=>w,()=>null)),yt,s0({bufferSize:1,refCount:!1})),y=g.pipe(si(_=>new hs(w=>({unsubscribe:s.runOutsideAngular(()=>_.onAuthStateChanged(S=>w.next(S),S=>w.error(S),()=>w.complete()))})))),I=g.pipe(si(_=>new hs(w=>({unsubscribe:s.runOutsideAngular(()=>_.onIdTokenChanged(S=>w.next(S),S=>w.error(S),()=>w.complete()))}))));this.authState=m.pipe(o0(y),pc(o.outsideAngular),Xo(o.insideAngular)),this.user=m.pipe(o0(I),pc(o.outsideAngular),Xo(o.insideAngular)),this.idToken=this.user.pipe(si(_=>_?Xn(_.getIdToken()):Tr(null))),this.idTokenResult=this.user.pipe(si(_=>_?Xn(_.getIdTokenResult()):Tr(null))),this.credential=Rd(m,f,this.authState.pipe(Td(_=>!_))).pipe(Je(_=>_?.user?_:null),pc(o.outsideAngular),Xo(o.insideAngular))}return L1(this,g,s,{spy:{apply:(m,y,I)=>{(m.startsWith("signIn")||m.startsWith("createUser"))&&I.then(_=>f.next(_))}}})}static \u0275fac=function(r){return new(r||t)(Y(ps),Y(Es,8),Y(fs),Y(Ai),Y(ra),Y(Vd,8),Y(qd,8),Y(Gd,8),Y(Hd,8),Y(Yd,8),Y(Wd,8),Y(Oi,8))};static \u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),U1=(()=>{class t{constructor(){Dt.registerVersion("angularfire",Ui.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=qt({type:t});static \u0275inj=Gt({providers:[go]})}return t})();import{inspect as Gae,TextEncoder as Hae,TextDecoder as Yae}from"util";import{randomBytes as Wae}from"crypto";var N$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={},G,t_=t_||{},fe=N$||self;function hm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Af(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function F$(t){return Object.prototype.hasOwnProperty.call(t,F0)&&t[F0]||(t[F0]=++x$)}var F0="closure_uid_"+(1e9*Math.random()>>>0),x$=0;function M$(t,e,n){return t.call.apply(t.bind,arguments)}function L$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Un(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Un=M$:Un=L$,Un.apply(null,arguments)}function $E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function fn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function oa(){this.s=this.s,this.o=this.o}var O$=0;oa.prototype.s=!1;oa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),O$!=0)&&F$(this)};oa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Z1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function n_(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function P1(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(hm(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pn.prototype.h=function(){this.defaultPrevented=!0};var U$=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};fe.addEventListener("test",n,e),fe.removeEventListener("test",n,e)}catch{}return t}();function $d(t){return/^[\s\xa0]*$/.test(t)}function dm(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function ms(t){return dm().indexOf(t)!=-1}function r_(t){return r_[" "](t),t}r_[" "]=function(){};function P$(t,e){var n=b7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var V$=ms("Opera"),Qc=ms("Trident")||ms("MSIE"),$1=ms("Edge"),U0=$1||Qc,eO=ms("Gecko")&&!(dm().toLowerCase().indexOf("webkit")!=-1&&!ms("Edge"))&&!(ms("Trident")||ms("MSIE"))&&!ms("Edge"),q$=dm().toLowerCase().indexOf("webkit")!=-1&&!ms("Edge");function tO(){var t=fe.document;return t?t.documentMode:void 0}var P0;e:{if(em="",tm=function(){var t=dm();if(eO)return/rv:([^\);]+)(\)|;)/.exec(t);if($1)return/Edge\/([\d\.]+)/.exec(t);if(Qc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(q$)return/WebKit\/(\S+)/.exec(t);if(V$)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),tm&&(em=tm?tm[1]:""),Qc&&(nm=tO(),nm!=null&&nm>parseFloat(em))){P0=String(nm);break e}P0=em}var em,tm,nm,V0;fe.document&&Qc?(x0=tO(),V0=x0||parseInt(P0,10)||void 0):V0=void 0;var x0,G$=V0;function ef(t,e){if(Pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eO){e:{try{r_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:H$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ef.$.h.call(this)}}fn(ef,Pn);var H$={2:"touch",3:"pen",4:"mouse"};ef.prototype.h=function(){ef.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lf="closure_listenable_"+(1e6*Math.random()|0),Y$=0;function W$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Y$,this.fa=this.ia=!1}function fm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function i_(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function J$(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function nO(t){let e={};for(let n in t)e[n]=t[n];return e}var V1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rO(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<V1.length;s++)n=V1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gm(t){this.src=t,this.g={},this.h=0}gm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=G0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new W$(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function q0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Z1(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(fm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function G0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var s_="closure_lm_"+(1e6*Math.random()|0),M0={};function iO(t,e,n,r,i){if(r&&r.once)return oO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)iO(t,e[s],n,r,i);return null}return n=A_(n),t&&t[lf]?t.O(e,n,Af(r)?!!r.capture:!!r,i):sO(t,e,n,!1,r,i)}function sO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Af(i)?!!i.capture:!!i,a=a_(t);if(a||(t[s_]=a=new gm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=z$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)U$||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AO(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function z$(){function t(n){return e.call(t.src,t.listener,n)}let e=j$;return t}function oO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oO(t,e[s],n,r,i);return null}return n=A_(n),t&&t[lf]?t.P(e,n,Af(r)?!!r.capture:!!r,i):sO(t,e,n,!0,r,i)}function aO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)aO(t,e[s],n,r,i);else r=Af(r)?!!r.capture:!!r,n=A_(n),t&&t[lf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=G0(s,n,r,i),-1<n&&(fm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=a_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=G0(e,n,r,i)),(n=-1<t?e[t]:null)&&o_(n))}function o_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[lf])q0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=a_(e))?(q0(n,t),n.h==0&&(n.src=null,e[s_]=null)):fm(t)}}}function AO(t){return t in M0?M0[t]:M0[t]="on"+t}function j$(t,e){if(t.fa)t=!0;else{e=new ef(e,this);var n=t.listener,r=t.la||t.src;t.ia&&o_(t),t=n.call(r,e)}return t}function a_(t){return t=t[s_],t instanceof gm?t:null}var L0="__closure_events_fn_"+(1e9*Math.random()>>>0);function A_(t){return typeof t=="function"?t:(t[L0]||(t[L0]=function(e){return t.handleEvent(e)}),t[L0])}function dn(){oa.call(this),this.i=new gm(this),this.S=this,this.J=null}fn(dn,oa);dn.prototype[lf]=!0;dn.prototype.removeEventListener=function(t,e,n,r){aO(this,t,e,n,r)};function Dn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Pn(e,t);else if(e instanceof Pn)e.target=e.target||t;else{var i=e;e=new Pn(r,t),rO(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=rm(o,r,!0,e)&&i}if(o=e.g=t,i=rm(o,r,!0,e)&&i,i=rm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=rm(o,r,!1,e)&&i}dn.prototype.N=function(){if(dn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fm(n[r]);delete t.g[e],t.h--}}this.J=null};dn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};dn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function rm(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,A=o.la||o.src;o.ia&&q0(t.i,o),i=a.call(A,r)!==!1&&i}}return i&&!r.defaultPrevented}var l_=fe.JSON.stringify,H0=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function K$(){var t=c_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Y0=class{constructor(){this.h=this.g=null}add(e,n){let r=lO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},lO=new H0(()=>new W0,t=>t.reset()),W0=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function X$(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Z$(t){fe.setTimeout(()=>{throw t},0)}var tf,nf=!1,c_=new Y0,cO=()=>{let t=fe.Promise.resolve(void 0);tf=()=>{t.then($$)}},$$=()=>{for(var t;t=K$();){try{t.h.call(t.g)}catch(n){Z$(n)}var e=lO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nf=!1};function pm(t,e){dn.call(this),this.h=t||1,this.g=e||fe,this.j=Un(this.qb,this),this.l=Date.now()}fn(pm,dn);G=pm.prototype;G.ga=!1;G.T=null;G.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dn(this,"tick"),this.ga&&(u_(this),this.start()))}};G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function u_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}G.N=function(){pm.$.N.call(this),u_(this),delete this.g};function h_(t,e,n){if(typeof t=="function")n&&(t=Un(t,n));else if(t&&typeof t.handleEvent=="function")t=Un(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function uO(t){t.g=h_(()=>{t.g=null,t.i&&(t.i=!1,uO(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var J0=class extends oa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uO(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function rf(t){oa.call(this),this.h=t,this.g={}}fn(rf,oa);var q1=[];function hO(t,e,n,r){Array.isArray(n)||(n&&(q1[0]=n.toString()),n=q1);for(var i=0;i<n.length;i++){var s=iO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function dO(t){i_(t.g,function(e,n){this.g.hasOwnProperty(n)&&o_(e)},t),t.g={}}rf.prototype.N=function(){rf.$.N.call(this),dO(this)};rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Em(){this.g=!0}Em.prototype.Ea=function(){this.g=!1};function e7(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),A=0;A<a.length;A++){var l=a[A].split("=");if(1<l.length){var c=l[0];l=l[1];var u=c.split("_");o=2<=u.length&&u[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function t7(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function yc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+r7(t,n)+(r?" "+r:"")})}function n7(t,e){t.info(function(){return"TIMEOUT: "+e})}Em.prototype.info=function(){};function r7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return l_(n)}catch{return e}}var OA={},G1=null;function mm(){return G1=G1||new dn}OA.Ta="serverreachability";function fO(t){Pn.call(this,OA.Ta,t)}fn(fO,Pn);function sf(t){let e=mm();Dn(e,new fO(e))}OA.STAT_EVENT="statevent";function gO(t,e){Pn.call(this,OA.STAT_EVENT,t),this.stat=e}fn(gO,Pn);function Zn(t){let e=mm();Dn(e,new gO(e,t))}OA.Ua="timingevent";function pO(t,e){Pn.call(this,OA.Ua,t),this.size=e}fn(pO,Pn);function cf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var Cm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},EO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function d_(){}d_.prototype.h=null;function H1(t){return t.h||(t.h=t.i())}function mO(){}var uf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function f_(){Pn.call(this,"d")}fn(f_,Pn);function g_(){Pn.call(this,"c")}fn(g_,Pn);var z0;function Im(){}fn(Im,d_);Im.prototype.g=function(){return new XMLHttpRequest};Im.prototype.i=function(){return{}};z0=new Im;function hf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new rf(this),this.P=i7,t=U0?125:void 0,this.V=new pm(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CO}function CO(){this.i=null,this.g="",this.h=!1}var i7=45e3,IO={},j0={};G=hf.prototype;G.setTimeout=function(t){this.P=t};function K0(t,e,n){t.L=1,t.A=Bm(Eo(e)),t.u=n,t.S=!0,yO(t,null)}function yO(t,e){t.G=Date.now(),df(t),t.B=Eo(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),DO(n.i,"t",r),t.o=0,n=t.l.J,t.h=new CO,t.g=KO(t.l,n?e:null,!t.u),0<t.O&&(t.M=new J0(Un(t.Pa,t,t.g),t.O)),hO(t.U,t.g,"readystatechange",t.nb),e=t.I?nO(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),sf(),e7(t.j,t.v,t.B,t.m,t.W,t.u)}G.nb=function(t){t=t.target;let e=this.M;e&&Cs(t)==3?e.l():this.Pa(t)};G.Pa=function(t){try{if(t==this.g)e:{let c=Cs(this.g);var e=this.g.Ia();let u=this.g.da();if(!(3>c)&&(c!=3||U0||this.g&&(this.h.h||this.g.ja()||z1(this.g)))){this.J||c!=4||e==7||(e==8||0>=u?sf(3):sf(2)),ym(this);var n=this.g.da();this.ca=n;t:if(BO(this)){var r=z1(this.g);t="";var i=r.length,s=Cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xA(this),Zd(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,t7(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,A=this.g;if((a=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$d(a)){var l=a;break t}}l=null}if(n=l)yc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,X0(this,n);else{this.i=!1,this.s=3,Zn(12),xA(this),Zd(this);break e}}this.S?(QO(this,c,o),U0&&this.i&&c==3&&(hO(this.U,this.V,"tick",this.mb),this.V.start())):(yc(this.j,this.m,o,null),X0(this,o)),c==4&&xA(this),this.i&&!this.J&&(c==4?WO(this.l,this):(this.i=!1,df(this)))}else _7(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Zn(12)):(this.s=0,Zn(13)),xA(this),Zd(this)}}}catch{}finally{}};function BO(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function QO(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=s7(t,n),i==j0){e==4&&(t.s=4,Zn(14),r=!1),yc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==IO){t.s=4,Zn(15),yc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else yc(t.j,t.m,i,null),X0(t,i);BO(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Zn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),y_(e),e.M=!0,Zn(11))):(yc(t.j,t.m,n,"[Invalid Chunked Response]"),xA(t),Zd(t))}G.mb=function(){if(this.g){var t=Cs(this.g),e=this.g.ja();this.o<e.length&&(ym(this),QO(this,t,e),this.i&&t!=4&&df(this))}};function s7(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?j0:(n=Number(e.substring(n,r)),isNaN(n)?IO:(r+=1,r+n>e.length?j0:(e=e.slice(r,r+n),t.o=r+n,e)))}G.cancel=function(){this.J=!0,xA(this)};function df(t){t.Y=Date.now()+t.P,wO(t,t.P)}function wO(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=cf(Un(t.lb,t),e)}function ym(t){t.C&&(fe.clearTimeout(t.C),t.C=null)}G.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(n7(this.j,this.B),this.L!=2&&(sf(),Zn(17)),xA(this),this.s=2,Zd(this)):wO(this,this.Y-t)};function Zd(t){t.l.H==0||t.J||WO(t.l,t)}function xA(t){ym(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,u_(t.V),dO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function X0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Z0(n.i,t))){if(!t.K&&Z0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Am(n),_m(n);else break e;I_(n),Zn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=cf(Un(n.ib,n),6e3));if(1>=kO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else MA(n,11)}else if((t.K||n.g==t)&&Am(n),!$d(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));let u=l[4];u!=null&&(n.Ga=u,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let d=t.g;if(d){let f=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var s=r.i;s.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(p_(s,s.h),s.h=null))}if(r.F){let g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,gt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=jO(r,r.J?r.pa:null,r.Y),o.K){NO(r.i,o);var a=o,A=r.L;A&&a.setTimeout(A),a.C&&(ym(a),df(a)),r.g=o}else HO(r);0<n.j.length&&vm(n)}else l[0]!="stop"&&l[0]!="close"||MA(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?MA(n,7):C_(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}sf(4)}catch{}}function o7(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(hm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function a7(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(hm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function _O(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(hm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=a7(t),r=o7(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var vO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function A7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function LA(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof LA){this.h=t.h,om(this,t.j),this.s=t.s,this.g=t.g,am(this,t.m),this.l=t.l;var e=t.i,n=new of;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Y1(this,n),this.o=t.o}else t&&(e=String(t).match(vO))?(this.h=!1,om(this,e[1]||"",!0),this.s=Kd(e[2]||""),this.g=Kd(e[3]||"",!0),am(this,e[4]),this.l=Kd(e[5]||"",!0),Y1(this,e[6]||"",!0),this.o=Kd(e[7]||"")):(this.h=!1,this.i=new of(null,this.h))}LA.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xd(e,W1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Xd(e,W1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Xd(n,n.charAt(0)=="/"?u7:c7,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xd(n,d7)),t.join("")};function Eo(t){return new LA(t)}function om(t,e,n){t.j=n?Kd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function am(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Y1(t,e,n){e instanceof of?(t.i=e,f7(t.i,t.h)):(n||(e=Xd(e,h7)),t.i=new of(e,t.h))}function gt(t,e,n){t.i.set(e,n)}function Bm(t){return gt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Kd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,l7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function l7(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var W1=/[#\/\?@]/g,c7=/[#\?:]/g,u7=/[#\?]/g,h7=/[#\?@]/g,d7=/#/g;function of(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function aa(t){t.g||(t.g=new Map,t.h=0,t.i&&A7(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}G=of.prototype;G.add=function(t,e){aa(this),this.i=null,t=wc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function SO(t,e){aa(t),e=wc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function bO(t,e){return aa(t),e=wc(t,e),t.g.has(e)}G.forEach=function(t,e){aa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};G.ta=function(){aa(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};G.Z=function(t){aa(this);let e=[];if(typeof t=="string")bO(this,t)&&(e=e.concat(this.g.get(wc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};G.set=function(t,e){return aa(this),this.i=null,t=wc(this,t),bO(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};G.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function DO(t,e,n){SO(t,e),0<n.length&&(t.i=null,t.g.set(wc(t,e),n_(n)),t.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function wc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function f7(t,e){e&&!t.j&&(aa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(SO(this,r),DO(this,i,n))},t)),t.j=e}var g7=class{constructor(t,e){this.g=t,this.map=e}};function RO(t){this.l=t||p7,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var p7=10;function TO(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function kO(t){return t.h?1:t.g?t.g.size:0}function Z0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function p_(t,e){t.g?t.g.add(e):t.h=e}function NO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}RO.prototype.cancel=function(){if(this.i=FO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function FO(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return n_(t.i)}var E7=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function m7(){this.g=new E7}function C7(t,e,n){let r=n||"";try{_O(t,function(i,s){let o=i;Af(i)&&(o=l_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function I7(t,e){let n=new Em;if(fe.Image){let r=new Image;r.onload=$E(im,n,r,"TestLoadImage: loaded",!0,e),r.onerror=$E(im,n,r,"TestLoadImage: error",!1,e),r.onabort=$E(im,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=$E(im,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function im(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ff(t){this.l=t.ec||null,this.j=t.ob||!1}fn(ff,d_);ff.prototype.g=function(){return new Qm(this.l,this.j)};ff.prototype.i=function(t){return function(){return t}}({});function Qm(t,e){dn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=E_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn(Qm,dn);var E_=0;G=Qm.prototype;G.open=function(t,e){if(this.readyState!=E_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,af(this)};G.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gf(this)),this.readyState=E_};G.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,af(this)),this.g&&(this.readyState=3,af(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function xO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}G.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gf(this):af(this),this.readyState==3&&xO(this)}};G.Za=function(t){this.g&&(this.response=this.responseText=t,gf(this))};G.Ya=function(t){this.g&&(this.response=t,gf(this))};G.ka=function(){this.g&&gf(this)};function gf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,af(t)}G.setRequestHeader=function(t,e){this.v.append(t,e)};G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function af(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Qm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var y7=fe.JSON.parse;function xt(t){dn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MO,this.L=this.M=!1}fn(xt,dn);var MO="",B7=/^https?$/i,Q7=["POST","PUT"];G=xt.prototype;G.Oa=function(t){this.M=t};G.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():z0.g(),this.C=this.u?H1(this.u):H1(z0),this.g.onreadystatechange=Un(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){J1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=fe.FormData&&t instanceof fe.FormData,!(0<=Z1(Q7,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{UO(this),0<this.B&&((this.L=w7(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Un(this.ua,this)):this.A=h_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){J1(this,s)}};function w7(t){return Qc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}G.ua=function(){typeof t_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))};function J1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,LO(t),wm(t)}function LO(t){t.F||(t.F=!0,Dn(t,"complete"),Dn(t,"error"))}G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dn(this,"complete"),Dn(this,"abort"),wm(this))};G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wm(this,!0)),xt.$.N.call(this)};G.La=function(){this.s||(this.G||this.v||this.l?OO(this):this.kb())};G.kb=function(){OO(this)};function OO(t){if(t.h&&typeof t_<"u"&&(!t.C[1]||Cs(t)!=4||t.da()!=2)){if(t.v&&Cs(t)==4)h_(t.La,0,t);else if(Dn(t,"readystatechange"),Cs(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(vO)[1]||null;!i&&fe.self&&fe.self.location&&(i=fe.self.location.protocol.slice(0,-1)),r=!B7.test(i?i.toLowerCase():"")}n=r}if(n)Dn(t,"complete"),Dn(t,"success");else{t.m=6;try{var s=2<Cs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",LO(t)}}finally{wm(t)}}}}function wm(t,e){if(t.g){UO(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dn(t,"ready");try{n.onreadystatechange=r}catch{}}}function UO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}G.isActive=function(){return!!this.g};function Cs(t){return t.g?t.g.readyState:0}G.da=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}};G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),y7(e)}};function z1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case MO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _7(t){let e={};t=(t.g&&2<=Cs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if($d(t[r]))continue;var n=X$(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}J$(e,function(r){return r.join(", ")})}G.Ia=function(){return this.m};G.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function PO(t){let e="";return i_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function m_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=PO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):gt(t,e,n))}function zd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function VO(t){this.Ga=0,this.j=[],this.l=new Em,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zd("baseRetryDelayMs",5e3,t),this.hb=zd("retryDelaySeedMs",1e4,t),this.eb=zd("forwardChannelMaxRetries",2,t),this.xa=zd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new RO(t&&t.concurrentRequestLimit),this.Ja=new m7,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}G=VO.prototype;G.ra=8;G.H=1;function C_(t){if(qO(t),t.H==3){var e=t.W++,n=Eo(t.I);if(gt(n,"SID",t.K),gt(n,"RID",e),gt(n,"TYPE","terminate"),pf(t,n),e=new hf(t,t.l,e),e.L=2,e.A=Bm(Eo(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.A,n=!0),n||(e.g=KO(e.l,null),e.g.ha(e.A)),e.G=Date.now(),df(e)}zO(t)}function _m(t){t.g&&(y_(t),t.g.cancel(),t.g=null)}function qO(t){_m(t),t.u&&(fe.clearTimeout(t.u),t.u=null),Am(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function vm(t){if(!TO(t.i)&&!t.m){t.m=!0;var e=t.Na;tf||cO(),nf||(tf(),nf=!0),c_.add(e,t),t.C=0}}function v7(t,e){return kO(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=cf(Un(t.Na,t,e),JO(t,t.C)),t.C++,!0)}G.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new hf(this,this.l,t),s=this.s;if(this.U&&(s?(s=nO(s),rO(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=GO(this,i,e),n=Eo(this.I),gt(n,"RID",t),gt(n,"CVER",22),this.F&&gt(n,"X-HTTP-Session-Id",this.F),pf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(PO(s)))+"&"+e:this.o&&m_(n,this.o,s)),p_(this.i,i),this.bb&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",e),gt(n,"SID","null"),i.aa=!0,K0(i,n,null)):K0(i,n,e),this.H=2}}else this.H==3&&(t?j1(this,t):this.j.length==0||TO(this.i)||j1(this))};function j1(t,e){var n;e?n=e.m:n=t.W++;let r=Eo(t.I);gt(r,"SID",t.K),gt(r,"RID",n),gt(r,"AID",t.V),pf(t,r),t.o&&t.s&&m_(r,t.o,t.s),n=new hf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=GO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),p_(t.i,n),K0(n,r,e)}function pf(t,e){t.na&&i_(t.na,function(n,r){gt(e,r,n)}),t.h&&_O({},function(n,r){gt(e,r,n)})}function GO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Un(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let A=0;A<n;A++){let l=i[A].g,c=i[A].map;if(l-=s,0>l)s=Math.max(0,i[A].g-100),a=!1;else try{C7(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function HO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;tf||cO(),nf||(tf(),nf=!0),c_.add(e,t),t.A=0}}function I_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=cf(Un(t.Ma,t),JO(t,t.A)),t.A++,!0)}G.Ma=function(){if(this.u=null,YO(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=cf(Un(this.jb,this),t)}};G.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zn(10),_m(this),YO(this))};function y_(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function YO(t){t.g=new hf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Eo(t.wa);gt(e,"RID","rpc"),gt(e,"SID",t.K),gt(e,"AID",t.V),gt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&gt(e,"TO",t.qa),gt(e,"TYPE","xmlhttp"),pf(t,e),t.o&&t.s&&m_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Bm(Eo(e)),n.u=null,n.S=!0,yO(n,t)}G.ib=function(){this.v!=null&&(this.v=null,_m(this),I_(this),Zn(19))};function Am(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function WO(t,e){var n=null;if(t.g==e){Am(t),y_(t),t.g=null;var r=2}else if(Z0(t.i,e))n=e.F,NO(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=mm(),Dn(r,new pO(r,n)),vm(t)}else HO(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&v7(t,e)||r==2&&I_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:MA(t,5);break;case 4:MA(t,10);break;case 3:MA(t,6);break;default:MA(t,2)}}}function JO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function MA(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Un(t.pb,t);n||(n=new LA("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||om(n,"https"),Bm(n)),I7(n.toString(),r)}else Zn(2);t.H=0,t.h&&t.h.za(e),zO(t),qO(t)}G.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zn(2)):(this.l.info("Failed to ping google.com"),Zn(1))};function zO(t){if(t.H=0,t.ma=[],t.h){let e=FO(t.i);(e.length!=0||t.j.length!=0)&&(P1(t.ma,e),P1(t.ma,t.j),t.i.i.length=0,n_(t.j),t.j.length=0),t.h.ya()}}function jO(t,e,n){var r=n instanceof LA?Eo(n):new LA(n);if(r.g!="")e&&(r.g=e+"."+r.g),am(r,r.m);else{var i=fe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new LA(null);r&&om(s,r),e&&(s.g=e),i&&am(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&gt(r,n,e),gt(r,"VER",t.ra),pf(t,r),r}function KO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new xt(new ff({ob:n})):new xt(t.va),e.Oa(t.J),e}G.isActive=function(){return!!this.h&&this.h.isActive(this)};function XO(){}G=XO.prototype;G.Ba=function(){};G.Aa=function(){};G.za=function(){};G.ya=function(){};G.isActive=function(){return!0};G.Va=function(){};function lm(){if(Qc&&!(10<=Number(G$)))throw Error("Environmental error: no available transport.")}lm.prototype.g=function(t,e){return new Fr(t,e)};function Fr(t,e){dn.call(this),this.g=new VO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$d(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$d(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _c(this)}fn(Fr,dn);Fr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=jO(t,null,t.Y),vm(t)};Fr.prototype.close=function(){C_(this.g)};Fr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=l_(t),t=n);e.j.push(new g7(e.fb++,t)),e.H==3&&vm(e)};Fr.prototype.N=function(){this.g.h=null,delete this.j,C_(this.g),delete this.g,Fr.$.N.call(this)};function ZO(t){f_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}fn(ZO,f_);function $O(){g_.call(this),this.status=1}fn($O,g_);function _c(t){this.g=t}fn(_c,XO);_c.prototype.Ba=function(){Dn(this.g,"a")};_c.prototype.Aa=function(t){Dn(this.g,new ZO(t))};_c.prototype.za=function(t){Dn(this.g,new $O)};_c.prototype.ya=function(){Dn(this.g,"b")};function S7(){this.blockSize=-1}function Vi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}fn(Vi,S7);Vi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function O0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Vi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)O0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){O0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){O0(this,r),i=0;break}}this.h=i,this.i+=e};Vi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function $e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var b7={};function B_(t){return-128<=t&&128>t?P$(t,function(e){return new $e([e|0],0>e?-1:0)}):new $e([t|0],0>t?-1:0)}function Is(t){if(isNaN(t)||!isFinite(t))return Bc;if(0>t)return bn(Is(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=$0;return new $e(e,0)}function eU(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return bn(eU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Is(Math.pow(e,8)),r=Bc,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Is(Math.pow(e,s)),r=r.R(s).add(Is(o))):(r=r.R(n),r=r.add(Is(o)))}return r}var $0=4294967296,Bc=B_(0),e_=B_(1),K1=B_(16777216);G=$e.prototype;G.ea=function(){if(ui(this))return-bn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:$0+r)*e,e*=$0}return t};G.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(po(this))return"0";if(ui(this))return"-"+bn(this).toString(t);for(var e=Is(Math.pow(t,6)),n=this,r="";;){var i=um(n,e).g;n=cm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,po(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};G.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function po(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ui(t){return t.h==-1}G.X=function(t){return t=cm(this,t),ui(t)?-1:po(t)?0:1};function bn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $e(n,~t.h).add(e_)}G.abs=function(){return ui(this)?bn(this):this};G.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new $e(n,n[n.length-1]&-2147483648?-1:0)};function cm(t,e){return t.add(bn(e))}G.R=function(t){if(po(this)||po(t))return Bc;if(ui(this))return ui(t)?bn(this).R(bn(t)):bn(bn(this).R(t));if(ui(t))return bn(this.R(bn(t)));if(0>this.X(K1)&&0>t.X(K1))return Is(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,A=t.D(i)&65535;n[2*r+2*i]+=o*A,sm(n,2*r+2*i),n[2*r+2*i+1]+=s*A,sm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,sm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,sm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $e(n,0)};function sm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function jd(t,e){this.g=t,this.h=e}function um(t,e){if(po(e))throw Error("division by zero");if(po(t))return new jd(Bc,Bc);if(ui(t))return e=um(bn(t),e),new jd(bn(e.g),bn(e.h));if(ui(e))return e=um(t,bn(e)),new jd(bn(e.g),e.h);if(30<t.g.length){if(ui(t)||ui(e))throw Error("slowDivide_ only works with positive integers.");for(var n=e_,r=e;0>=r.X(t);)n=X1(n),r=X1(r);var i=Ic(n,1),s=Ic(r,1);for(r=Ic(r,2),n=Ic(n,2);!po(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ic(r,1),n=Ic(n,1)}return e=cm(t,i.R(e)),new jd(i,e)}for(i=Bc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Is(n),o=s.R(e);ui(o)||0<o.X(t);)n-=r,s=Is(n),o=s.R(e);po(s)&&(s=e_),i=i.add(s),t=cm(t,o)}return new jd(i,t)}G.gb=function(t){return um(this,t).h};G.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $e(n,this.h&t.h)};G.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $e(n,this.h|t.h)};G.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $e(n,this.h^t.h)};function X1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $e(n,t.h)}function Ic(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new $e(i,t.h)}lm.prototype.createWebChannel=lm.prototype.g;Fr.prototype.send=Fr.prototype.u;Fr.prototype.open=Fr.prototype.m;Fr.prototype.close=Fr.prototype.close;Cm.NO_ERROR=0;Cm.TIMEOUT=8;Cm.HTTP_ERROR=6;EO.COMPLETE="complete";mO.EventType=uf;uf.OPEN="a";uf.CLOSE="b";uf.ERROR="c";uf.MESSAGE="d";dn.prototype.listen=dn.prototype.O;xt.prototype.listenOnce=xt.prototype.P;xt.prototype.getLastError=xt.prototype.Sa;xt.prototype.getLastErrorCode=xt.prototype.Ia;xt.prototype.getStatus=xt.prototype.da;xt.prototype.getResponseJson=xt.prototype.Wa;xt.prototype.getResponseText=xt.prototype.ja;xt.prototype.send=xt.prototype.ha;xt.prototype.setWithCredentials=xt.prototype.Oa;Vi.prototype.digest=Vi.prototype.l;Vi.prototype.reset=Vi.prototype.reset;Vi.prototype.update=Vi.prototype.j;$e.prototype.add=$e.prototype.add;$e.prototype.multiply=$e.prototype.R;$e.prototype.modulo=$e.prototype.gb;$e.prototype.compare=$e.prototype.X;$e.prototype.toNumber=$e.prototype.ea;$e.prototype.toString=$e.prototype.toString;$e.prototype.getBits=$e.prototype.D;$e.fromNumber=Is;$e.fromString=eU;var CFe=qi.createWebChannelTransport=function(){return new lm},IFe=qi.getStatEventTarget=function(){return mm()},yFe=qi.ErrorCode=Cm,BFe=qi.EventType=EO,QFe=qi.Event=OA,wFe=qi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_Fe=qi.FetchXmlHttpFactory=ff,vFe=qi.WebChannel=mO,SFe=qi.XhrIo=xt,tU=qi.Md5=Vi,UA=qi.Integer=$e;var sl=Dd(Dq(),1),qG=Dd(ES(),1);var Rq="@firebase/firestore",Tq="4.4.2";var tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null);tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid");tn.FIRST_PARTY=new tn("first-party-uid");tn.MOCK_USER=new tn("mock-user");var Jae="10.8.0";var Wu=Jae;function zae(t){Wu=t}function jae(t){return Gae(t,{depth:100})}var qa=new na("@firebase/firestore");function Iu(){return qa.logLevel}function GG(t){qa.setLogLevel(t)}function F(t,...e){if(qa.logLevel<=ci.DEBUG){let n=e.map(jR);qa.debug(`Firestore (${Wu}): ${t}`,...n)}}function Rt(t,...e){if(qa.logLevel<=ci.ERROR){let n=e.map(jR);qa.error(`Firestore (${Wu}): ${t}`,...n)}}function wi(t,...e){if(qa.logLevel<=ci.WARN){let n=e.map(jR);qa.warn(`Firestore (${Wu}): ${t}`,...n)}}function jR(t){if(typeof t=="string")return t;try{return jae(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: `+t;throw Rt(e),new Error(e)}function X(t,e){t||W()}function HG(t,e){t||W()}function H(t,e){return t}var v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},R=class extends GE{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var NI=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Kb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}},Xb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Zb=class{constructor(e){this.authProvider=e,this.currentUser=tn.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.tokenCounter,i=A=>this.tokenCounter!==r?(r=this.tokenCounter,n(A)):Promise.resolve(),s=new Wt;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),s.resolve(),s=new Wt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let A=s;e.enqueueRetryable(()=>E(this,null,function*(){yield A.promise,yield i(this.currentUser)}))},a=A=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.tokenListener),o()};this.authProvider.onInit(A=>a(A)),setTimeout(()=>{if(!this.auth){let A=this.authProvider.getImmediate({optional:!0});A?a(A):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wt)}},0),o()}getToken(){let e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.tokenCounter!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X(typeof r.accessToken=="string"),new NI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.tokenListener)}getUser(){let e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new tn(e)}},$b=class{constructor(e,n,r){this.sessionIndex=e,this.iamToken=n,this.authTokenFactory=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}},eD=class{constructor(e,n,r){this.sessionIndex=e,this.iamToken=n,this.authTokenFactory=r}getToken(){return Promise.resolve(new $b(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tD=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nD=class{constructor(e){this.appCheckProvider=e,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(e,n){let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.latestAppCheckToken;return this.latestAppCheckToken=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.tokenListener=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.appCheckProvider.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X(typeof n.token=="string"),this.latestAppCheckToken=n.token,new tD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.tokenListener)}};function Kae(t){if(!t)return new Kb;switch(t.type){case"firstParty":return new eD(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new R(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function Xae(t){return Wae(t)}var FI=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="",i=20;for(;r.length<i;){let s=Xae(40);for(let o=0;o<s.length;++o)r.length<i&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function ol(t,e,n){return t.length!==e.length?!1:t.every((r,i)=>n(r,e[i]))}function YG(t){return t+"\0"}var kq=-62135596800,Nq=1e6,Tt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new R(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kq)throw new R(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-n*1e3)*Nq);return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return this.seconds*1e3+this.nanoseconds/Nq}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-kq,n=String(e).padStart(12,"0"),r=String(this.nanoseconds).padStart(9,"0");return n+"."+r}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Tt(0,0))}static max(){return new t(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return this.timestamp.seconds*1e6+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fq="__name__",xI=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends xI{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new R(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Zae=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends xI{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Zae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fq}static keyField(){return new t([Fq])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new R(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new R(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let A=e[i+1];if(!(A==="\\"||A==="."||A==="`"))throw new R(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=A,i+=2}else a==="`"?(o=!o,i++):a==="."&&!o?(s(),i++):(r+=a,i++)}if(s(),o)throw new R(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var V=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2===0}static fromSegments(e){return new t(new Me(e.slice()))}};var Du=-1,$ae=0,rD=(()=>{class t{constructor(n,r,i,s){this.indexId=n,this.collectionGroup=r,this.fields=i,this.indexState=s}}return t.UNKNOWN_ID=-1,t})();function KR(t){return t.fields.find(e=>e.kind===2)}function al(t){return t.fields.filter(e=>e.kind!==2)}function eAe(t){let e=al(t);return e.length===0?0:e[e.length-1].kind}function tAe(t){return`id=${t.indexId}|cg=${t.collectionGroup}|f=${t.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`}var vu=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var cg=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t($ae,_i.min())}};function WG(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new _i(i,V.empty(),e)}function JG(t){return new _i(t.readTime,t.key,Du)}var _i=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),V.empty(),Du)}static max(){return new t(ne.max(),V.empty(),Du)}};function XR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0||(n=V.comparator(t.documentKey,e.documentKey),n!==0)?n:me(t.largestBatchId,e.largestBatchId)}var zG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",MI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function $a(t){return E(this,null,function*(){if(t.code===v.FAILED_PRECONDITION&&t.message===zG)F("LocalStore","Unexpectedly lost primary lease");else throw t})}var Q=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},A=>r(A))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let A=0;A<s;A++){let l=A;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Or="SimpleDb",nAe=3,LI=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.completionDeferred=new Wt,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{n.error?this.completionDeferred.reject(new il(e,n.error)):this.completionDeferred.resolve()},this.transaction.onerror=r=>{let i=ZR(r.target.error);this.completionDeferred.reject(new il(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new il(n,s)}}get completionPromise(){return this.completionDeferred.promise}abort(e){e&&this.completionDeferred.reject(e),this.aborted||(F(Or,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let e=this.transaction;!this.aborted&&typeof e.commit=="function"&&e.commit()}store(e){let n=this.transaction.objectStore(e);return new sD(n)}},bo=class t{constructor(e,n,r){this.name=e,this.version=n,this.schemaConverter=r,t.getIOSVersion(Ld())===12.2&&Rt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F(Or,"Removing database:",e),XA(window.indexedDB.deleteDatabase(e)).toPromise()}static isAvailable(){if(!qE())return!1;if(t.isMockPersistence())return!0;let e=Ld(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static isMockPersistence(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.USE_MOCK_PERSISTENCE)==="YES"}static getStore(e,n){return e.store(n)}static getIOSVersion(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static getAndroidVersion(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}ensureDb(e){return E(this,null,function*(){return this.db||(F(Or,"Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new il(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new R(v.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new R(v.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new il(e,o))},i.onupgradeneeded=s=>{F(Or,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.schemaConverter.createOrUpgrade(o,i.transaction,s.oldVersion,this.version).next(()=>{F(Or,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=n=>this.versionchangelistener(n)),this.db})}setVersionChangeListener(e){this.versionchangelistener=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return E(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.ensureDb(e);let a=LI.open(this.db,e,s?"readonly":"readwrite",r),A=i(a).next(l=>(a.maybeCommit(),l)).catch(l=>(a.abort(l),Q.reject(l))).toPromise();return A.catch(()=>{}),yield a.completionPromise,A}catch(a){let A=a,l=A.name!=="FirebaseError"&&o<nAe;if(F(Or,"Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}})}close(){this.db&&this.db.close(),this.db=void 0}},iD=class{constructor(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(e){this.dbCursor=e}done(){this.shouldStop=!0}skip(e){this.nextKey=e}delete(){return XA(this.dbCursor.delete())}},il=class extends R{constructor(e,n){super(v.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function eA(t){return t.name==="IndexedDbTransactionError"}var sD=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(F(Or,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(F(Or,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),XA(r)}add(e){F(Or,"ADD",this.store.name,e,e);let n=this.store.add(e);return XA(n)}get(e){let n=this.store.get(e);return XA(n).next(r=>(r===void 0&&(r=null),F(Or,"GET",this.store.name,e,r),r))}delete(e){F(Or,"DELETE",this.store.name,e);let n=this.store.delete(e);return XA(n)}count(){F(Or,"COUNT",this.store.name);let e=this.store.count();return XA(e)}loadAll(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new Q((o,a)=>{s.onerror=A=>{a(A.target.error)},s.onsuccess=A=>{o(A.target.result)}})}else{let s=this.cursor(r),o=[];return this.iterateCursor(s,(a,A)=>{o.push(A)}).next(()=>o)}}loadFirst(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new Q((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}deleteAll(e,n){F(Or,"DELETE ALL",this.store.name);let r=this.options(e,n);r.keysOnly=!1;let i=this.cursor(r);return this.iterateCursor(i,(s,o,a)=>a.delete())}iterate(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.iterateCursor(i,n)}iterateSerial(e){let n=this.cursor({});return new Q((r,i)=>{n.onerror=s=>{let o=ZR(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;if(!o){r();return}e(o.primaryKey,o.value).next(a=>{a?o.continue():r()})}})}iterateCursor(e,n){let r=[];return new Q((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a){i();return}let A=new iD(a),l=n(a.primaryKey,a.value,A);if(l instanceof Q){let c=l.catch(u=>(A.done(),Q.reject(u)));r.push(c)}A.isDone?i():A.skipToKey===null?a.continue():a.continue(A.skipToKey)}}).next(()=>Q.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.keysOnly?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}else return this.store.openCursor(e.range,n)}};function XA(t){return new Q((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=ZR(r.target.error);n(i)}})}var xq=!1;function ZR(t){let e=bo.getIOSVersion(Ld());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new R("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xq||(xq=!0,setTimeout(()=>{throw r},0)),r}}return t}var ig="IndexBackfiller",rAe=15*1e3,iAe=60*1e3,sAe=50,oD=class{constructor(e,n){this.asyncQueue=e,this.backfiller=n,this.task=null}start(){this.schedule(rAe)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}schedule(e){F(ig,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>E(this,null,function*(){this.task=null;try{let n=yield this.backfiller.backfill();F(ig,`Documents written: ${n}`)}catch(n){eA(n)?F(ig,"Ignoring IndexedDB error during index backfill: ",n):yield $a(n)}yield this.schedule(iAe)}))}},aD=class{constructor(e,n){this.localStore=e,this.persistence=n}backfill(){return E(this,arguments,function*(e=sAe){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.writeIndexEntries(n,e))})}writeIndexEntries(e,n){let r=new Set,i=n,s=!0;return Q.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o===null||r.has(o))s=!1;else return F(ig,`Processing collection: ${o}`),this.writeEntriesForCollectionGroup(e,o,i).next(a=>{i-=a,r.add(o)})})).next(()=>n-i)}writeEntriesForCollectionGroup(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.getNewOffset(i,s)).next(a=>(F(ig,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}getNewOffset(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=JG(s);XR(o,r)>0&&(r=o)}),new _i(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Ur=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.setPreviousValue(i),this.writeNewSequenceNumber=i=>r.writeSequenceNumber(i))}setPreviousValue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(n),n}}t.INVALID=-1;return t})(),Su="",AD="",jG="",KG="";function rr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Mq(e)),e=oAe(t.get(n),e);return Mq(e)}function oAe(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+=Su+jG;break;case Su:n+=Su+KG;break;default:n+=s}}return n}function Mq(t){return t+Su+AD}function Os(t){let e=t.length;if(X(e>=2),e===2)return X(t.charAt(0)===Su&&t.charAt(1)===AD),Me.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf(Su,s);switch((o<0||o>n)&&W(),t.charAt(o+1)){case AD:let A=t.substring(s,o),l;i.length===0?l=A:(i+=A,l=i,i=""),r.push(l);break;case jG:i+=t.substring(s,o),i+="\0";break;case KG:i+=t.substring(s,o+1);break;default:W()}s=o+2}return new Me(r)}var ZA="remoteDocuments";var xg="owner",du="owner",Mg="mutationQueues",aAe="userId",Xi="mutations",XG="batchId",nl="userMutationsIndex",ZG=["userId","batchId"];function AAe(t){return[t]}function SI(t,e){return[t,rr(e)]}function $G(t,e,n){return[t,rr(e),n]}var lAe={},Ju="documentMutations",_y="remoteDocumentsV14",cAe=["prefixPath","collectionGroup","readTime","documentId"],bI="documentKeyIndex",uAe=["prefixPath","collectionGroup","documentId"],eH="collectionGroupIndex",hAe=["collectionGroup","readTime","prefixPath","documentId"],Lg="remoteDocumentGlobal",lD="remoteDocumentGlobalKey",zu="targets",dAe="targetId",tH="queryTargetsIndex",fAe=["canonicalId","targetId"],ju="targetDocuments",gAe=["targetId","path"],$R="documentTargetsIndex",pAe=["path","targetId"],OI="targetGlobalKey",Il="targetGlobal",ug="collectionParents",EAe=["collectionId","parent"],Ru="clientMetadata",mAe="clientId",vy="bundles",CAe="bundleId",Sy="namedQueries",IAe="name",eT="indexConfiguration",yAe="indexId",cD="collectionGroupIndex",BAe="collectionGroup",tT="indexState",QAe=["indexId","uid"],nH="sequenceNumberIndex",wAe=["uid","sequenceNumber"],nT="indexEntries",_Ae=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rH="documentKeyIndex",vAe=["indexId","uid","orderedDocumentKey"],by="documentOverlays",SAe=["userId","collectionPath","documentId"],uD="collectionPathOverlayIndex",bAe=["userId","collectionPath","largestBatchId"],iH="collectionGroupOverlayIndex",DAe=["userId","collectionGroup","largestBatchId"],RAe=[Mg,Xi,Ju,ZA,zu,xg,Il,ju],TAe=RAe,kAe=[...TAe,Ru],NAe=[...kAe,Lg],FAe=[...NAe,ug],sH=[...FAe,vy,Sy],xAe=[...sH,by],oH=[Mg,Xi,Ju,_y,zu,xg,Il,ju,Ru,Lg,ug,vy,Sy,by],aH=oH,MAe=[...aH,eT,tT,nT];function LAe(t){if(t===15)return MAe;if(t===14)return aH;if(t===13)return oH;if(t===12)return xAe;if(t===11)return sH;W()}var hg=class extends MI{constructor(e,n){super(),this.simpleDbTransaction=e,this.currentSequenceNumber=n}};function In(t,e){let n=H(t);return bo.getStore(n.simpleDbTransaction,e)}function Lq(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yl(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AH(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var pt=class t{constructor(e,n){this.comparator=e,this.root=n||sg.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sg.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sg.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}},wu=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)this.isReverse?e=e.left:e=e.right;else if(s===0){this.nodeStack.push(e);break}else this.nodeStack.push(e),this.isReverse?e=e.right:e=e.left}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sg=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let n=this;return!n.left.isRed()&&!n.left.left.isRed()&&(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let i,s=this;if(r(n,s.key)<0)!s.left.isEmpty()&&!s.left.isRed()&&!s.left.left.isRed()&&(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(n,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),!s.right.isEmpty()&&!s.right.isRed()&&!s.right.left.isRed()&&(s=s.moveRedRight()),r(n,s.key)===0){if(s.right.isEmpty())return t.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(n,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){let n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let n=this.left.check();if(n!==this.right.check())throw W();return n+(this.isRed()?0:1)}}return t.EMPTY=null,t.RED=!0,t.BLACK=!1,t})(),hD=class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,s){return this}insert(e,n,r){return new sg(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};sg.EMPTY=new hD;var ot=class t{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(n!==void 0?r=this.data.getIteratorFrom(n):r=this.data.getIterator();r.hasNext();){let i=r.getNext();if(!e(i.key))return}}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UI(this.data.getIterator())}getIteratorFrom(e){return new UI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},UI=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function OAe(t,e,n,r,i){let s=t.getIterator(),o=e.getIterator(),a=fu(s),A=fu(o);for(;a||A;){let l=!1,c=!1;if(a&&A){let u=n(a,A);u<0?c=!0:u>0&&(l=!0)}else a!=null?c=!0:l=!0;l?(r(A),A=fu(o)):c?(i(a),a=fu(s)):(a=fu(s),A=fu(o))}}function fu(t){return t.hasNext()?t.getNext():void 0}var Pr=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ot(zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(n,r)=>n.isEqual(r))}};function UAe(t){return Buffer.from(t,"base64").toString("binary")}function PAe(t){return Buffer.from(t,"binary").toString("base64")}function lH(){return!0}var Cn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=UAe(e);return new t(n)}static fromUint8Array(e){let n=VAe(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return PAe(this.binaryString)}toUint8Array(){return qAe(this.binaryString)}approximateByteSize(){return this.binaryString.length*2}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Cn.EMPTY_BYTE_STRING=new Cn("");function VAe(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}function qAe(t){let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var GAe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(t){if(X(!!t),typeof t=="string"){let e=0,n=GAe.exec(t);if(X(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}else{let e=Ot(t.seconds),n=Ot(t.nanos);return{seconds:e,nanos:n}}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ha(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}var cH="server_timestamp",uH="__type__",hH="__previous_value__",dH="__local_write_time__";function Dy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[uH])===null||n===void 0?void 0:n.stringValue)===cH}function HAe(t,e){let n={fields:{[uH]:{stringValue:cH},[dH]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Dy(e)&&(e=rT(e)),e&&(n.fields[hH]=e),{mapValue:n}}function rT(t){let e=t.mapValue.fields[hH];return Dy(e)?rT(e):e}function dg(t){let e=Ga(t.mapValue.fields[dH].timestampValue);return new Tt(e.seconds,e.nanos)}var dD=class{constructor(e,n,r,i,s,o,a,A,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=A,this.useFetchStreams=l}},Oq="(default)",Ya=class t{constructor(e,n){this.projectId=e,this.database=n||Oq}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Oq}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function YAe(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new R(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(t.options.projectId,e)}var Va=-1;function Og(t){return t==null}function fg(t){return t===0&&1/t===-1/0}function fH(t){return typeof t=="number"&&Number.isInteger(t)&&!fg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gH="__max__",Ua={mapValue:{fields:{__type__:{stringValue:gH}}}},DI={nullValue:"NULL_VALUE"};function Al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dy(t)?4:pH(t)?9007199254740991:10:W()}function Zi(t,e){if(t===e)return!0;let n=Al(t),r=Al(e);if(n!==r)return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dg(t).isEqual(dg(e));case 3:return WAe(t,e);case 5:return t.stringValue===e.stringValue;case 6:return zAe(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return JAe(t,e);case 2:return jAe(t,e);case 9:return ol(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:return KAe(t,e);case 9007199254740991:return!0;default:return W()}}function WAe(t,e){if(typeof t.timestampValue=="string"&&typeof e.timestampValue=="string"&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;let n=Ga(t.timestampValue),r=Ga(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}function JAe(t,e){return Ot(t.geoPointValue.latitude)===Ot(e.geoPointValue.latitude)&&Ot(t.geoPointValue.longitude)===Ot(e.geoPointValue.longitude)}function zAe(t,e){return Ha(t.bytesValue).isEqual(Ha(e.bytesValue))}function jAe(t,e){if("integerValue"in t&&"integerValue"in e)return Ot(t.integerValue)===Ot(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){let n=Ot(t.doubleValue),r=Ot(e.doubleValue);return n===r?fg(n)===fg(r):isNaN(n)&&isNaN(r)}return!1}function KAe(t,e){let n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Lq(n)!==Lq(r))return!1;for(let i in n)if(n.hasOwnProperty(i)&&(r[i]===void 0||!Zi(n[i],r[i])))return!1;return!0}function gg(t,e){return(t.values||[]).find(n=>Zi(n,e))!==void 0}function Wa(t,e){if(t===e)return 0;let n=Al(t),r=Al(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return XAe(t,e);case 3:return Uq(t.timestampValue,e.timestampValue);case 4:return Uq(dg(t),dg(e));case 5:return me(t.stringValue,e.stringValue);case 6:return ele(t.bytesValue,e.bytesValue);case 7:return ZAe(t.referenceValue,e.referenceValue);case 8:return $Ae(t.geoPointValue,e.geoPointValue);case 9:return tle(t.arrayValue,e.arrayValue);case 10:return nle(t.mapValue,e.mapValue);default:throw W()}}function XAe(t,e){let n=Ot(t.integerValue||t.doubleValue),r=Ot(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}function Uq(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=Ga(t),r=Ga(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function ZAe(t,e){let n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){let s=me(n[i],r[i]);if(s!==0)return s}return me(n.length,r.length)}function $Ae(t,e){let n=me(Ot(t.latitude),Ot(e.latitude));return n!==0?n:me(Ot(t.longitude),Ot(e.longitude))}function ele(t,e){let n=Ha(t),r=Ha(e);return n.compareTo(r)}function tle(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Wa(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function nle(t,e){if(t===Ua.mapValue&&e===Ua.mapValue)return 0;if(t===Ua.mapValue)return 1;if(e===Ua.mapValue)return-1;let n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){let a=me(r[o],s[o]);if(a!==0)return a;let A=Wa(n[r[o]],i[s[o]]);if(A!==0)return A}return me(r.length,s.length)}function Tu(t){return iT(t)}function iT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?ile(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?rle(t.bytesValue):"referenceValue"in t?ole(t.referenceValue):"geoPointValue"in t?sle(t.geoPointValue):"arrayValue"in t?Ale(t.arrayValue):"mapValue"in t?ale(t.mapValue):W()}function rle(t){return Ha(t).toBase64()}function ile(t){let e=Ga(t);return`time(${e.seconds},${e.nanos})`}function sle(t){return`geo(${t.latitude},${t.longitude})`}function ole(t){return V.fromName(t).toString()}function ale(t){let e=Object.keys(t.fields||{}).sort(),n="{",r=!0;for(let i of e)r?r=!1:n+=",",n+=`${i}:${iT(t.fields[i])}`;return n+"}"}function Ale(t){let e="[",n=!0;for(let r of t.values||[])n?n=!1:e+=",",e+=iT(r);return e+"]"}function ll(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fD(t){return!!t&&"integerValue"in t}function lle(t){return!!t&&"doubleValue"in t}function cle(t){return fD(t)||lle(t)}function pg(t){return!!t&&"arrayValue"in t}function Pq(t){return!!t&&"nullValue"in t}function Vq(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function RI(t){return!!t&&"mapValue"in t}function og(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return yl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=og(r)),e}else if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=og(t.arrayValue.values[n]);return e}else return Object.assign({},t)}function pH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gH}function ule(t){return"nullValue"in t?DI:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ll(Ya.empty(),V.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:W()}function hle(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ll(Ya.empty(),V.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ua:W()}function qq(t,e){let n=Wa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Gq(t,e){let n=Wa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Wn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!RI(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){let r=this.getFieldsMap(e.popLast());r[e.lastSegment()]=og(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let A=this.getFieldsMap(n);this.applyChanges(A,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=og(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());RI(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];(!RI(i)||!i.mapValue.fields)&&(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yl(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(og(this.value))}};function EH(t){let e=[];return yl(t.fields,(n,r)=>{let i=new zt([n]);if(RI(r)){let o=EH(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new Pr(e)}var en=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return this.createTime.isEqual(ne.min())&&(this.documentType===2||this.documentType===0)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};function dle(t,e,n){let r=e.data.field(t),i=n.data.field(t);return r!==null&&i!==null?Wa(r,i):W()}var qs=class{constructor(e,n){this.position=e,this.inclusive=n}};function mH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField())r=V.comparator(V.fromName(o.referenceValue),n.key);else{let a=n.data.field(s.field);r=Wa(o,a)}if(s.dir==="desc"&&(r=r*-1),r!==0)break}return r}function fle(t,e,n){let r=mH(t,e,n);return t.inclusive?r>=0:r>0}function gle(t,e,n){let r=mH(t,e,n);return t.inclusive?r<=0:r<0}function Hq(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++){let r=t.position[n],i=e.position[n];if(!Zi(r,i))return!1}return!0}var cl=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function ple(t){return t.field.canonicalString()+t.dir}function Ele(t){return`${t.field.canonicalString()} (${t.dir})`}function mle(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var PI=class{},Ne=class t extends PI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ED(e,n,r):n==="array-contains"?new ID(e,r):n==="in"?new VI(e,r):n==="not-in"?new yD(e,r):n==="array-contains-any"?new BD(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mD(e,r):new CD(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&Al(this.value)===Al(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},et=class t extends PI{constructor(e,n){super(),this.filters=e,this.op=n,this.memoizedFlattenedFilters=null}static create(e,n){return new t(e,n)}matches(e){return ku(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}getFilters(){return Object.assign([],this.filters)}};function ku(t){return t.op==="and"}function gD(t){return t.op==="or"}function sT(t){return CH(t)&&ku(t)}function CH(t){for(let e of t.filters)if(e instanceof et)return!1;return!0}function pD(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+Tu(t.value);if(sT(t))return t.filters.map(e=>pD(e)).join(",");{let e=t.filters.map(n=>pD(n)).join(",");return`${t.op}(${e})`}}function IH(t,e){if(t instanceof Ne)return Cle(t,e);if(t instanceof et)return Ile(t,e);W()}function Cle(t,e){return e instanceof Ne&&t.op===e.op&&t.field.isEqual(e.field)&&Zi(t.value,e.value)}function Ile(t,e){return e instanceof et&&t.op===e.op&&t.filters.length===e.filters.length?t.filters.reduce((r,i,s)=>r&&IH(i,e.filters[s]),!0):!1}function yH(t,e){let n=t.filters.concat(e);return et.create(n,t.op)}function BH(t){return t instanceof Ne?Ble(t):t instanceof et?yle(t):"Filter"}function yle(t){return t.op.toString()+" {"+t.getFilters().map(BH).join(" ,")+"}"}function Ble(t){return`${t.field.canonicalString()} ${t.op} ${Tu(t.value)}`}var ED=class extends Ne{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){let n=V.comparator(e.key,this.key);return this.matchesComparison(n)}},mD=class extends Ne{constructor(e,n){super(e,"in",n),this.keys=QH("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},CD=class extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=QH("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function QH(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}var ID=class extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return pg(n)&&gg(n.arrayValue,this.value)}},VI=class extends Ne{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&gg(this.value.arrayValue,n)}},yD=class extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(gg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!gg(this.value.arrayValue,n)}},BD=class extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!pg(n)||!n.arrayValue.values?!1:n.arrayValue.values.some(r=>gg(this.value.arrayValue,r))}};var QD=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}};function wD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QD(t,e,n,r,i,s,o)}function ul(t){let e=H(t);if(e.memoizedCanonicalId===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>ple(r)).join(","),Og(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tu(r)).join(",")),e.memoizedCanonicalId=n}return e.memoizedCanonicalId}function Qle(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>BH(n)).join(", ")}]`),Og(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>Ele(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Tu(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Tu(n)).join(",")),`Target(${e})`}function Ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mle(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup!==e.collectionGroup||!t.path.isEqual(e.path)||!Hq(t.startAt,e.startAt)?!1:Hq(t.endAt,e.endAt)}function qI(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ry(t,e){return t.filters.filter(n=>n instanceof Ne&&n.field.isEqual(e))}function wle(t,e){let n=KR(e);if(n===void 0)return null;for(let r of Ry(t,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}function _le(t,e){let n=new Map;for(let r of al(e))for(let i of Ry(t,r.fieldPath))switch(i.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),i.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),i.value),Array.from(n.values())}return null}function vle(t,e){let n=[],r=!0;for(let i of al(e)){let s=i.kind===0?wH(t,i.fieldPath,t.startAt):_H(t,i.fieldPath,t.startAt);n.push(s.value),r&&(r=s.inclusive)}return new qs(n,r)}function Sle(t,e){let n=[],r=!0;for(let i of al(e)){let s=i.kind===0?_H(t,i.fieldPath,t.endAt):wH(t,i.fieldPath,t.endAt);n.push(s.value),r&&(r=s.inclusive)}return new qs(n,r)}function wH(t,e,n){let r=DI,i=!0;for(let s of Ry(t,e)){let o=DI,a=!0;switch(s.op){case"<":case"<=":o=ule(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=DI;break}qq({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let a=n.position[s];qq({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function _H(t,e,n){let r=Ua,i=!0;for(let s of Ry(t,e)){let o=Ua,a=!0;switch(s.op){case">=":case">":o=hle(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ua;break}Gq({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let a=n.position[s];Gq({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function ble(t){let e=new ot(zt.comparator),n=!1;for(let r of t.filters)for(let i of r.getFlattenedFilters())i.field.isKeyField()||(i.op==="array-contains"||i.op==="array-contains-any"?n=!0:e=e.add(i.field));for(let r of t.orderBy)r.field.isKeyField()||(e=e.add(r.field));return e.size+(n?1:0)}function Dle(t){return t.limit!==null}var $i=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,A=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=A,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}};function vH(t,e,n,r,i,s,o,a){return new $i(t,e,n,r,i,s,o,a)}function Ku(t){return new $i(t)}function Rle(t,e){return new $i(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Yq(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Tle(t){let e=new ot(zt.comparator);return t.filters.forEach(n=>{n.getFlattenedFilters().forEach(i=>{i.isInequality()&&(e=e.add(i.field))})}),e}function kle(t){return new $i(Me.emptyPath(),t)}function Nle(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function oT(t){return t.collectionGroup!==null}function Nu(t){let e=H(t);if(e.memoizedNormalizedOrderBy===null){e.memoizedNormalizedOrderBy=[];let n=new Set;for(let s of e.explicitOrderBy)e.memoizedNormalizedOrderBy.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";Tle(e).forEach(s=>{!n.has(s.canonicalString())&&!s.isKeyField()&&e.memoizedNormalizedOrderBy.push(new cl(s,r))}),n.has(zt.keyField().canonicalString())||e.memoizedNormalizedOrderBy.push(new cl(zt.keyField(),r))}return e.memoizedNormalizedOrderBy}function ir(t){let e=H(t);return e.memoizedTarget||(e.memoizedTarget=Fle(e,Nu(t))),e.memoizedTarget}function Fle(t,e){if(t.limitType==="F")return wD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new cl(i.field,s)});let n=t.endAt?new qs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qs(t.startAt.position,t.startAt.inclusive):null;return wD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function aT(t,e){let n=t.filters.concat([e]);return new $i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xle(t,e){let n=t.explicitOrderBy.concat([e]);return new $i(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function GI(t,e,n){return new $i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mle(t,e){return new $i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function Lle(t,e){return new $i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function Pg(t,e){return Ug(ir(t),ir(e))&&t.limitType===e.limitType}function SH(t){return`${ul(ir(t))}|lt:${t.limitType}`}function yu(t){return`Query(target=${Qle(ir(t))}; limitType=${t.limitType})`}function Vg(t,e){return e.isFoundDocument()&&Ole(t,e)&&Ule(t,e)&&Ple(t,e)&&Vle(t,e)}function Ole(t,e){let n=e.key.path;return t.collectionGroup!==null?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):V.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}function Ule(t,e){for(let n of Nu(t))if(!n.field.isKeyField()&&e.data.field(n.field)===null)return!1;return!0}function Ple(t,e){for(let n of t.filters)if(!n.matches(e))return!1;return!0}function Vle(t,e){return!(t.startAt&&!gle(t.startAt,Nu(t),e)||t.endAt&&!fle(t.endAt,Nu(t),e))}function bH(t){return t.collectionGroup||(t.path.length%2===1?t.path.lastSegment():t.path.get(t.path.length-2))}function DH(t){return(e,n)=>{let r=!1;for(let i of Nu(t)){let s=qle(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qle(t,e,n){let r=t.field.isKeyField()?V.comparator(e.key,n.key):dle(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var Gs=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0){this.inner[r]=[[e,n]],this.innerSize++;return}for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e)){i[s]=[e,n];return}i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return AH(this.inner)}size(){return this.innerSize}};var Gle=new pt(V.comparator);function Qr(){return Gle}var RH=new pt(V.comparator);function ng(...t){let e=RH;for(let n of t)e=e.insert(n.key,n);return e}function Hle(){return Eg()}function TH(t){let e=RH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Us(){return Eg()}function kH(){return Eg()}function Eg(){return new Gs(t=>t.toString(),(t,e)=>t.isEqual(e))}var Yle=new pt(V.comparator);function Wle(){return Yle}var Jle=new ot(V.comparator);function Ie(...t){let e=Jle;for(let n of t)e=e.add(n);return e}var zle=new ot(me);function AT(){return zle}function NH(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fg(e)?"-0":e}}function FH(t){return{integerValue:""+t}}function xH(t,e){return fH(e)?FH(e):NH(t,e)}var Fu=class{constructor(){this._=void 0}};function jle(t,e,n){return t instanceof Ja?HAe(n,e):t instanceof Do?LH(t,e):t instanceof Ro?OH(t,e):Zle(t,e)}function Kle(t,e,n){return t instanceof Do?LH(t,e):t instanceof Ro?OH(t,e):n}function MH(t,e){return t instanceof za?cle(e)?e:{integerValue:0}:null}function Xle(t,e){return t instanceof Do&&e instanceof Do||t instanceof Ro&&e instanceof Ro?ol(t.elements,e.elements,Zi):t instanceof za&&e instanceof za?Zi(t.operand,e.operand):t instanceof Ja&&e instanceof Ja}var Ja=class extends Fu{},Do=class extends Fu{constructor(e){super(),this.elements=e}};function LH(t,e){let n=UH(e);for(let r of t.elements)n.some(i=>Zi(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ro=class extends Fu{constructor(e){super(),this.elements=e}};function OH(t,e){let n=UH(e);for(let r of t.elements)n=n.filter(i=>!Zi(i,r));return{arrayValue:{values:n}}}var za=class extends Fu{constructor(e,n){super(),this.serializer=e,this.operand=n}};function Zle(t,e){let n=MH(t,e),r=Wq(n)+Wq(t.operand);return fD(n)&&fD(t.operand)?FH(r):NH(t.serializer,r)}function Wq(t){return Ot(t.integerValue||t.doubleValue)}function UH(t){return pg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var hl=class{constructor(e,n){this.field=e,this.transform=n}};function $le(t,e){return t.field.isEqual(e.field)&&Xle(t.transform,e.transform)}function ece(t,e){return t===void 0&&e===void 0?!0:t&&e?ol(t,e,(n,r)=>$le(n,r)):!1}var _D=class{constructor(e,n){this.version=e,this.transformResults=n}},Lt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ty(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists!==void 0?t.exists===e.isFoundDocument():!0}var xu=class{};function PH(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ka(t.key,Lt.none()):new ja(t.key,t.data,Lt.none());{let n=t.data,r=Wn.empty(),i=new ot(zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new es(t.key,r,new Pr(i.toArray()),Lt.none())}}function tce(t,e,n){t instanceof ja?rce(t,e,n):t instanceof es?sce(t,e,n):ace(t,e,n)}function ag(t,e,n,r){return t instanceof ja?ice(t,e,n,r):t instanceof es?oce(t,e,n,r):Ace(t,e,n)}function nce(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=MH(r.transform,i||null);s!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,s))}return n||null}function Jq(t,e){return t.type!==e.type||!t.key.isEqual(e.key)||!t.precondition.isEqual(e.precondition)||!ece(t.fieldTransforms,e.fieldTransforms)?!1:t.type===0?t.value.isEqual(e.value):t.type===1?t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask):!0}var ja=class extends xu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}};function rce(t,e,n){let r=t.value.clone(),i=qH(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}function ice(t,e,n,r){if(!Ty(t.precondition,e))return n;let i=t.value.clone(),s=GH(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}var es=class extends xu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function sce(t,e,n){if(!Ty(t.precondition,e)){e.convertToUnknownDocument(n.version);return}let r=qH(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(VH(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}function oce(t,e,n,r){if(!Ty(t.precondition,e))return n;let i=GH(t.fieldTransforms,r,e),s=e.data;return s.setAll(VH(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),n===null?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(o=>o.field))}function VH(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function qH(t,e,n){let r=new Map;X(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Kle(o,a,n[i]))}return r}function GH(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,jle(s,o,e))}return r}var Ka=class extends xu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};function ace(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ace(t,e,n){return Ty(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}var mg=class extends xu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Cg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];if(s.key.isEqual(e.key)){let o=r[i];tce(s,e,o)}}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ag(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ag(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kH();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let A=PH(o,a);A!==null&&r.set(i.key,A),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(n,r)=>Jq(n,r))&&ol(this.baseMutations,e.baseMutations,(n,r)=>Jq(n,r))}},vD=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){X(e.mutations.length===r.length);let i=Wle(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Ig=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var SD=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var mn=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}(mn||{});function HH(t){switch(t){case v.OK:return W();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0;default:return W()}}function lce(t){return HH(t)&&t!==v.ABORTED}function TI(t){if(t===void 0)return Rt("GRPC error has no .code"),v.UNKNOWN;switch(t){case mn.OK:return v.OK;case mn.CANCELLED:return v.CANCELLED;case mn.UNKNOWN:return v.UNKNOWN;case mn.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case mn.INTERNAL:return v.INTERNAL;case mn.UNAVAILABLE:return v.UNAVAILABLE;case mn.UNAUTHENTICATED:return v.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case mn.NOT_FOUND:return v.NOT_FOUND;case mn.ALREADY_EXISTS:return v.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return v.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case mn.ABORTED:return v.ABORTED;case mn.OUT_OF_RANGE:return v.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return v.UNIMPLEMENTED;case mn.DATA_LOSS:return v.DATA_LOSS;default:return W()}}var bD=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Vb=null;function YH(){return new Hae}function cce(){return new Yae("utf-8")}var uce=new UA([4294967295,4294967295],0);function zq(t){let e=YH().encode(t),n=new tU;return n.update(e),new Uint8Array(n.digest())}function jq(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0),o=new UA([n,r],0),a=new UA([i,s],0);return[o,a]}var DD=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rl(`Invalid padding: ${n}`);if(r<0)throw new rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rl(`Invalid padding when bitmap length is 0: ${n}`);this.bitCount=e.length*8-n,this.bitCountInInteger=UA.fromNumber(this.bitCount)}getBitIndex(e,n,r){let i=e.add(n.multiply(UA.fromNumber(r)));return i.compare(uce)===1&&(i=new UA([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){let n=this.bitmap[Math.floor(e/8)],r=e%8;return(n&1<<r)!==0}mightContain(e){if(this.bitCount===0)return!1;let n=zq(e),[r,i]=jq(n);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);if(!this.isBitSet(o))return!1}return!0}static create(e,n,r){let i=e%8===0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.bitCount===0)return;let n=zq(e),[r,i]=jq(n);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);this.setBit(o)}}setBit(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},rl=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var yg=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Bg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new pt(me),Qr(),Ie())}},Bg=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ie(),Ie(),Ie())}};var bu=class{constructor(e,n,r,i){this.updatedTargetIds=e,this.removedTargetIds=n,this.key=r,this.newDoc=i}},HI=class{constructor(e,n){this.targetId=e,this.existenceFilter=n}},YI=class{constructor(e,n,r=Cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},WI=class{constructor(){this.pendingResponses=0,this.documentChanges=Xq(),this._resumeToken=Cn.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return this.pendingResponses!==0}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=Ie(),n=Ie(),r=Ie();return this.documentChanges.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new Bg(this._resumeToken,this._current,e,n,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=Xq()}addDocumentChange(e,n){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,n)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,X(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}},hce="WatchChangeAggregator",RD=class{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=Qr(),this.pendingDocumentTargetMapping=Kq(),this.pendingTargetResets=new pt(me)}handleDocumentChange(e){for(let n of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(n,e.newDoc):this.removeDocumentFromTarget(n,e.key,e.newDoc);for(let n of e.removedTargetIds)this.removeDocumentFromTarget(n,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,n=>{let r=this.ensureTargetState(n);switch(e.state){case 0:this.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(n);break;case 3:this.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(n)&&(this.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.targetStates.forEach((r,i)=>{this.isActiveTarget(i)&&n(i)})}handleExistenceFilter(e){let n=e.targetId,r=e.existenceFilter.count,i=this.targetDataForActiveTarget(n);if(i){let s=i.target;if(qI(s))if(r===0){let o=new V(s.path);this.removeDocumentFromTarget(n,o,en.newNoDocument(o,ne.min()))}else X(r===1);else{let o=this.getCurrentDocumentCountForTarget(n);if(o!==r){let a=this.parseBloomFilter(e),A=a?this.applyBloomFilter(a,e,o):1;if(A!==0){this.resetTarget(n);let l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(n,l)}Vb?.notifyOnExistenceFilterMismatch(dce(o,e.existenceFilter,this.metadataProvider.getDatabaseId(),a,A))}}}}parseBloomFilter(e){let n=e.existenceFilter.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o;try{o=Ha(r).toUint8Array()}catch(A){if(A instanceof bD)return wi("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}let a;try{a=new DD(o,i,s)}catch(A){return A instanceof rl?wi("BloomFilter error: ",A):wi("Applying bloom filter failed: ",A),null}return a.bitCount===0?null:a}applyBloomFilter(e,n,r){let i=n.existenceFilter.count,s=this.filterRemovedDocuments(e,n.targetId);return i===r-s?0:2}filterRemovedDocuments(e,n){let r=this.metadataProvider.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.metadataProvider.getDatabaseId(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.removeDocumentFromTarget(n,s,null),i++)}),i}createRemoteEvent(e){let n=new Map;this.targetStates.forEach((s,o)=>{let a=this.targetDataForActiveTarget(o);if(a){if(s.current&&qI(a.target)){let A=new V(a.target.path);this.pendingDocumentUpdates.get(A)===null&&!this.targetContainsDocument(o,A)&&this.removeDocumentFromTarget(o,A,en.newNoDocument(A,e))}s.hasPendingChanges&&(n.set(o,s.toTargetChange()),s.clearPendingChanges())}});let r=Ie();this.pendingDocumentTargetMapping.forEach((s,o)=>{let a=!0;o.forEachWhile(A=>{let l=this.targetDataForActiveTarget(A);return l&&l.purpose!=="TargetPurposeLimboResolution"?(a=!1,!1):!0}),a&&(r=r.add(s))}),this.pendingDocumentUpdates.forEach((s,o)=>o.setReadTime(e));let i=new yg(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Qr(),this.pendingDocumentTargetMapping=Kq(),this.pendingTargetResets=new pt(me),i}addDocumentToTarget(e,n){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,n.key)?2:0;this.ensureTargetState(e).addDocumentChange(n.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(n.key,n),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(n.key,this.ensureDocumentTargetMapping(n.key).add(e))}removeDocumentFromTarget(e,n,r){if(!this.isActiveTarget(e))return;let i=this.ensureTargetState(e);this.targetContainsDocument(e,n)?i.addDocumentChange(n,1):i.removeDocumentChange(n),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(n,this.ensureDocumentTargetMapping(n).delete(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(n,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let r=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let n=this.targetStates.get(e);return n||(n=new WI,this.targetStates.set(e,n)),n}ensureDocumentTargetMapping(e){let n=this.pendingDocumentTargetMapping.get(e);return n||(n=new ot(me),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,n)),n}isActiveTarget(e){let n=this.targetDataForActiveTarget(e)!==null;return n||F(hce,"Detected inactive target",e),n}targetDataForActiveTarget(e){let n=this.targetStates.get(e);return n&&n.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new WI),this.metadataProvider.getRemoteKeysForTarget(e).forEach(r=>{this.removeDocumentFromTarget(e,r,null)})}targetContainsDocument(e,n){return this.metadataProvider.getRemoteKeysForTarget(e).has(n)}};function Kq(){return new pt(V.comparator)}function Xq(){return new pt(V.comparator)}function dce(t,e,n,r,i){var s,o,a,A,l,c;let u={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},h=e.unchangedNames;return h&&(u.bloomFilter={applied:i===0,hashCount:(s=h?.hashCount)!==null&&s!==void 0?s:0,bitmapLength:(A=(a=(o=h?.bits)===null||o===void 0?void 0:o.bitmap)===null||a===void 0?void 0:a.length)!==null&&A!==void 0?A:0,padding:(c=(l=h?.bits)===null||l===void 0?void 0:l.padding)!==null&&c!==void 0?c:0,mightContain:d=>{var f;return(f=r?.mightContain(d))!==null&&f!==void 0?f:!1}}),u}var fce=(()=>{let t={};return t.asc="ASCENDING",t.desc="DESCENDING",t})(),gce=(()=>{let t={};return t["<"]="LESS_THAN",t["<="]="LESS_THAN_OR_EQUAL",t[">"]="GREATER_THAN",t[">="]="GREATER_THAN_OR_EQUAL",t["=="]="EQUAL",t["!="]="NOT_EQUAL",t["array-contains"]="ARRAY_CONTAINS",t.in="IN",t["not-in"]="NOT_IN",t["array-contains-any"]="ARRAY_CONTAINS_ANY",t})(),pce=(()=>{let t={};return t.and="AND",t.or="OR",t})();var TD=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ece(t){let e=t.code===void 0?v.UNKNOWN:TI(t.code);return new R(e,t.message||"")}function kD(t,e){return t.useProto3Json||Og(e)?e:{value:e}}function mce(t){let e;return typeof t=="object"?e=t.value:e=t,Og(e)?null:e}function Mu(t,e){if(t.useProto3Json){let r=new Date(e.seconds*1e3).toISOString().replace(/\.\d*/,"").replace("Z",""),i=("000000000"+e.nanoseconds).slice(-9);return`${r}.${i}Z`}else return{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cce(t){let e=Ga(t);return new Tt(e.seconds,e.nanos)}function WH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ice(t,e){return t.useProto3Json?(X(e===void 0||typeof e=="string"),Cn.fromBase64String(e||"")):(X(e===void 0||e instanceof Uint8Array),Cn.fromUint8Array(e||new Uint8Array))}function yce(t,e){return Mu(t,e.toTimestamp())}function Jt(t){return X(!!t),ne.fromTimestamp(Cce(t))}function lT(t,e){return ND(t,e).canonicalString()}function ND(t,e){let n=Bce(t).child("documents");return e===void 0?n:n.child(e)}function JH(t){let e=Me.fromString(t);return X(rY(e)),e}function Qg(t,e){return lT(t.databaseId,e.path)}function Ps(t,e){let n=JH(e);if(n.get(1)!==t.databaseId.projectId)throw new R(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new R(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(KH(n))}function zH(t,e){return lT(t.databaseId,e)}function jH(t){let e=JH(t);return e.length===4?Me.emptyPath():KH(e)}function FD(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bce(t){return new Me(["projects",t.projectId,"databases",t.database])}function KH(t){return X(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zq(t,e,n){return{name:Qg(t,e),fields:n.value.mapValue.fields}}function Qce(t,e){return{name:Qg(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Mu(t,e.version.toTimestamp()),createTime:Mu(t,e.createTime.toTimestamp())}}function XH(t,e,n){let r=Ps(t,e.name),i=Jt(e.updateTime),s=e.createTime?Jt(e.createTime):ne.min(),o=new Wn({mapValue:{fields:e.fields}}),a=en.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function wce(t,e){X(!!e.found),e.found.name,e.found.updateTime;let n=Ps(t,e.found.name),r=Jt(e.found.updateTime),i=e.found.createTime?Jt(e.found.createTime):ne.min(),s=new Wn({mapValue:{fields:e.found.fields}});return en.newFoundDocument(n,r,i,s)}function _ce(t,e){X(!!e.missing),X(!!e.readTime);let n=Ps(t,e.missing),r=Jt(e.readTime);return en.newNoDocument(n,r)}function vce(t,e){return"found"in e?wce(t,e):"missing"in e?_ce(t,e):W()}function Sce(t,e){let n;if("targetChange"in e){e.targetChange;let r=bce(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=Ice(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&Ece(o);n=new YI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ps(t,r.document.name),s=Jt(r.document.updateTime),o=r.document.createTime?Jt(r.document.createTime):ne.min(),a=new Wn({mapValue:{fields:r.document.fields}}),A=en.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new bu(l,c,A.key,A)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ps(t,r.document),s=r.readTime?Jt(r.readTime):ne.min(),o=en.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ps(t,r.document),s=r.removedTargetIds||[];n=new bu([],s,i,null)}else if("filter"in e){e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new SD(i,s),a=r.targetId;n=new HI(a,o)}else return W();return n}function bce(t){return t==="NO_CHANGE"?0:t==="ADD"?1:t==="REMOVE"?2:t==="CURRENT"?3:t==="RESET"?4:W()}function Dce(t){if(!("targetChange"in t))return ne.min();let e=t.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?ne.min():Jt(e.readTime)}function wg(t,e){let n;if(e instanceof ja)n={update:Zq(t,e.key,e.value)};else if(e instanceof Ka)n={delete:Qg(t,e.key)};else if(e instanceof es)n={update:Zq(t,e.key,e.data),updateMask:Aue(e.fieldMask)};else if(e instanceof mg)n={verify:Qg(t,e.key)};else return W();return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>Fce(t,r))),e.precondition.isNone||(n.currentDocument=Rce(t,e.precondition)),n}function xD(t,e){let n=e.currentDocument?Tce(e.currentDocument):Lt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>xce(t,i)):[];if(e.update){e.update.name;let i=Ps(t,e.update.name),s=new Wn({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=lue(e.updateMask);return new es(i,s,o,n,r)}else return new ja(i,s,n,r)}else if(e.delete){let i=Ps(t,e.delete);return new Ka(i,n)}else if(e.verify){let i=Ps(t,e.verify);return new mg(i,n)}else return W()}function Rce(t,e){return e.updateTime!==void 0?{updateTime:yce(t,e.updateTime)}:e.exists!==void 0?{exists:e.exists}:W()}function Tce(t){return t.updateTime!==void 0?Lt.updateTime(Jt(t.updateTime)):t.exists!==void 0?Lt.exists(t.exists):Lt.none()}function kce(t,e){let n=t.updateTime?Jt(t.updateTime):Jt(e);return n.isEqual(ne.min())&&(n=Jt(e)),new _D(n,t.transformResults||[])}function Nce(t,e){return t&&t.length>0?(X(e!==void 0),t.map(n=>kce(n,e))):[]}function Fce(t,e){let n=e.transform;if(n instanceof Ja)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Do)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ro)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof za)return{fieldPath:e.field.canonicalString(),increment:n.operand};throw W()}function xce(t,e){let n=null;if("setToServerValue"in e)X(e.setToServerValue==="REQUEST_TIME"),n=new Ja;else if("appendMissingElements"in e){let i=e.appendMissingElements.values||[];n=new Do(i)}else if("removeAllFromArray"in e){let i=e.removeAllFromArray.values||[];n=new Ro(i)}else"increment"in e?n=new za(t,e.increment):W();let r=zt.fromServerFormat(e.fieldPath);return new hl(r,n)}function ZH(t,e){return{documents:[zH(t,e.path)]}}function Mce(t){let e=t.documents.length;X(e===1);let n=t.documents[0];return ir(Ku(jH(n)))}function $H(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zH(t,i);let s=Vce(e.filters);s&&(n.structuredQuery.where=s);let o=Gce(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=kD(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Yce(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Wce(e.endAt)),{queryTarget:n,parent:i}}function eY(t){let e=jH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){X(r===1);let c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=qce(n.where));let o=[];n.orderBy&&(o=Hce(n.orderBy));let a=null;n.limit&&(a=mce(n.limit));let A=null;n.startAt&&(A=Jce(n.startAt));let l=null;return n.endAt&&(l=zce(n.endAt)),vH(e,i,o,s,a,"F",A,l)}function Lce(t){return ir(eY(t))}function Oce(t,e){let n=Uce(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Uce(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}function Pce(t,e){let n,r=e.target;if(qI(r)?n={documents:ZH(t,r)}:n={query:$H(t,r).queryTarget},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=WH(t,e.resumeToken);let i=kD(t,e.expectedCount);i!==null&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(ne.min())>0){n.readTime=Mu(t,e.snapshotVersion.toTimestamp());let i=kD(t,e.expectedCount);i!==null&&(n.expectedCount=i)}return n}function Vce(t){if(t.length!==0)return nY(et.create(t,"and"))}function qce(t){let e=tY(t);return e instanceof et&&sT(e)?e.getFilters():[e]}function tY(t){return t.unaryFilter!==void 0?sue(t):t.fieldFilter!==void 0?oue(t):t.compositeFilter!==void 0?aue(t):W()}function Gce(t){if(t.length!==0)return t.map(e=>tue(e))}function Hce(t){return t.map(e=>nue(e))}function Yce(t){return{before:t.inclusive,values:t.position}}function Wce(t){return{before:!t.inclusive,values:t.position}}function Jce(t){let e=!!t.before,n=t.values||[];return new qs(n,e)}function zce(t){let e=!t.before,n=t.values||[];return new qs(n,e)}function jce(t){return fce[t]}function Kce(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function Xce(t){return gce[t]}function Zce(t){return pce[t]}function $ce(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W();default:return W()}}function eue(t){switch(t){case"AND":return"and";case"OR":return"or";default:return W()}}function Bu(t){return{fieldPath:t.canonicalString()}}function _u(t){return zt.fromServerFormat(t.fieldPath)}function tue(t){return{field:Bu(t.field),direction:jce(t.dir)}}function nue(t){return new cl(_u(t.field),Kce(t.direction))}function nY(t){return t instanceof Ne?iue(t):t instanceof et?rue(t):W()}function rue(t){let e=t.getFilters().map(n=>nY(n));return e.length===1?e[0]:{compositeFilter:{op:Zce(t.op),filters:e}}}function iue(t){if(t.op==="=="){if(Vq(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NAN"}};if(Pq(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vq(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NAN"}};if(Pq(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(t.field),op:Xce(t.op),value:t.value}}}function sue(t){switch(t.unaryFilter.op){case"IS_NAN":let e=_u(t.unaryFilter.field);return Ne.create(e,"==",{doubleValue:NaN});case"IS_NULL":let n=_u(t.unaryFilter.field);return Ne.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=_u(t.unaryFilter.field);return Ne.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=_u(t.unaryFilter.field);return Ne.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W();default:return W()}}function oue(t){return Ne.create(_u(t.fieldFilter.field),$ce(t.fieldFilter.op),t.fieldFilter.value)}function aue(t){return et.create(t.compositeFilter.filters.map(e=>tY(e)),eue(t.compositeFilter.op))}function Aue(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lue(t){let e=t.fieldPaths||[];return new Pr(e.map(n=>zt.fromServerFormat(n)))}function rY(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Lu=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=Cn.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=A}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var JI=class{constructor(e){this.remoteSerializer=e}};function cue(t,e){let n;if(e.document)n=XH(t.remoteSerializer,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=V.fromSegments(e.noDocument.path),i=fl(e.noDocument.readTime);n=en.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else if(e.unknownDocument){let r=V.fromSegments(e.unknownDocument.path),i=fl(e.unknownDocument.version);n=en.newUnknownDocument(r,i)}else return W();return e.readTime&&n.setReadTime(uue(e.readTime)),n}function $q(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ky(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=Qce(t.remoteSerializer,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:dl(e.version)};else if(e.isUnknownDocument())r.unknownDocument={path:n.path.toArray(),version:dl(e.version)};else return W();return r}function ky(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function uue(t){let e=new Tt(t[0],t[1]);return ne.fromTimestamp(e)}function dl(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fl(t){let e=new Tt(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function hue(t,e,n){let r=n.baseMutations.map(s=>wg(t.remoteSerializer,s)),i=n.mutations.map(s=>wg(t.remoteSerializer,s));return{userId:e,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}function $A(t,e){let n=(e.baseMutations||[]).map(s=>xD(t.remoteSerializer,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let A=e.mutations[s+1];o.updateTransforms=A.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>xD(t.remoteSerializer,s)),i=Tt.fromMillis(e.localWriteTimeMs);return new Cg(e.batchId,i,n,r)}function rg(t){let e=fl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?fl(t.lastLimboFreeSnapshotVersion):ne.min(),r;return due(t.query)?r=Mce(t.query):r=Lce(t.query),new Lu(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Cn.fromBase64String(t.resumeToken))}function iY(t,e){let n=dl(e.snapshotVersion),r=dl(e.lastLimboFreeSnapshotVersion),i;qI(e.target)?i=ZH(t.remoteSerializer,e.target):i=$H(t.remoteSerializer,e.target).queryTarget;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ul(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function due(t){return t.documents!==void 0}function fue(t){return{id:t.bundleId,createTime:fl(t.createTime),version:t.version}}function gue(t){return{bundleId:t.id,createTime:dl(Jt(t.createTime)),version:t.version}}function pue(t){return{name:t.name,query:cT(t.bundledQuery),readTime:fl(t.readTime)}}function Eue(t){return{name:t.name,readTime:dl(Jt(t.readTime)),bundledQuery:t.bundledQuery}}function cT(t){let e=eY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?GI(e,e.limit,"L"):e}function mue(t){return{name:t.name,query:cT(t.bundledQuery),readTime:Jt(t.readTime)}}function Cue(t){return{id:t.id,version:t.version,createTime:Jt(t.createTime)}}function qb(t,e){return new Ig(e.largestBatchId,xD(t.remoteSerializer,e.overlayMutation))}function Iue(t,e,n){let[r,i,s]=sY(e,n.mutation.key);return{userId:e,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:wg(t.remoteSerializer,n.mutation)}}function sY(t,e){let n=e.path.lastSegment(),r=rr(e.path.popLast());return[t,r,n]}function yue(t){return{indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}function Bue(t,e){let n=e?new cg(e.sequenceNumber,new _i(fl(e.readTime),new V(Os(e.documentKey)),e.largestBatchId)):cg.empty(),r=t.fields.map(([i,s])=>new vu(zt.fromServerFormat(i),s));return new rD(t.indexId,t.collectionGroup,r,n)}function eG(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:dl(r.readTime),documentKey:rr(r.documentKey.path),largestBatchId:r.largestBatchId}}var MD=class{getBundleMetadata(e,n){return tG(e).get(n).next(r=>{if(r)return fue(r)})}saveBundleMetadata(e,n){return tG(e).put(gue(n))}getNamedQuery(e,n){return nG(e).get(n).next(r=>{if(r)return pue(r)})}saveNamedQuery(e,n){return nG(e).put(Eue(n))}};function tG(t){return In(t,vy)}function nG(t){return In(t,Sy)}var zI=class t{constructor(e,n){this.serializer=e,this.userId=n}static forUser(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return Zf(e).get(sY(this.userId,n)).next(r=>r?qb(this.serializer,r):null)}getOverlays(e,n){let r=Us();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new Ig(n,o);i.push(this.saveOverlay(e,a))}),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(rr(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Zf(e).deleteAll(uD,a))}),Q.waitFor(s)}getOverlaysForCollection(e,n,r){let i=Us(),s=rr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Zf(e).loadAll(uD,o).next(a=>{for(let A of a){let l=qb(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=Us(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Zf(e).iterate({index:iH,range:a},(A,l,c)=>{let u=qb(this.serializer,l);s.size()<i||u.largestBatchId===o?(s.set(u.getKey(),u),o=u.largestBatchId):c.done()}).next(()=>s)}saveOverlay(e,n){return Zf(e).put(Iue(this.serializer,this.userId,n))}};function Zf(t){return In(t,by)}var Que=5,wue=10,_ue=13,rG=15,vue=20,Sue=25,bue=30,Due=37,Rue=45,Tue=50,kue=55,Nue=60,Fue=2,So=class{constructor(){}writeIndexValue(e,n){this.writeIndexValueAux(e,n),n.writeInfinity()}writeIndexValueAux(e,n){if("nullValue"in e)this.writeValueTypeLabel(n,Que);else if("booleanValue"in e)this.writeValueTypeLabel(n,wue),n.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(n,rG),n.writeNumber(Ot(e.integerValue));else if("doubleValue"in e){let r=Ot(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(n,_ue):(this.writeValueTypeLabel(n,rG),fg(r)?n.writeNumber(0):n.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(n,vue),typeof r=="string"?n.writeString(r):(n.writeString(`${r.seconds||""}`),n.writeNumber(r.nanos||0))}else if("stringValue"in e)this.writeIndexString(e.stringValue,n),this.writeTruncationMarker(n);else if("bytesValue"in e)this.writeValueTypeLabel(n,bue),n.writeBytes(Ha(e.bytesValue)),this.writeTruncationMarker(n);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(n,Rue),n.writeNumber(r.latitude||0),n.writeNumber(r.longitude||0)}else"mapValue"in e?pH(e)?this.writeValueTypeLabel(n,Number.MAX_SAFE_INTEGER):(this.writeIndexMap(e.mapValue,n),this.writeTruncationMarker(n)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,n),this.writeTruncationMarker(n)):W()}writeIndexString(e,n){this.writeValueTypeLabel(n,Sue),this.writeUnlabeledIndexString(e,n)}writeUnlabeledIndexString(e,n){n.writeString(e)}writeIndexMap(e,n){let r=e.fields||{};this.writeValueTypeLabel(n,kue);for(let i of Object.keys(r))this.writeIndexString(i,n),this.writeIndexValueAux(r[i],n)}writeIndexArray(e,n){let r=e.values||[];this.writeValueTypeLabel(n,Tue);for(let i of r)this.writeIndexValueAux(i,n)}writeIndexEntityRef(e,n){this.writeValueTypeLabel(n,Due),V.fromName(e).path.forEach(i=>{this.writeValueTypeLabel(n,Nue),this.writeUnlabeledIndexString(i,n)})}writeValueTypeLabel(e,n){e.writeNumber(n)}writeTruncationMarker(e){e.writeNumber(Fue)}};So.INSTANCE=new So;var iG="\uD800",sG="\uDBFF",gu=0,oG=255,aG=1,pu=255,AG=255,lG=0,xue=64,Mue=8,Lue=1024;function Oue(t){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}function Uue(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t=t<<4),t>>6||(e+=2,t=t<<2),t>>7||(e+=1),e}function Pue(t){let e=0;for(let n=0;n<8;++n){let r=Uue(t[n]&255);if(e+=r,r!==8)break}return e}function cG(t){let e=xue-Pue(t);return Math.ceil(e/Mue)}var LD=class{constructor(){this.buffer=new Uint8Array(Lue),this.position=0}writeBytesAscending(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.writeByteAscending(r.value),r=n.next();this.writeSeparatorAscending()}writeBytesDescending(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.writeByteDescending(r.value),r=n.next();this.writeSeparatorDescending()}writeUtf8Ascending(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.writeByteAscending(r);else if(r<2048)this.writeByteAscending(960|r>>>6),this.writeByteAscending(128|63&r);else if(n<iG||sG<n)this.writeByteAscending(480|r>>>12),this.writeByteAscending(128|63&r>>>6),this.writeByteAscending(128|63&r);else{let i=n.codePointAt(0);this.writeByteAscending(240|i>>>18),this.writeByteAscending(128|63&i>>>12),this.writeByteAscending(128|63&i>>>6),this.writeByteAscending(128|63&i)}}this.writeSeparatorAscending()}writeUtf8Descending(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.writeByteDescending(r);else if(r<2048)this.writeByteDescending(960|r>>>6),this.writeByteDescending(128|63&r);else if(n<iG||sG<n)this.writeByteDescending(480|r>>>12),this.writeByteDescending(128|63&r>>>6),this.writeByteDescending(128|63&r);else{let i=n.codePointAt(0);this.writeByteDescending(240|i>>>18),this.writeByteDescending(128|63&i>>>12),this.writeByteDescending(128|63&i>>>6),this.writeByteDescending(128|63&i)}}this.writeSeparatorDescending()}writeNumberAscending(e){let n=this.toOrderedBits(e),r=cG(n);this.ensureAvailable(1+r),this.buffer[this.position++]=r&255;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=n[i]&255}writeNumberDescending(e){let n=this.toOrderedBits(e),r=cG(n);this.ensureAvailable(1+r),this.buffer[this.position++]=~(r&255);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(n[i]&255)}writeInfinityAscending(){this.writeEscapedByteAscending(pu),this.writeEscapedByteAscending(AG)}writeInfinityDescending(){this.writeEscapedByteDescending(pu),this.writeEscapedByteDescending(AG)}reset(){this.position=0}seed(e){this.ensureAvailable(e.length),this.buffer.set(e,this.position),this.position+=e.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(e){let n=Oue(e),r=(n[0]&128)!==0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}writeByteAscending(e){let n=e&255;n===gu?(this.writeEscapedByteAscending(gu),this.writeEscapedByteAscending(oG)):n===pu?(this.writeEscapedByteAscending(pu),this.writeEscapedByteAscending(lG)):this.writeEscapedByteAscending(n)}writeByteDescending(e){let n=e&255;n===gu?(this.writeEscapedByteDescending(gu),this.writeEscapedByteDescending(oG)):n===pu?(this.writeEscapedByteDescending(pu),this.writeEscapedByteDescending(lG)):this.writeEscapedByteDescending(e)}writeSeparatorAscending(){this.writeEscapedByteAscending(gu),this.writeEscapedByteAscending(aG)}writeSeparatorDescending(){this.writeEscapedByteDescending(gu),this.writeEscapedByteDescending(aG)}writeEscapedByteAscending(e){this.ensureAvailable(1),this.buffer[this.position++]=e}writeEscapedByteDescending(e){this.ensureAvailable(1),this.buffer[this.position++]=~e}ensureAvailable(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=this.buffer.length*2;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},OD=class{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesAscending(e)}writeString(e){this.orderedCode.writeUtf8Ascending(e)}writeNumber(e){this.orderedCode.writeNumberAscending(e)}writeInfinity(){this.orderedCode.writeInfinityAscending()}},UD=class{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesDescending(e)}writeString(e){this.orderedCode.writeUtf8Descending(e)}writeNumber(e){this.orderedCode.writeNumberDescending(e)}writeInfinity(){this.orderedCode.writeInfinityDescending()}},el=class{constructor(){this.orderedCode=new LD,this.ascending=new OD(this.orderedCode),this.descending=new UD(this.orderedCode)}seed(e){this.orderedCode.seed(e)}forKind(e){return e===0?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}};var tl=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}successor(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function xa(t,e){let n=t.indexId-e.indexId;return n!==0||(n=uG(t.arrayValue,e.arrayValue),n!==0)||(n=uG(t.directionalValue,e.directionalValue),n!==0)?n:V.comparator(t.documentKey,e.documentKey)}function uG(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var jI=class{constructor(e){this.inequalityFilters=new ot((n,r)=>zt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.orderBys=e.orderBy,this.equalityFilters=[];for(let n of e.filters){let r=n;r.isInequality()?this.inequalityFilters=this.inequalityFilters.add(r):this.equalityFilters.push(r)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(e){if(X(e.collectionGroup===this.collectionId),this.hasMultipleInequality)return!1;let n=KR(e);if(n!==void 0&&!this.hasMatchingEqualityFilter(n))return!1;let r=al(e),i=new Set,s=0,o=0;for(;s<r.length&&this.hasMatchingEqualityFilter(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.inequalityFilters.size>0){let a=this.inequalityFilters.getIterator().getNext();if(!i.has(a.field.canonicalString())){let A=r[s];if(!this.matchesFilter(a,A)||!this.matchesOrderBy(this.orderBys[o++],A))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[o++],a))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let e=new ot(zt.comparator),n=[];for(let r of this.equalityFilters){if(r.field.isKeyField())continue;if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new vu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new vu(r.field,0))}}for(let r of this.orderBys)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new vu(r.field,r.dir==="asc"?0:1)));return new rD(rD.UNKNOWN_ID,this.collectionId,n,cg.empty())}hasMatchingEqualityFilter(e){for(let n of this.equalityFilters)if(this.matchesFilter(n,e))return!0;return!1}matchesFilter(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}matchesOrderBy(e,n){return e.field.isEqual(n.fieldPath)?n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc":!1}};function oY(t){var e,n;if(X(t instanceof Ne||t instanceof et),t instanceof Ne)if(t instanceof VI){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ne.create(t.field,"==",s)))||[];return et.create(i,"or")}else return t;let r=t.filters.map(i=>oY(i));return et.create(r,t.op)}function Vue(t){if(t.getFilters().length===0)return[];let e=PD(oY(t));return X(aY(e)),uT(e)||hT(e)?[e]:e.getFilters()}function uT(t){return t instanceof Ne}function hT(t){return t instanceof et&&sT(t)}function aY(t){return uT(t)||hT(t)||que(t)}function que(t){if(t instanceof et&&gD(t)){for(let e of t.getFilters())if(!uT(e)&&!hT(e))return!1;return!0}return!1}function PD(t){if(X(t instanceof Ne||t instanceof et),t instanceof Ne)return t;if(t.filters.length===1)return PD(t.filters[0]);let e=t.filters.map(r=>PD(r)),n=et.create(e,t.op);return n=KI(n),aY(n)?n:(X(n instanceof et),X(ku(n)),X(n.filters.length>1),n.filters.reduce((r,i)=>dT(r,i)))}function dT(t,e){X(t instanceof Ne||t instanceof et),X(e instanceof Ne||e instanceof et);let n;return t instanceof Ne?e instanceof Ne?n=Gue(t,e):n=hG(t,e):e instanceof Ne?n=hG(e,t):n=Hue(t,e),KI(n)}function Gue(t,e){return et.create([t,e],"and")}function Hue(t,e){if(X(t.filters.length>0&&e.filters.length>0),ku(t)&&ku(e))return yH(t,e.getFilters());let n=gD(t)?t:e,r=gD(t)?e:t,i=n.filters.map(s=>dT(s,r));return et.create(i,"or")}function hG(t,e){if(ku(e))return yH(e,t.getFilters());{let n=e.filters.map(r=>dT(t,r));return et.create(n,"or")}}function KI(t){if(X(t instanceof Ne||t instanceof et),t instanceof Ne)return t;let e=t.getFilters();if(e.length===1)return KI(e[0]);if(CH(t))return t;let n=e.map(i=>KI(i)),r=[];return n.forEach(i=>{i instanceof Ne?r.push(i):i instanceof et&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:et.create(r,t.op)}var VD=class{constructor(){this.collectionParentIndex=new _g}addToCollectionParentIndex(e,n){return this.collectionParentIndex.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.collectionParentIndex.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(_i.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}},_g=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Me.comparator)).toArray()}};var dG="IndexedDbIndexManager",QI=new Uint8Array(0),qD=class{constructor(e,n){this.databaseId=n,this.collectionParentsCache=new _g,this.targetToDnfSubTargets=new Gs(r=>ul(r),(r,i)=>Ug(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.collectionParentsCache.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.collectionParentsCache.add(n)});let s={collectionId:r,parent:rr(i)};return fG(e).put(s)}return Q.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[YG(n),""],!1,!0);return fG(e).loadAll(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(Os(o.parent))}return r})}addFieldIndex(e,n){let r=$f(e),i=yue(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=mu(e);return s.next(a=>{o.put(eG(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}else return s.next()}deleteFieldIndex(e,n){let r=$f(e),i=mu(e),s=Eu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=$f(e),r=Eu(e),i=mu(e);return n.deleteAll().next(()=>r.deleteAll()).next(()=>i.deleteAll())}createTargetIndexes(e,n){return Q.forEach(this.getSubTargets(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new jI(r).buildTargetIndex();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let r=Eu(e),i=!0,s=new Map;return Q.forEach(this.getSubTargets(n),o=>this.getFieldIndex(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Ie(),a=[];return Q.forEach(s,(A,l)=>{F(dG,`Using index ${tAe(A)} to execute ${ul(n)}`);let c=wle(l,A),u=_le(l,A),h=vle(l,A),d=Sle(l,A),f=this.encodeBound(A,l,h),g=this.encodeBound(A,l,d),m=this.encodeValues(A,l,u),y=this.generateIndexRanges(A.indexId,c,f,h.inclusive,g,d.inclusive,m);return Q.forEach(y,I=>r.loadFirst(I,n.limit).next(_=>{_.forEach(w=>{let S=V.fromSegments(w.documentKey);o.has(S)||(o=o.add(S),a.push(S))})}))}).next(()=>a)}else return Q.resolve(null)})}getSubTargets(e){let n=this.targetToDnfSubTargets.get(e);return n||(e.filters.length===0?n=[e]:n=Vue(et.create(e.filters,"and")).map(i=>wD(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.targetToDnfSubTargets.set(e,n),n)}generateIndexRanges(e,n,r,i,s,o,a){let A=(n!=null?n.length:1)*Math.max(r.length,s.length),l=A/(n!=null?n.length:1),c=[];for(let u=0;u<A;++u){let h=n?this.encodeSingleElement(n[u/l]):QI,d=this.generateLowerBound(e,h,r[u%l],i),f=this.generateUpperBound(e,h,s[u%l],o),g=a.map(m=>this.generateLowerBound(e,h,m,!0));c.push(...this.createRange(d,f,g))}return c}generateLowerBound(e,n,r,i){let s=new tl(e,V.empty(),n,r);return i?s:s.successor()}generateUpperBound(e,n,r,i){let s=new tl(e,V.empty(),n,r);return i?s.successor():s}getFieldIndex(e,n){let r=new jI(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.servedByIndex(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.getSubTargets(n);return Q.forEach(i,s=>this.getFieldIndex(e,s).next(o=>{o?r!==0&&o.fields.length<ble(s)&&(r=1):r=0})).next(()=>Dle(n)&&i.length>1&&r===2?1:r)}encodeDirectionalElements(e,n){let r=new el;for(let i of al(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.forKind(i.kind);So.INSTANCE.writeIndexValue(s,o)}return r.encodedBytes()}encodeSingleElement(e){let n=new el;return So.INSTANCE.writeIndexValue(e,n.forKind(0)),n.encodedBytes()}encodeDirectionalKey(e,n){let r=new el;return So.INSTANCE.writeIndexValue(ll(this.databaseId,n),r.forKind(eAe(e))),r.encodedBytes()}encodeValues(e,n,r){if(r===null)return[];let i=[];i.push(new el);let s=0;for(let o of al(e)){let a=r[s++];for(let A of i)if(this.isInFilter(n,o.fieldPath)&&pg(a))i=this.expandIndexValues(i,o,a);else{let l=A.forKind(o.kind);So.INSTANCE.writeIndexValue(a,l)}}return this.getEncodedBytes(i)}encodeBound(e,n,r){return this.encodeValues(e,n,r.position)}getEncodedBytes(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].encodedBytes();return n}expandIndexValues(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let A=new el;A.seed(a.encodedBytes()),So.INSTANCE.writeIndexValue(o,A.forKind(n.kind)),s.push(A)}return s}isInFilter(e,n){return!!e.filters.find(r=>r instanceof Ne&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=$f(e),i=mu(e);return(n?r.loadAll(cD,IDBKeyRange.bound(n,n)):r.loadAll()).next(s=>{let o=[];return Q.forEach(s,a=>i.get([a.indexId,this.uid]).next(A=>{o.push(Bue(a,A))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:me(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=$f(e),s=mu(e);return this.getNextSequenceNumber(e).next(o=>i.loadAll(cD,IDBKeyRange.bound(n,n)).next(a=>Q.forEach(a,A=>s.put(eG(A.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){let r=new Map;return Q.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(A=>(r.set(i.collectionGroup,A),Q.forEach(A,l=>this.getExistingIndexEntries(e,i,l).next(c=>{let u=this.computeIndexEntries(s,l);return c.isEqual(u)?Q.resolve():this.updateEntries(e,s,l,c,u)}))))})}addIndexEntry(e,n,r,i){return Eu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(r,n.key),documentKey:n.key.path.toArray()})}deleteIndexEntry(e,n,r,i){return Eu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.encodeDirectionalKey(r,n.key),n.key.path.toArray()])}getExistingIndexEntries(e,n,r){let i=Eu(e),s=new ot(xa);return i.iterate({index:rH,range:IDBKeyRange.only([r.indexId,this.uid,this.encodeDirectionalKey(r,n)])},(o,a)=>{s=s.add(new tl(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}computeIndexEntries(e,n){let r=new ot(xa),i=this.encodeDirectionalElements(n,e);if(i==null)return r;let s=KR(n);if(s!=null){let o=e.data.field(s.fieldPath);if(pg(o))for(let a of o.arrayValue.values||[])r=r.add(new tl(n.indexId,e.key,this.encodeSingleElement(a),i))}else r=r.add(new tl(n.indexId,e.key,QI,i));return r}updateEntries(e,n,r,i,s){F(dG,"Updating index entries for document '%s'",n.key);let o=[];return OAe(i,s,xa,a=>{o.push(this.addIndexEntry(e,n,r,a))},a=>{o.push(this.deleteIndexEntry(e,n,r,a))}),Q.waitFor(o)}getNextSequenceNumber(e){let n=1;return mu(e).iterate({index:nH,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,o)=>{o.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>xa(o,a)).filter((o,a,A)=>!a||xa(o,A[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=xa(o,e),A=xa(o,n);if(a===0)i[0]=e.successor();else if(a>0&&A<0)i.push(o),i.push(o.successor());else if(A>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.isRangeMatchable(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,QI,[]],A=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,QI,[]];s.push(IDBKeyRange.bound(a,A))}return s}isRangeMatchable(e,n){return xa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(gG)}getMinOffset(e,n){return Q.mapArray(this.getSubTargets(n),r=>this.getFieldIndex(e,r).next(i=>i||W())).next(gG)}};function fG(t){return In(t,ug)}function Eu(t){return In(t,nT)}function $f(t){return In(t,eT)}function mu(t){return In(t,tT)}function gG(t){X(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;XR(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new _i(e.readTime,e.documentKey,n)}function AY(t,e,n){let r=t.store(Xi),i=t.store(Ju),s=[],o=IDBKeyRange.only(n.batchId),a=0,A=r.iterate({range:o},(c,u,h)=>(a++,h.delete()));s.push(A.next(()=>{X(a===1)}));let l=[];for(let c of n.mutations){let u=$G(e,c.key.path,n.batchId);s.push(i.delete(u)),l.push(c.key)}return Q.waitFor(s).next(()=>l)}function XI(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else if(t.noDocument)e=t.noDocument;else throw W();return JSON.stringify(e).length}var ZI=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.documentKeysByBatchId={}}static forUser(e,n,r,i){X(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ma(e).iterate({index:nl,range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=Qu(e),o=Ma(e);return o.add({}).next(a=>{X(typeof a=="number");let A=new Cg(a,n,r,i),l=hue(this.serializer,this.userId,A),c=[],u=new ot((h,d)=>me(h.canonicalString(),d.canonicalString()));for(let h of i){let d=$G(this.userId,h.key.path,a);u=u.add(h.key.path.popLast()),c.push(o.put(l)),c.push(s.put(d,lAe))}return u.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.documentKeysByBatchId[a]=A.keys()}),Q.waitFor(c).next(()=>A)})}lookupMutationBatch(e,n){return Ma(e).get(n).next(r=>r?(X(r.userId===this.userId),$A(this.serializer,r)):null)}lookupMutationKeys(e,n){return this.documentKeysByBatchId[n]?Q.resolve(this.documentKeysByBatchId[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.documentKeysByBatchId[n]=i,i}else return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Ma(e).iterate({index:nl,range:i},(o,a,A)=>{a.userId===this.userId&&(X(a.batchId>=r),s=$A(this.serializer,a)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=Va;return Ma(e).iterate({index:nl,range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,Va],[this.userId,Number.POSITIVE_INFINITY]);return Ma(e).loadAll(nl,n).next(r=>r.map(i=>$A(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=SI(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Qu(e).iterate({range:i},(o,a,A)=>{let[l,c,u]=o,h=Os(c);if(l!==this.userId||!n.path.isEqual(h)){A.done();return}return Ma(e).get(u).next(d=>{if(!d)throw W();X(d.userId===this.userId),s.push($A(this.serializer,d))})}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(me),i=[];return n.forEach(s=>{let o=SI(this.userId,s.path),a=IDBKeyRange.lowerBound(o),A=Qu(e).iterate({range:a},(l,c,u)=>{let[h,d,f]=l,g=Os(d);if(h!==this.userId||!s.path.isEqual(g)){u.done();return}r=r.add(f)});i.push(A)}),Q.waitFor(i).next(()=>this.lookupMutationBatches(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=SI(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new ot(me);return Qu(e).iterate({range:o},(A,l,c)=>{let[u,h,d]=A,f=Os(h);if(u!==this.userId||!r.isPrefixOf(f)){c.done();return}f.length===i&&(a=a.add(d))}).next(()=>this.lookupMutationBatches(e,a))}lookupMutationBatches(e,n){let r=[],i=[];return n.forEach(s=>{i.push(Ma(e).get(s).next(o=>{if(o===null)throw W();X(o.userId===this.userId),r.push($A(this.serializer,o))}))}),Q.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return AY(e.simpleDbTransaction,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.removeCachedMutationKeys(n.batchId)}),Q.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}removeCachedMutationKeys(e){delete this.documentKeysByBatchId[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Q.resolve();let r=IDBKeyRange.lowerBound(AAe(this.userId)),i=[];return Qu(e).iterate({range:r},(s,o,a)=>{if(s[0]!==this.userId){a.done();return}else{let l=Os(s[1]);i.push(l)}}).next(()=>{X(i.length===0)})})}containsKey(e,n){return lY(e,this.userId,n)}getMutationQueueMetadata(e){return cY(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Va,lastStreamToken:""})}};function lY(t,e,n){let r=SI(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Qu(t).iterate({range:s,keysOnly:!0},(a,A,l)=>{let[c,u,h]=a;c===e&&u===i&&(o=!0),l.done()}).next(()=>o)}function Yue(t,e){let n=!1;return cY(t).iterateSerial(r=>lY(t,r,e).next(i=>(i&&(n=!0),Q.resolve(!i)))).next(()=>n)}function Ma(t){return In(t,Xi)}function Qu(t){return In(t,Ju)}function cY(t){return In(t,Mg)}var Gb=2,Ou=class t{constructor(e){this.lastId=e}next(){return this.lastId+=Gb,this.lastId}static forTargetCache(){return new t(2-Gb)}static forSyncEngine(){return new t(1-Gb)}};var GD=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.retrieveMetadata(e).next(n=>{let r=new Ou(n.highestTargetId);return n.highestTargetId=r.next(),this.saveMetadata(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.retrieveMetadata(e).next(n=>ne.fromTimestamp(new Tt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.retrieveMetadata(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.retrieveMetadata(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.saveMetadata(e,i)))}addTargetData(e,n){return this.saveTargetData(e,n).next(()=>this.retrieveMetadata(e).next(r=>(r.targetCount+=1,this.updateMetadataFromTargetData(n,r),this.saveMetadata(e,r))))}updateTargetData(e,n){return this.saveTargetData(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Cu(e).delete(n.targetId)).next(()=>this.retrieveMetadata(e)).next(r=>(X(r.targetCount>0),r.targetCount-=1,this.saveMetadata(e,r)))}removeTargets(e,n,r){let i=0,s=[];return Cu(e).iterate((o,a)=>{let A=rg(a);A.sequenceNumber<=n&&r.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>Q.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Cu(e).iterate((r,i)=>{let s=rg(i);n(s)})}retrieveMetadata(e){return pG(e).get(OI).next(n=>(X(n!==null),n))}saveMetadata(e,n){return pG(e).put(OI,n)}saveTargetData(e,n){return Cu(e).put(iY(this.serializer,n))}updateMetadataFromTargetData(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.retrieveMetadata(e).next(n=>n.targetCount)}getTargetData(e,n){let r=ul(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Cu(e).iterate({range:i,index:tH},(o,a,A)=>{let l=rg(a);Ug(n,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=Oa(e);return n.forEach(o=>{let a=rr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),Q.waitFor(i)}removeMatchingKeys(e,n,r){let i=Oa(e);return Q.forEach(n,s=>{let o=rr(s.path);return Q.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=Oa(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Oa(e),s=Ie();return i.iterate({range:r,keysOnly:!0},(o,a,A)=>{let l=Os(o[1]),c=new V(l);s=s.add(c)}).next(()=>s)}containsKey(e,n){let r=rr(n.path),i=IDBKeyRange.bound([r],[YG(r)],!1,!0),s=0;return Oa(e).iterate({index:$R,keysOnly:!0,range:i},([o,a],A,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}getTargetDataForTarget(e,n){return Cu(e).get(n).next(r=>r?rg(r):null)}};function Cu(t){return In(t,zu)}function pG(t){return In(t,Il)}function Oa(t){return In(t,ju)}var EG={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qg=-1,uY=40*1024*1024,Qi=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Qi.DEFAULT_COLLECTION_PERCENTILE=10;Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3;Qi.DEFAULT=new Qi(uY,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);Qi.DISABLED=new Qi(qg,0,0);var mG="LruGarbageCollector",CG=1*1024*1024,Wue=1*60*1e3,Jue=5*60*1e3;function IG([t,e],[n,r]){let i=me(t,n);return i===0?me(e,r):i}var HD=class{constructor(e){this.maxElements=e,this.buffer=new ot(IG),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){let n=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();IG(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},YD=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==qg&&this.scheduleGC(Wue)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return this.gcTask!==null}scheduleGC(e){F(mG,`Garbage collection scheduled in ${e}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.gcTask=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){eA(n)?F(mG,"Ignoring IndexedDB error during garbage collection: ",n):yield $a(n)}yield this.scheduleGC(Jue)}))}},WD=class{constructor(e,n){this.delegate=e,this.params=n}calculateTargetCount(e,n){return this.delegate.getSequenceNumberCount(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Ur.INVALID);let r=new HD(n);return this.delegate.forEachTarget(e,i=>r.addElement(i.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(e,i=>r.addElement(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.delegate.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.delegate.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===qg?(F("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(EG)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EG):this.runGarbageCollection(e,n))}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,n){let r,i,s,o,a,A,l,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),i=this.params.maximumSequenceNumbersToCollect):i=u,o=Date.now(),this.nthSequenceNumber(e,i))).next(u=>(r=u,a=Date.now(),this.removeTargets(e,r,n))).next(u=>(s=u,A=Date.now(),this.removeOrphanedDocuments(e,r))).next(u=>{if(l=Date.now(),Iu()<=ci.DEBUG){let h=`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in ${a-o}ms
	Removed ${s} targets in ${A-a}ms
	Removed ${u} documents in ${l-A}ms
Total Duration: ${l-c}ms`;F("LruGarbageCollector",h)}return Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:u})})}};function zue(t,e){return new WD(t,e)}var JD=class{constructor(e,n){this.db=e,this.garbageCollector=zue(this,n)}getSequenceNumberCount(e){let n=this.orphanedDocumentCount(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}orphanedDocumentCount(e){let n=0;return this.forEachOrphanedDocumentSequenceNumber(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}forEachOrphanedDocumentSequenceNumber(e,n){return this.forEachOrphanedDocument(e,(r,i)=>n(i))}addReference(e,n,r){return wI(e,r)}removeReference(e,n,r){return wI(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return wI(e,n)}isPinned(e,n){return Yue(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],o=0;return this.forEachOrphanedDocument(e,(A,l)=>{if(l<=n){let c=this.isPinned(e,A).next(u=>{if(!u)return o++,i.getEntry(e,A).next(()=>(i.removeEntry(A,ne.min()),Oa(e).delete(jue(A))))});s.push(c)}}).next(()=>Q.waitFor(s)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return wI(e,n)}forEachOrphanedDocument(e,n){let r=Oa(e),i=Ur.INVALID,s;return r.iterate({index:$R},([o,a],{path:A,sequenceNumber:l})=>{o===0?(i!==Ur.INVALID&&n(new V(Os(s)),i),i=l,s=A):i=Ur.INVALID}).next(()=>{i!==Ur.INVALID&&n(new V(Os(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function jue(t){return[0,rr(t.path)]}function Kue(t,e){return{targetId:0,path:rr(t.path),sequenceNumber:e}}function wI(t,e){return Oa(t).put(Kue(e,t.currentSequenceNumber))}var $I=class{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var zD=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return KA(e).put(r)}removeEntry(e,n,r){return KA(e).delete(Xue(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.setMetadata(e,r)))}getEntry(e,n){let r=en.newInvalidDocument(n);return KA(e).iterate({index:bI,range:IDBKeyRange.only(eg(n))},(i,s)=>{r=this.maybeDecodeDocument(n,s)}).next(()=>r)}getSizedEntry(e,n){let r={size:0,document:en.newInvalidDocument(n)};return KA(e).iterate({index:bI,range:IDBKeyRange.only(eg(n))},(i,s)=>{r={document:this.maybeDecodeDocument(n,s),size:XI(s)}}).next(()=>r)}getEntries(e,n){let r=Qr();return this.forEachDbEntry(e,n,(i,s)=>{let o=this.maybeDecodeDocument(i,s);r=r.insert(i,o)}).next(()=>r)}getSizedEntries(e,n){let r=Qr(),i=new pt(V.comparator);return this.forEachDbEntry(e,n,(s,o)=>{let a=this.maybeDecodeDocument(s,o);r=r.insert(s,a),i=i.insert(s,XI(o))}).next(()=>({documents:r,sizeMap:i}))}forEachDbEntry(e,n,r){if(n.isEmpty())return Q.resolve();let i=new ot(QG);n.forEach(A=>i=i.add(A));let s=IDBKeyRange.bound(eg(i.first()),eg(i.last())),o=i.getIterator(),a=o.getNext();return KA(e).iterate({index:bI,range:s},(A,l,c)=>{let u=V.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&QG(a,u)<0;)r(a,null),a=o.getNext();a&&a.isEqual(u)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?c.skip(eg(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),ky(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],A=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return KA(e).loadAll(IDBKeyRange.bound(a,A,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let c=Qr();for(let u of l){let h=this.maybeDecodeDocument(V.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);h.isFoundDocument()&&(Vg(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=Qr(),o=BG(n,r),a=BG(n,_i.max());return KA(e).iterate({index:eH,range:IDBKeyRange.bound(o,a,!0)},(A,l,c)=>{let u=this.maybeDecodeDocument(V.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(u.key,u),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new jD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return yG(e).get(lD).next(n=>(X(!!n),n))}setMetadata(e,n){return yG(e).put(lD,n)}maybeDecodeDocument(e,n){if(n){let r=cue(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return en.newInvalidDocument(e)}};function hY(t){return new zD(t)}var jD=class extends $I{constructor(e,n){super(),this.documentCache=e,this.trackRemovals=n,this.documentStates=new Gs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new ot((s,o)=>me(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.documentStates.get(s);if(n.push(this.documentCache.removeEntry(e,s,a.readTime)),o.isValidDocument()){let A=$q(this.documentCache.serializer,o);i=i.add(s.path.popLast());let l=XI(A);r+=l-a.size,n.push(this.documentCache.addEntry(e,s,A))}else if(r-=a.size,this.trackRemovals){let A=$q(this.documentCache.serializer,o.convertToNoDocument(ne.min()));n.push(this.documentCache.addEntry(e,s,A))}}),i.forEach(s=>{n.push(this.documentCache.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.documentCache.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.documentCache.getSizedEntry(e,n).next(r=>(this.documentStates.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.documentCache.getSizedEntries(e,n).next(({documents:r,sizeMap:i})=>(i.forEach((s,o)=>{this.documentStates.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function yG(t){return In(t,Lg)}function KA(t){return In(t,_y)}function eg(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xue(t,e){let n=t.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ky(e),n[n.length-1]]}function BG(t,e){let n=e.documentKey.path.toArray();return[t,ky(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function QG(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=me(n[s],r[s]),i)return i;return i=me(n.length,r.length),i||(i=me(n[n.length-2],r[r.length-2]),i)?i:me(n[n.length-1],r[r.length-1])}var Zue=15;var KD=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ey=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ag(r.mutation,i,Pr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){let i=Us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ng();return s.forEach((a,A)=>{o=o.insert(a,A.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qr(),o=Eg(),a=Hle();return n.forEach((A,l)=>{let c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof es)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),ag(c.mutation,l,c.mutation.getFieldMask(),Tt.now())):o.set(l.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var u;return a.set(l,new KD(c,(u=o.get(l))!==null&&u!==void 0?u:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Eg(),i=new pt((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(A=>{let l=n.get(A);if(l===null)return;let c=r.get(A)||Pr.empty();c=a.applyToLocalView(l,c),r.set(A,c);let u=(i.get(a.batchId)||Ie()).add(A);i=i.insert(a.batchId,u)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let A=a.getNext(),l=A.key,c=A.value,u=kH();c.forEach(h=>{if(!s.has(h)){let d=PH(n.get(h),r.get(h));d!==null&&u.set(h,d),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,u))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return Nle(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Us()),a=Du,A=s;return o.next(l=>Q.forEach(l,(c,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),s.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{A=A.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,Ie())).next(c=>({batchId:a,changes:TH(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=ng();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ng();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,A=>{let l=Rle(n,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((u,h)=>{o=o.insert(u,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((A,l)=>{let c=l.getKey();o.get(c)===null&&(o=o.insert(c,en.newInvalidDocument(c)))});let a=ng();return o.forEach((A,l)=>{let c=s.get(A);c!==void 0&&ag(c.mutation,l,Pr.empty(),Tt.now()),Vg(n,l)&&(a=a.insert(A,l))}),a})}};var XD=class{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,n){return Q.resolve(this.bundles.get(n))}saveBundleMetadata(e,n){return this.bundles.set(n.id,Cue(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.namedQueries.get(n))}saveNamedQuery(e,n){return this.namedQueries.set(n.name,mue(n)),Q.resolve()}};var ZD=class{constructor(){this.overlays=new pt(V.comparator),this.overlayByBatchId=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Us();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.saveOverlay(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.overlayByBatchId.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.overlayByBatchId.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){let i=Us(),s=n.length+1,o=new V(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new pt((l,c)=>l-c),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Us(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}let a=Us(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return Q.resolve(a)}saveOverlay(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.overlayByBatchId.get(i.largestBatchId).delete(r.key);this.overlayByBatchId.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ig(n,r));let s=this.overlayByBatchId.get(n);s===void 0&&(s=Ie(),this.overlayByBatchId.set(n,s)),this.overlayByBatchId.set(n,s.add(r.key))}};var vg=class{constructor(){this.refsByKey=new ot($t.compareByKey),this.refsByTarget=new ot($t.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,n){let r=new $t(e,n);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.removeRef(new $t(e,n))}removeReferences(e,n){e.forEach(r=>this.removeReference(r,n))}removeReferencesForId(e){let n=new V(new Me([])),r=new $t(n,e),i=new $t(n,e+1),s=[];return this.refsByTarget.forEachInRange([r,i],o=>{this.removeRef(o),s.push(o.key)}),s}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let n=new V(new Me([])),r=new $t(n,e),i=new $t(n,e+1),s=Ie();return this.refsByTarget.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new $t(e,0),r=this.refsByKey.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$t=class{constructor(e,n){this.key=e,this.targetOrBatchId=n}static compareByKey(e,n){return V.comparator(e.key,n.key)||me(e.targetOrBatchId,n.targetOrBatchId)}static compareByTargetId(e,n){return me(e.targetOrBatchId,n.targetOrBatchId)||V.comparator(e.key,n.key)}};var $D=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new ot($t.compareByKey)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Cg(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new $t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.findMutationBatch(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.indexOfBatchId(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Va:this.nextBatchId-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],o=>{let a=this.findMutationBatch(o.targetOrBatchId);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(me);return n.forEach(i=>{let s=new $t(i,0),o=new $t(i,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([s,o],a=>{r=r.add(a.targetOrBatchId)})}),Q.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;V.isDocumentKey(s)||(s=s.child(""));let o=new $t(new V(s),0),a=new ot(me);return this.batchesByDocumentKey.forEachWhile(A=>{let l=A.key.path;return r.isPrefixOf(l)?(l.length===i&&(a=a.add(A.targetOrBatchId)),!0):!1},o),Q.resolve(this.findMutationBatches(a))}findMutationBatches(e){let n=[];return e.forEach(r=>{let i=this.findMutationBatch(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){let r=this.indexOfExistingBatchId(n.batchId,"removed");X(r===0),this.mutationQueue.shift();let i=this.batchesByDocumentKey;return Q.forEach(n.mutations,s=>{let o=new $t(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.batchesByDocumentKey=i})}removeCachedMutationKeys(e){}containsKey(e,n){let r=new $t(n,0),i=this.batchesByDocumentKey.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}indexOfExistingBatchId(e,n){return this.indexOfBatchId(e)}indexOfBatchId(e){if(this.mutationQueue.length===0)return 0;let n=this.mutationQueue[0].batchId;return e-n}findMutationBatch(e){let n=this.indexOfBatchId(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};function $ue(){return new pt(V.comparator)}var eR=class{constructor(e){this.sizer=e,this.docs=$ue(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.sizer(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qr(),o=n.path,a=new V(o.child("")),A=this.docs.getIteratorFrom(a);for(;A.hasNext();){let{key:l,value:{document:c}}=A.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||XR(JG(c),r)<=0||!i.has(c.key)&&!Vg(n,c)||(s=s.insert(c.key,c.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}forEachDocumentKey(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tR(this)}getSize(e){return Q.resolve(this.size)}};function ehe(t){return new eR(t)}var tR=class extends $I{constructor(e){super(),this.documentCache=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.documentCache.addEntry(e,i)):this.documentCache.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.documentCache.getEntry(e,n)}getAllFromCache(e,n){return this.documentCache.getEntries(e,n)}};var nR=class{constructor(e){this.persistence=e,this.targets=new Gs(n=>ul(n),Ug),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new vg,this.targetCount=0,this.targetIdGenerator=Ou.forTargetCache()}forEachTarget(e,n){return this.targets.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.highestSequenceNumber&&(this.highestSequenceNumber=n),Q.resolve()}saveTargetData(e){this.targets.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.targetIdGenerator=new Ou(n),this.highestTargetId=n),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,n){return this.saveTargetData(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.saveTargetData(n),Q.resolve()}removeTargetData(e,n){return this.targets.delete(n.target),this.references.removeReferencesForId(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.targets.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.targets.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){let r=this.targets.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.references.addReferences(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.references.removeReferences(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.references.removeReferencesForId(n),Q.resolve()}getMatchingKeysForTargetId(e,n){let r=this.references.referencesForId(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.references.containsKey(n))}};var the="MemoryPersistence",ty=class{constructor(e,n){this.mutationQueues={},this.overlays={},this.listenSequence=new Ur(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new nR(this);let r=i=>this.referenceDelegate.documentSize(i);this.indexManager=new VD,this.remoteDocumentCache=ehe(r),this.serializer=new JI(n),this.bundleCache=new XD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.mutationQueues[e.toKey()];return r||(r=new $D(n,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,n,r){F(the,"Starting transaction:",e);let i=new rR(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(i).next(s=>this.referenceDelegate.onTransactionCommitted(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}mutationQueuesContainKey(e,n){return Q.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,n)))}},rR=class extends MI{constructor(e){super(),this.currentSequenceNumber=e}},ny=class t{constructor(e){this.persistence=e,this.localViewReferences=new vg,this._orphanedDocuments=null}static factory(e){return new t(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw W()}addReference(e,n,r){return this.localViewReferences.addReference(r,n),this.orphanedDocuments.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.localViewReferences.removeReference(r,n),this.orphanedDocuments.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.orphanedDocuments.add(n.toString()),Q.resolve()}removeTarget(e,n){this.localViewReferences.removeReferencesForId(n.targetId).forEach(s=>this.orphanedDocuments.add(s.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.orphanedDocuments.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.orphanedDocuments,i=>{let s=V.fromPath(i);return this.isReferenced(e,s).next(o=>{o||r.removeEntry(s,ne.min())})}).next(()=>(this._orphanedDocuments=null,r.apply(e)))}updateLimboDocument(e,n){return this.isReferenced(e,n).next(r=>{r?this.orphanedDocuments.delete(n.toString()):this.orphanedDocuments.add(n.toString())})}documentSize(e){return 0}isReferenced(e,n){return Q.or([()=>Q.resolve(this.localViewReferences.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.mutationQueuesContainKey(e,n)])}};var iR=class{constructor(e){this.serializer=e}createOrUpgrade(e,n,r,i){let s=new LI("createOrUpgrade",n);r<1&&i>=1&&(rhe(e),ihe(e),wG(e),ohe(e));let o=Q.resolve();return r<3&&i>=3&&(r!==0&&(lhe(e),wG(e)),o=o.next(()=>uhe(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>she(e,s))),o=o.next(()=>{hhe(e)})),r<5&&i>=5&&(o=o.next(()=>this.removeAcknowledgedMutations(s))),r<6&&i>=6&&(o=o.next(()=>(Ahe(e),this.addDocumentGlobal(s)))),r<7&&i>=7&&(o=o.next(()=>this.ensureSequenceNumbers(s))),r<8&&i>=8&&(o=o.next(()=>this.createCollectionParentIndex(e,s))),r<9&&i>=9&&(o=o.next(()=>{che(e)})),r<10&&i>=10&&(o=o.next(()=>this.rewriteCanonicalIds(s))),r<11&&i>=11&&(o=o.next(()=>{dhe(e),fhe(e)})),r<12&&i>=12&&(o=o.next(()=>{phe(e)})),r<13&&i>=13&&(o=o.next(()=>ahe(e)).next(()=>this.rewriteRemoteDocumentCache(e,s)).next(()=>e.deleteObjectStore(ZA))),r<14&&i>=14&&(o=o.next(()=>this.runOverlayMigration(e,s))),r<15&&i>=15&&(o=o.next(()=>ghe(e))),o}addDocumentGlobal(e){let n=0;return e.store(ZA).iterate((r,i)=>{n+=XI(i)}).next(()=>{let r={byteSize:n};return e.store(Lg).put(lD,r)})}removeAcknowledgedMutations(e){let n=e.store(Mg),r=e.store(Xi);return n.loadAll().next(i=>Q.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,Va],[s.userId,s.lastAcknowledgedBatchId]);return r.loadAll(nl,o).next(a=>Q.forEach(a,A=>{X(A.userId===s.userId);let l=$A(this.serializer,A);return AY(e,s.userId,l).next(()=>{})}))}))}ensureSequenceNumbers(e){let n=e.store(ju),r=e.store(ZA);return e.store(Il).get(OI).next(s=>{let o=A=>n.put({targetId:0,path:rr(A),sequenceNumber:s.highestListenSequenceNumber}),a=[];return r.iterate((A,l)=>{let c=new Me(A),u=nhe(c);a.push(n.get(u).next(h=>h?Q.resolve():o(c)))}).next(()=>Q.waitFor(a))})}createCollectionParentIndex(e,n){e.createObjectStore(ug,{keyPath:EAe});let r=n.store(ug),i=new _g,s=o=>{if(i.add(o)){let a=o.lastSegment(),A=o.popLast();return r.put({collectionId:a,parent:rr(A)})}};return n.store(ZA).iterate({keysOnly:!0},(o,a)=>{let A=new Me(o);return s(A.popLast())}).next(()=>n.store(Ju).iterate({keysOnly:!0},([o,a,A],l)=>{let c=Os(a);return s(c.popLast())}))}rewriteCanonicalIds(e){let n=e.store(zu);return n.iterate((r,i)=>{let s=rg(i),o=iY(this.serializer,s);return n.put(o)})}rewriteRemoteDocumentCache(e,n){let r=n.store(ZA),i=[];return r.iterate((s,o)=>{let a=n.store(_y),A=Ehe(o).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>Q.waitFor(i))}runOverlayMigration(e,n){let r=n.store(Xi),i=hY(this.serializer),s=new ty(ny.factory,this.serializer.remoteSerializer);return r.loadAll().next(o=>{let a=new Map;return o.forEach(A=>{var l;let c=(l=a.get(A.userId))!==null&&l!==void 0?l:Ie();$A(this.serializer,A).keys().forEach(h=>c=c.add(h)),a.set(A.userId,c)}),Q.forEach(a,(A,l)=>{let c=new tn(l),u=zI.forUser(this.serializer,c),h=s.getIndexManager(c),d=ZI.forUser(c,this.serializer,h,s.referenceDelegate);return new ey(i,d,u,h).recalculateAndSaveOverlaysForDocumentKeys(new hg(n,Ur.INVALID),A).next()})})}};function nhe(t){return[0,rr(t)]}function rhe(t){t.createObjectStore(xg)}function ihe(t){t.createObjectStore(Mg,{keyPath:aAe}),t.createObjectStore(Xi,{keyPath:XG,autoIncrement:!0}).createIndex(nl,ZG,{unique:!0}),t.createObjectStore(Ju)}function she(t,e){return e.store(Xi).loadAll().next(r=>{t.deleteObjectStore(Xi),t.createObjectStore(Xi,{keyPath:XG,autoIncrement:!0}).createIndex(nl,ZG,{unique:!0});let s=e.store(Xi),o=r.map(a=>s.put(a));return Q.waitFor(o)})}function ohe(t){t.createObjectStore(ZA)}function ahe(t){let e=t.createObjectStore(_y,{keyPath:cAe});e.createIndex(bI,uAe),e.createIndex(eH,hAe)}function Ahe(t){t.createObjectStore(Lg)}function wG(t){t.createObjectStore(ju,{keyPath:gAe}).createIndex($R,pAe,{unique:!0}),t.createObjectStore(zu,{keyPath:dAe}).createIndex(tH,fAe,{unique:!0}),t.createObjectStore(Il)}function lhe(t){t.deleteObjectStore(ju),t.deleteObjectStore(zu),t.deleteObjectStore(Il)}function che(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}function uhe(t){let e=t.store(Il),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return e.put(OI,n)}function hhe(t){t.createObjectStore(Ru,{keyPath:mAe})}function dhe(t){t.createObjectStore(vy,{keyPath:CAe})}function fhe(t){t.createObjectStore(Sy,{keyPath:IAe})}function ghe(t){t.createObjectStore(eT,{keyPath:yAe,autoIncrement:!0}).createIndex(cD,BAe,{unique:!1}),t.createObjectStore(tT,{keyPath:QAe}).createIndex(nH,wAe,{unique:!1}),t.createObjectStore(nT,{keyPath:_Ae}).createIndex(rH,vAe,{unique:!1})}function phe(t){let e=t.createObjectStore(by,{keyPath:SAe});e.createIndex(uD,bAe,{unique:!1}),e.createIndex(iH,DAe,{unique:!1})}function Ehe(t){return t.document?new V(Me.fromString(t.document.name).popFirst(5)):t.noDocument?V.fromSegments(t.noDocument.path):t.unknownDocument?V.fromSegments(t.unknownDocument.path):W()}var La="IndexedDbPersistence",Hb=30*60*1e3,Yb=5e3,mhe=4e3,Wb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Che="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Ihe="firestore_zombie",dY="main",sR=class t{constructor(e,n,r,i,s,o,a,A,l,c,u=Zue){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.queue=s,this.window=o,this.document=a,this.sequenceNumberSyncer=l,this.forceOwningTab=c,this.schemaVersion=u,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=h=>Promise.resolve(),!t.isAvailable())throw new R(v.UNIMPLEMENTED,Che);this.referenceDelegate=new JD(this,i),this.dbName=n+dY,this.serializer=new JI(A),this.simpleDb=new bo(this.dbName,this.schemaVersion,new iR(this.serializer)),this.targetCache=new GD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hY(this.serializer),this.bundleCache=new MD,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,c===!1&&Rt(La,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new R(v.FAILED_PRECONDITION,Wb);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.targetCache.getHighestSequenceNumber(e))}).then(e=>{this.listenSequence=new Ur(e,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(e=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(e)))}setPrimaryStateListener(e){return this.primaryStateListener=n=>E(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.simpleDb.setVersionChangeListener(n=>E(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(()=>E(this,null,function*(){this.started&&(yield this.updateClientMetadataAndTryBecomePrimary())})))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_I(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(e).next(r=>{r||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(e)).next(r=>this.isPrimary&&!r?this.releasePrimaryLeaseIfHeld(e).next(()=>!1):r?this.acquireOrExtendPrimaryLease(e).next(()=>!0):!1)).catch(e=>{if(eA(e))return F(La,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F(La,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.queue.enqueueRetryable(()=>this.primaryStateListener(e)),this.isPrimary=e})}verifyPrimaryLease(e){return tg(e).get(du).next(r=>Q.resolve(this.isLocalClient(r)))}removeClientMetadata(e){return _I(e).delete(this.clientId)}maybeGarbageCollectMultiClientState(){return E(this,null,function*(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,Hb)){this.lastGarbageCollectionTime=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=In(n,Ru);return r.loadAll().next(i=>{let s=this.filterActiveClients(i,Hb),o=i.filter(a=>s.indexOf(a)===-1);return Q.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.webStorage)for(let n of e)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(n.clientId))}})}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",mhe,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(e){return e?e.ownerId===this.clientId:!1}canActAsPrimary(e){return this.forceOwningTab?Q.resolve(!0):tg(e).get(du).next(r=>{if(r!==null&&this.isWithinAge(r.leaseTimestampMs,Yb)&&!this.isClientZombied(r.ownerId)){if(this.isLocalClient(r)&&this.networkEnabled)return!0;if(!this.isLocalClient(r)){if(!r.allowTabSynchronization)throw new R(v.FAILED_PRECONDITION,Wb);return!1}}return this.networkEnabled&&this.inForeground?!0:_I(e).loadAll().next(s=>this.filterActiveClients(s,Yb).find(a=>{if(this.clientId!==a.clientId){let A=!this.networkEnabled&&a.networkEnabled,l=!this.inForeground&&a.inForeground,c=this.networkEnabled===a.networkEnabled;if(A||l&&c)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&F(La,`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){return E(this,null,function*(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),yield this.simpleDb.runTransaction("shutdown","readwrite",[xg,Ru],e=>{let n=new hg(e,Ur.INVALID);return this.releasePrimaryLeaseIfHeld(n).next(()=>this.removeClientMetadata(n))}),this.simpleDb.close(),this.removeClientZombiedEntry()})}filterActiveClients(e,n){return e.filter(r=>this.isWithinAge(r.updateTimeMs,n)&&!this.isClientZombied(r.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",e=>_I(e).loadAll().next(n=>this.filterActiveClients(n,Hb).map(r=>r.clientId)))}get started(){return this._started}getMutationQueue(e,n){return ZI.forUser(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qD(e,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(e){return zI.forUser(this.serializer,e)}getBundleCache(){return this.bundleCache}runTransaction(e,n,r){F(La,"Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=LAe(this.schemaVersion),o;return this.simpleDb.runTransaction(e,i,s,a=>(o=new hg(a,this.listenSequence?this.listenSequence.next():Ur.INVALID),n==="readwrite-primary"?this.verifyPrimaryLease(o).next(A=>A?!0:this.canActAsPrimary(o)).next(A=>{if(!A)throw Rt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new R(v.FAILED_PRECONDITION,zG);return r(o)}).next(A=>this.acquireOrExtendPrimaryLease(o).next(()=>A)):this.verifyAllowTabSynchronization(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}verifyAllowTabSynchronization(e){return tg(e).get(du).next(r=>{if(r!==null&&this.isWithinAge(r.leaseTimestampMs,Yb)&&!this.isClientZombied(r.ownerId)&&!this.isLocalClient(r)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!r.allowTabSynchronization))throw new R(v.FAILED_PRECONDITION,Wb)})}acquireOrExtendPrimaryLease(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tg(e).put(du,n)}static isAvailable(){return bo.isAvailable()}releasePrimaryLeaseIfHeld(e){let n=tg(e);return n.get(du).next(r=>this.isLocalClient(r)?(F(La,"Releasing primary lease."),n.delete(du)):Q.resolve())}isWithinAge(e,n){let r=Date.now(),i=r-n,s=r;return e<i?!1:e>s?(Rt(`Detected an update time that is in the future: ${e} > ${s}`),!1):!0}attachVisibilityHandler(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground=this.document.visibilityState==="visible")}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.windowUnloadHandler=()=>{this.markClientZombied();let n=/(?:Version|Mobile)\/1[456]/;m0()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(e){var n;try{let r=((n=this.webStorage)===null||n===void 0?void 0:n.getItem(this.zombiedClientLocalStorageKey(e)))!==null;return F(La,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Rt(La,"Failed to get zombied client id.",r),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){Rt("Failed to set zombie client id.",e)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch{}}zombiedClientLocalStorageKey(e){return`${Ihe}_${this.persistenceKey}_${e}`}};function tg(t){return In(t,xg)}function _I(t){return In(t,Ru)}function fT(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function yhe(t){return E(this,null,function*(){if(!bo.isAvailable())return Promise.resolve();let e=t+dY;yield bo.delete(e)})}var gT="LocalStore",Bhe=5*60*1e6,Sg=class{constructor(e,n,r,i){this.persistence=e,this.queryEngine=n,this.serializer=i,this.targetDataByTarget=new pt(me),this.targetIdByTarget=new Gs(s=>ul(s),Ug),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ey(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.targetDataByTarget))}};function fY(t,e,n,r){return new Sg(t,e,n,r)}function gY(t,e){return E(this,null,function*(){let n=H(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.initializeUserComponents(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],A=[],l=Ie();for(let c of s){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of o){A.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({affectedDocuments:c,removedBatchIds:a,addedBatchIds:A}))})})})}function Qhe(t,e){let n=H(t),r=Tt.now(),i=e.reduce((a,A)=>a.add(A.key),Ie()),s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",a=>{let A=Qr(),l=Ie();return n.remoteDocuments.getEntries(a,i).next(c=>{A=c,A.forEach((u,h)=>{h.isValidDocument()||(l=l.add(u))})}).next(()=>n.localDocuments.getOverlayedDocuments(a,A)).next(c=>{s=c;let u=[];for(let h of e){let d=nce(h,s.get(h.key).overlayedDocument);d!=null&&u.push(new es(h.key,d,EH(d.value.mapValue),Lt.exists(!0)))}return n.mutationQueue.addMutationBatch(a,r,u,e)}).next(c=>{o=c;let u=c.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(a,c.batchId,u)})}).then(()=>({batchId:o.batchId,changes:TH(s)}))}function whe(t,e){let n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});return Fhe(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,_he(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _he(t){let e=Ie();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}function vhe(t,e){let n=H(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",r=>{let i;return n.mutationQueue.lookupMutationBatch(r,e).next(s=>(X(s!==null),i=s.keys(),n.mutationQueue.removeMutationBatch(r,s))).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,i)).next(()=>n.localDocuments.getDocuments(r,i))})}function She(t){let e=H(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",n=>e.mutationQueue.getHighestUnacknowledgedBatchId(n))}function pY(t){let e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.targetCache.getLastRemoteSnapshotVersion(n))}function bhe(t,e){let n=H(t),r=e.snapshotVersion,i=n.targetDataByTarget;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=n.targetDataByTarget;let a=[];e.targetChanges.forEach((c,u)=>{let h=i.get(u);if(!h)return;a.push(n.targetCache.removeMatchingKeys(s,c.removedDocuments,u).next(()=>n.targetCache.addMatchingKeys(s,c.addedDocuments,u)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(u)!==null?d=d.withResumeToken(Cn.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(u,d),Dhe(h,d,c)&&a.push(n.targetCache.updateTargetData(s,d))});let A=Qr(),l=Ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(EY(s,o,e.documentUpdates).next(c=>{A=c.changedDocuments,l=c.existenceChangedKeys})),!r.isEqual(ne.min())){let c=n.targetCache.getLastRemoteSnapshotVersion(s).next(u=>n.targetCache.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(n.targetDataByTarget=i,s))}function EY(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qr();return n.forEach((a,A)=>{let l=s.get(a);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),A.isNoDocument()&&A.version.isEqual(ne.min())?(e.removeEntry(a,A.readTime),o=o.insert(a,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),o=o.insert(a,A)):F(gT,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",A.version)}),{changedDocuments:o,existenceChangedKeys:i}})}function Dhe(t,e,n){return t.resumeToken.approximateByteSize()===0||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=Bhe?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}function Rhe(t,e){return E(this,null,function*(){let n=H(t);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>Q.forEach(e,i=>Q.forEach(i.addedKeys,s=>n.persistence.referenceDelegate.addReference(r,i.targetId,s)).next(()=>Q.forEach(i.removedKeys,s=>n.persistence.referenceDelegate.removeReference(r,i.targetId,s)))))}catch(r){if(eA(r))F(gT,"Failed to update sequence numbers: "+r);else throw r}for(let r of e){let i=r.targetId;if(!r.fromCache){let s=n.targetDataByTarget.get(i),o=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(o);n.targetDataByTarget=n.targetDataByTarget.insert(i,a)}}})}function The(t,e){let n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Va),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function khe(t,e){let n=H(t);return n.persistence.runTransaction("read document","readonly",r=>n.localDocuments.getDocument(r,e))}function Uu(t,e){let n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.targetCache.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.targetCache.allocateTargetId(r).next(o=>(i=new Lu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.targetCache.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.targetDataByTarget.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.targetDataByTarget=n.targetDataByTarget.insert(r.targetId,r),n.targetIdByTarget.set(e,r.targetId)),r})}function Nhe(t,e,n){let r=H(t),i=r.targetIdByTarget.get(n);return i!==void 0?Q.resolve(r.targetDataByTarget.get(i)):r.targetCache.getTargetData(e,n)}function Pu(t,e,n){return E(this,null,function*(){let r=H(t),i=r.targetDataByTarget.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(eA(o))F(gT,`Failed to update sequence numbers for target ${e}: ${o}`);else throw o}r.targetDataByTarget=r.targetDataByTarget.remove(e),r.targetIdByTarget.delete(i.target)})}function Ny(t,e,n){let r=H(t),i=ne.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>Nhe(r,o,ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.targetCache.getMatchingKeysForTargetId(o,a.targetId).next(A=>{s=A})}).next(()=>r.queryEngine.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:Ie())).next(a=>(IY(r,bH(e),a),{documents:a,remoteKeys:s})))}function Fhe(t,e,n,r){let i=n.batch,s=i.keys(),o=Q.resolve();return s.forEach(a=>{o=o.next(()=>r.getEntry(e,a)).next(A=>{let l=n.docVersions.get(a);X(l!==null),A.version.compareTo(l)<0&&(i.applyToRemoteDocument(A,n),A.isValidDocument()&&(A.setReadTime(n.commitVersion),r.addEntry(A)))})}),o.next(()=>t.mutationQueue.removeMutationBatch(e,i))}function xhe(t,e){let n=H(t),r=H(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",i=>r.lookupMutationKeys(i,e).next(s=>s?n.localDocuments.getDocuments(i,s):Q.resolve(null)))}function Mhe(t,e){H(H(t,Sg).mutationQueue).removeCachedMutationKeys(e)}function Lhe(t){return H(H(t,Sg).persistence).getActiveClients()}function mY(t,e){let n=H(t),r=H(n.targetCache),i=n.targetDataByTarget.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.getTargetDataForTarget(s,e).next(o=>o?o.target:null))}function CY(t,e){let n=H(t),r=n.collectionGroupReadTime.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.remoteDocuments.getAllFromCollectionGroup(i,e,WG(r,Du),Number.MAX_SAFE_INTEGER)).then(i=>(IY(n,e,i),i))}function IY(t,e,n){let r=t.collectionGroupReadTime.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.collectionGroupReadTime.set(e,r)}function Ohe(t){return ir(Ku(Me.fromString(`__bundle__/docs/${t}`)))}function Uhe(t,e,n,r){return E(this,null,function*(){let i=H(t),s=Ie(),o=Qr();for(let l of n){let c=e.toDocumentKey(l.metadata.name);l.document&&(s=s.add(c));let u=e.toMutableDocument(l);u.setReadTime(e.toSnapshotVersion(l.metadata.readTime)),o=o.insert(c,u)}let a=i.remoteDocuments.newChangeBuffer({trackRemovals:!0}),A=yield Uu(i,Ohe(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>EY(l,a,o).next(c=>(a.apply(l),c)).next(c=>i.targetCache.removeMatchingKeysForTargetId(l,A.targetId).next(()=>i.targetCache.addMatchingKeys(l,s,A.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,c.changedDocuments,c.existenceChangedKeys)).next(()=>c.changedDocuments)))})}function Phe(t,e){let n=H(t),r=Jt(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",i=>n.bundleCache.getBundleMetadata(i,e.id)).then(i=>!!i&&i.createTime.compareTo(r)>=0)}function Vhe(t,e){let n=H(t);return n.persistence.runTransaction("Save bundle","readwrite",r=>n.bundleCache.saveBundleMetadata(r,e))}function qhe(t,e){let n=H(t);return n.persistence.runTransaction("Get named query","readonly",r=>n.bundleCache.getNamedQuery(r,e))}function Ghe(r,i){return E(this,arguments,function*(t,e,n=Ie()){let s=yield Uu(t,ir(cT(e.bundledQuery))),o=H(t);return o.persistence.runTransaction("Save named query","readwrite",a=>{let A=Jt(e.readTime);if(s.snapshotVersion.compareTo(A)>=0)return o.bundleCache.saveNamedQuery(a,e);let l=s.withResumeToken(Cn.EMPTY_BYTE_STRING,A);return o.targetDataByTarget=o.targetDataByTarget.insert(l.targetId,l),o.targetCache.updateTargetData(a,l).next(()=>o.targetCache.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.targetCache.addMatchingKeys(a,n,s.targetId)).next(()=>o.bundleCache.saveNamedQuery(a,e))})})}var oR=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Hhe=100;function Yhe(){return m0()?8:bo.getAndroidVersion(Ld())>0?6:4}var ry=class{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=Hhe,this.relativeIndexReadCostPerDocument=Yhe()}initialize(e,n){this.localDocumentsView=e,this.indexManager=n,this.initialized=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.performQueryUsingIndex(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.performQueryUsingRemoteKeys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new oR;return this.executeFullCollectionScan(e,n,o).next(a=>{if(s.result=a,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,n,o,a.size)})}).next(()=>s.result)}createCacheIndexes(e,n,r,i){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(Iu()<=ci.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",yu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),Q.resolve()):(Iu()<=ci.DEBUG&&F("QueryEngine","Query:",yu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*i?(Iu()<=ci.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",yu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):Q.resolve())}performQueryUsingIndex(e,n){if(Yq(n))return Q.resolve(null);let r=ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=GI(n,null,"F"),r=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ie(...s);return this.localDocumentsView.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(A=>{let l=this.applyQuery(n,a);return this.needsRefill(n,l,o,A.readTime)?this.performQueryUsingIndex(e,GI(n,null,"F")):this.appendRemainingResults(e,l,n,A)}))})))}performQueryUsingRemoteKeys(e,n,r,i){return Yq(n)||i.isEqual(ne.min())?Q.resolve(null):this.localDocumentsView.getDocuments(e,r).next(s=>{let o=this.applyQuery(n,s);return this.needsRefill(n,o,r,i)?Q.resolve(null):(Iu()<=ci.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yu(n)),this.appendRemainingResults(e,o,n,WG(i,Du)).next(a=>a))})}applyQuery(e,n){let r=new ot(DH(e));return n.forEach((i,s)=>{Vg(e,s)&&(r=r.add(s))}),r}needsRefill(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return s?s.hasPendingWrites||s.version.compareTo(i)>0:!1}executeFullCollectionScan(e,n,r){return Iu()<=ci.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",yu(n)),this.localDocumentsView.getDocumentsMatchingQuery(e,n,_i.min(),r)}appendRemainingResults(e,n,r,i){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var yY="firestore_clients";function _G(t,e){return`${yY}_${t}_${e}`}var BY="firestore_mutations";function vG(t,e,n){let r=`${BY}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}var QY="firestore_targets";function Jb(t,e){return`${QY}_${t}_${e}`}var Whe="firestore_online_state";function Jhe(t){return`${Whe}_${t}`}var zhe="firestore_bundle_loaded_v2";function jhe(t){return`${zhe}_${t}`}var Khe="firestore_sequence_number";function Xhe(t){return`${Khe}_${t}`}var Ls="SharedClientState",iy=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static fromWebStorageEntry(e,n,r){let i=JSON.parse(r),s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object"),o;return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new R(i.error.code,i.error.message))),s?new t(e,n,i.state,o):(Rt(Ls,`Failed to parse mutation state for ID '${n}': ${r}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Ag=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static fromWebStorageEntry(e,n){let r=JSON.parse(n),i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object"),s;return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new R(r.error.code,r.error.message))),i?new t(e,r.state,s):(Rt(Ls,`Failed to parse target state for ID '${e}': ${n}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},sy=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static fromWebStorageEntry(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=AT();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=fH(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Rt(Ls,`Failed to parse client data for instance '${e}': ${n}`),null)}},aR=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static fromWebStorageEntry(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Rt(Ls,`Failed to parse online state: ${e}`),null)}},bg=class{constructor(){this.activeTargetIds=AT()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},lg=class{constructor(e,n,r,i,s){this.window=e,this.queue=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new pt(me),this.started=!1,this.earlyEvents=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.localClientStorageKey=_G(this.persistenceKey,this.localClientId),this.sequenceNumberKey=Xhe(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new bg),this.clientStateKeyRe=new RegExp(`^${yY}_${o}_([^_]*)$`),this.mutationBatchKeyRe=new RegExp(`^${BY}_${o}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=new RegExp(`^${QY}_${o}_(\\d+)$`),this.onlineStateKey=Jhe(this.persistenceKey),this.bundleLoadedKey=jhe(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(e){return!!(e&&e.localStorage)}start(){return E(this,null,function*(){let e=yield this.syncEngine.getActiveClients();for(let r of e){if(r===this.localClientId)continue;let i=this.getItem(_G(this.persistenceKey,r));if(i){let s=sy.fromWebStorageEntry(r,i);s&&(this.activeClients=this.activeClients.insert(s.clientId,s))}}this.persistClientState();let n=this.storage.getItem(this.onlineStateKey);if(n){let r=this.fromWebStorageOnlineState(n);r&&this.handleOnlineStateEvent(r)}for(let r of this.earlyEvents)this.handleWebStorageEvent(r);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(e){let n=!1;return this.activeClients.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.persistMutationState(e,"pending")}updateMutationState(e,n,r){this.persistMutationState(e,n,r),this.removeMutationState(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(Jb(this.persistenceKey,e));if(r){let i=Ag.fromWebStorageEntry(e,r);i&&(n=i.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),n}removeLocalQueryTarget(e){this.localClientState.removeQueryTarget(e),this.persistClientState()}isLocalQueryTarget(e){return this.localClientState.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jb(this.persistenceKey,e))}updateQueryState(e,n,r){this.persistQueryTargetState(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.removeMutationState(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.persistOnlineState(e)}notifyBundleLoaded(e){this.persistBundleLoadedState(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return F(Ls,"READ",e,n),n}setItem(e,n){F(Ls,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){F(Ls,"REMOVE",e),this.storage.removeItem(e)}handleWebStorageEvent(e){let n=e;if(n.storageArea===this.storage){if(F(Ls,"EVENT",n.key,n.newValue),n.key===this.localClientStorageKey){Rt("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(()=>E(this,null,function*(){if(!this.started){this.earlyEvents.push(n);return}if(n.key!==null){if(this.clientStateKeyRe.test(n.key))if(n.newValue!=null){let r=this.fromWebStorageClientState(n.key,n.newValue);if(r)return this.handleClientStateEvent(r.clientId,r)}else{let r=this.fromWebStorageClientStateKey(n.key);return this.handleClientStateEvent(r,null)}else if(this.mutationBatchKeyRe.test(n.key)){if(n.newValue!==null){let r=this.fromWebStorageMutationMetadata(n.key,n.newValue);if(r)return this.handleMutationBatchEvent(r)}}else if(this.queryTargetKeyRe.test(n.key)){if(n.newValue!==null){let r=this.fromWebStorageQueryTargetMetadata(n.key,n.newValue);if(r)return this.handleQueryTargetEvent(r)}}else if(n.key===this.onlineStateKey){if(n.newValue!==null){let r=this.fromWebStorageOnlineState(n.newValue);if(r)return this.handleOnlineStateEvent(r)}}else if(n.key===this.sequenceNumberKey){let r=Zhe(n.newValue);r!==Ur.INVALID&&this.sequenceNumberHandler(r)}else if(n.key===this.bundleLoadedKey){let r=this.fromWebStoreBundleLoadedState(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.synchronizeWithChangedDocuments(i)))}}}))}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(e,n,r){let i=new iy(this.currentUser,e,n,r),s=vG(this.persistenceKey,this.currentUser,e);this.setItem(s,i.toWebStorageJSON())}removeMutationState(e){let n=vG(this.persistenceKey,this.currentUser,e);this.removeItem(n)}persistOnlineState(e){let n={clientId:this.localClientId,onlineState:e};this.storage.setItem(this.onlineStateKey,JSON.stringify(n))}persistQueryTargetState(e,n,r){let i=Jb(this.persistenceKey,e),s=new Ag(e,n,r);this.setItem(i,s.toWebStorageJSON())}persistBundleLoadedState(e){let n=JSON.stringify(Array.from(e));this.setItem(this.bundleLoadedKey,n)}fromWebStorageClientStateKey(e){let n=this.clientStateKeyRe.exec(e);return n?n[1]:null}fromWebStorageClientState(e,n){let r=this.fromWebStorageClientStateKey(e);return sy.fromWebStorageEntry(r,n)}fromWebStorageMutationMetadata(e,n){let r=this.mutationBatchKeyRe.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return iy.fromWebStorageEntry(new tn(s),i,n)}fromWebStorageQueryTargetMetadata(e,n){let r=this.queryTargetKeyRe.exec(e),i=Number(r[1]);return Ag.fromWebStorageEntry(i,n)}fromWebStorageOnlineState(e){return aR.fromWebStorageEntry(e)}fromWebStoreBundleLoadedState(e){return JSON.parse(e)}handleMutationBatchEvent(e){return E(this,null,function*(){if(e.user.uid!==this.currentUser.uid){F(Ls,`Ignoring mutation for non-active user ${e.user.uid}`);return}return this.syncEngine.applyBatchState(e.batchId,e.state,e.error)})}handleQueryTargetEvent(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)}handleClientStateEvent(e,n){let r=n?this.activeClients.insert(e,n):this.activeClients.remove(e),i=this.extractActiveQueryTargets(this.activeClients),s=this.extractActiveQueryTargets(r),o=[],a=[];return s.forEach(A=>{i.has(A)||o.push(A)}),i.forEach(A=>{s.has(A)||a.push(A)}),this.syncEngine.applyActiveTargetsChange(o,a).then(()=>{this.activeClients=r})}handleOnlineStateEvent(e){this.activeClients.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}extractActiveQueryTargets(e){let n=AT();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}};function Zhe(t){let e=Ur.INVALID;if(t!=null)try{let n=JSON.parse(t);X(typeof n=="number"),e=n}catch(n){Rt(Ls,"Failed to read sequence number from WebStorage",n)}return e}var oy=class{constructor(){this.localState=new bg,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,n,r){this.queryState[e]=n}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new bg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var AR=class{addCallback(e){}shutdown(){}};var lR=class{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}};var vI=null;function $he(){return 268435456+Math.round(2147483648*Math.random())}function zb(){return vI===null?vI=$he():vI++,"0x"+vI.toString(16)}function ede(t){return new Promise((e,n)=>{t((r,i)=>{r?n(r):e(i)})})}var tde="1.9.1",nr="GrpcConnection",nde=`gl-node/${process.versions.node} fire/${Wu} grpc/${tde}`;function jb(t,e,n,r){X(e===null||e.type==="OAuth");let i=new sl.Metadata;return e&&e.headers.forEach((s,o)=>i.set(o,s)),n&&n.headers.forEach((s,o)=>i.set(o,s)),r&&i.set("X-Firebase-GMPID",r),i.set("X-Goog-Api-Client",nde),i.set("Google-Cloud-Resource-Prefix",t),i.set("x-goog-request-params",t),i}var cR=class{constructor(e,n){this.databaseInfo=n,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${n.databaseId.projectId}/databases/${n.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){F(nr,"Creating Firestore stub.");let e=this.databaseInfo.ssl?sl.credentials.createSsl():sl.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,n,r,i,s){let o=zb(),a=this.ensureActiveStub(),A=jb(this.databasePath,i,s,this.databaseInfo.appId),l=Object.assign({database:this.databasePath},r);return ede(c=>(F(nr,`RPC '${e}' ${o} invoked with request:`,r),a[e](l,A,(u,h)=>{u?(F(nr,`RPC '${e}' ${o} failed with error:`,u),c(new R(TI(u.code),u.message))):(F(nr,`RPC '${e}' ${o} completed with response:`,h),c(void 0,h))})))}invokeStreamingRPC(e,n,r,i,s,o){let a=zb(),A=[],l=new Wt;F(nr,`RPC '${e}' ${a} invoked (streaming) with request:`,r);let c=this.ensureActiveStub(),u=jb(this.databasePath,i,s,this.databaseInfo.appId),h=Object.assign(Object.assign({},r),{database:this.databasePath}),d=c[e](h,u),f=!1;return d.on("data",g=>{F(nr,`RPC ${e} ${a} received result:`,g),A.push(g),o!==void 0&&A.length===o&&(f=!0,l.resolve(A))}),d.on("end",()=>{F(nr,`RPC '${e}' ${a} completed.`),f||(f=!0,l.resolve(A))}),d.on("error",g=>{F(nr,`RPC '${e}' ${a} failed with error:`,g);let m=TI(g.code);l.reject(new R(m,g.message))}),l.promise}openStream(e,n,r){let i=zb(),s=this.ensureActiveStub(),o=jb(this.databasePath,n,r,this.databaseInfo.appId),a=s[e](o),A=!1,l=u=>{A||(A=!0,c.callOnClose(u),a.end())},c=new lR({sendFn:u=>{if(A)F(nr,`RPC '${e}' stream ${i} not sending because gRPC stream is closed:`,u);else{F(nr,`RPC '${e}' stream ${i} sending:`,u);try{a.write(u)}catch(h){throw Rt("Failure sending:",u),Rt("Error:",h),h}}},closeFn:()=>{F(nr,`RPC '${e}' stream ${i} closed locally via close().`),l()}});return a.on("data",u=>{A||(F(nr,`RPC '${e}' stream ${i} received:`,u),c.callOnMessage(u))}),a.on("end",()=>{F(nr,`RPC '${e}' stream ${i} ended.`),l()}),a.on("error",u=>{if(!A){wi(nr,`RPC '${e}' stream ${i} error. Code:`,u.code,"Message:",u.message);let h=TI(u.code);l(new R(h,u.message))}}),F(nr,`Opening RPC '${e}' stream ${i} to ${this.databaseInfo.host}`),setTimeout(()=>{c.callOnOpen()},0),c}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}},wY={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},rde={nested:wY},ide=Object.freeze({__proto__:null,nested:wY,default:rde});var sde={longs:String,enums:String,defaults:!0,oneofs:!1};function ode(){let t=qG.fromJSON(ide,sde);return sl.loadPackageDefinition(t)}function ade(t){let e=ode();return new cR(e,t)}function Ade(){return new AR}function _Y(){return process.env.USE_MOCK_PERSISTENCE==="YES"?window:null}function lde(){return null}function Gg(t){return new TD(t,!1)}var cde="ExponentialBackoff",ude=1e3,hde=1.5,dde=60*1e3,Dg=class{constructor(e,n,r=ude,i=hde,s=dde){this.queue=e,this.timerId=n,this.initialDelayMs=r,this.backoffFactor=i,this.maxDelayMs=s,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);i>0&&F(cde,`Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){this.timerPromise!==null&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){this.timerPromise!==null&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}};var SG="PersistentStream",fde=60*1e3,gde=10*1e3,ay=class{constructor(e,n,r,i,s,o,a,A){this.queue=e,this.idleTimerId=r,this.healthTimerId=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=A,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.backoff=new Dg(e,n)}isStarted(){return this.state===1||this.state===5||this.isOpen()}isOpen(){return this.state===2||this.state===3}start(){if(this.state===4){this.performBackoff();return}this.auth()}stop(){return E(this,null,function*(){this.isStarted()&&(yield this.close(0))})}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&this.idleTimer===null&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,fde,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}handleIdleCloseTimer(){return E(this,null,function*(){if(this.isOpen())return this.close(0)})}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}close(e,n){return E(this,null,function*(){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,e!==4?this.backoff.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Rt(n.toString()),Rt("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):n&&n.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.onClose(n)})}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.closeCount===n&&this.startStream(r,i)},r=>{e(()=>{let i=new R(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.handleStreamClose(i)})})}startStream(e,n){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,n),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,gde,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(i=>{r(()=>this.handleStreamClose(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(()=>E(this,null,function*(){this.state=0,this.start()}))}handleStreamClose(e){return F(SG,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return n=>{this.queue.enqueueAndForget(()=>this.closeCount===e?n():(F(SG,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},uR=class extends ay{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}startRpc(e,n){return this.connection.openStream("Listen",e,n)}onMessage(e){this.backoff.reset();let n=Sce(this.serializer,e),r=Dce(e);return this.listener.onWatchChange(n,r)}watch(e){let n={};n.database=FD(this.serializer),n.addTarget=Pce(this.serializer,e);let r=Oce(this.serializer,e);r&&(n.labels=r),this.sendRequest(n)}unwatch(e){let n={};n.database=FD(this.serializer),n.removeTarget=e,this.sendRequest(n)}},hR=class extends ay{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.handshakeComplete_=!1}get handshakeComplete(){return this.handshakeComplete_}start(){this.handshakeComplete_=!1,this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete_&&this.writeMutations([])}startRpc(e,n){return this.connection.openStream("Write",e,n)}onMessage(e){if(X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();let n=Nce(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.onMutationResult(r,n)}else return X(!e.writeResults||e.writeResults.length===0),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()}writeHandshake(){let e={};e.database=FD(this.serializer),this.sendRequest(e)}writeMutations(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>wg(this.serializer,r))};this.sendRequest(n)}};var dR=class{},fR=class extends dR{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new R(v.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,n,r,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.invokeRPC(e,ND(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new R(v.UNKNOWN,s.toString())})}invokeStreamingRPC(e,n,r,i,s){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.invokeStreamingRPC(e,ND(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new R(v.UNKNOWN,o.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}};function pde(t,e,n,r){return new fR(t,e,n,r)}function Ede(t,e){return E(this,null,function*(){let n=H(t),r={writes:e.map(i=>wg(n.serializer,i))};yield n.invokeRPC("Commit",n.serializer.databaseId,Me.emptyPath(),r)})}function mde(t,e){return E(this,null,function*(){let n=H(t),r={documents:e.map(a=>Qg(n.serializer,a))},i=yield n.invokeStreamingRPC("BatchGetDocuments",n.serializer.databaseId,Me.emptyPath(),r,e.length),s=new Map;i.forEach(a=>{let A=vce(n.serializer,a);s.set(A.key.toString(),A)});let o=[];return e.forEach(a=>{let A=s.get(a.toString());X(!!A),o.push(A)}),o})}function Cde(t,e,n){let r=H(t);return r.verifyInitialized(),new hR(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}function Ide(t,e,n){let r=H(t);return r.verifyInitialized(),new uR(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}var yde="OnlineStateTracker",bG=1,DG=10*1e3,gR=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){this.watchStreamFailures===0&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",DG,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${DG/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){this.state==="Online"?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=bG&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${bG} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e==="Online"&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(Rt(n),this.shouldWarnClientIsOffline=!1):F(yde,n)}clearOnlineStateTimer(){this.onlineStateTimer!==null&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}};var gl="RemoteStore",Bde=10,pR=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=s,this.connectivityMonitor.addCallback(o=>{r.enqueueAndForget(()=>E(this,null,function*(){tA(this)&&(F(gl,"Restarting streams for network reachability change."),yield Ude(this))}))}),this.onlineStateTracker=new gR(r,i)}};function Qde(t,e,n,r,i){return new pR(t,e,n,r,i)}function wde(t){let e=H(t);return e.offlineCauses.delete(0),Hg(e)}function Hg(t){return E(this,null,function*(){if(tA(t))for(let e of t.onNetworkStatusChange)yield e(!0)})}function _de(t){return E(this,null,function*(){let e=H(t);e.offlineCauses.add(0),yield Xu(e),e.onlineStateTracker.set("Offline")})}function Xu(t){return E(this,null,function*(){for(let e of t.onNetworkStatusChange)yield e(!1)})}function vde(t){return E(this,null,function*(){let e=H(t);F(gl,"RemoteStore shutting down."),e.offlineCauses.add(5),yield Xu(e),e.connectivityMonitor.shutdown(),e.onlineStateTracker.set("Unknown")})}function Fy(t,e){let n=H(t);n.listenTargets.has(e.targetId)||(n.listenTargets.set(e.targetId,e),mT(n)?ET(n):$u(n).isOpen()&&pT(n,e))}function Yg(t,e){let n=H(t),r=$u(n);n.listenTargets.delete(e),r.isOpen()&&vY(n,e),n.listenTargets.size===0&&(r.isOpen()?r.markIdle():tA(n)&&n.onlineStateTracker.set("Unknown"))}function pT(t,e){if(t.watchChangeAggregator.recordPendingTargetRequest(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$u(t).watch(e)}function vY(t,e){t.watchChangeAggregator.recordPendingTargetRequest(e),$u(t).unwatch(e)}function ET(t){t.watchChangeAggregator=new RD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),getTargetDataForTarget:e=>t.listenTargets.get(e)||null,getDatabaseId:()=>t.datastore.serializer.databaseId}),$u(t).start(),t.onlineStateTracker.handleWatchStreamStart()}function mT(t){return tA(t)&&!$u(t).isStarted()&&t.listenTargets.size>0}function tA(t){return H(t).offlineCauses.size===0}function SY(t){t.watchChangeAggregator=void 0}function Sde(t){return E(this,null,function*(){t.listenTargets.forEach((e,n)=>{pT(t,e)})})}function bde(t,e){return E(this,null,function*(){SY(t),mT(t)?(t.onlineStateTracker.handleWatchStreamFailure(e),ET(t)):t.onlineStateTracker.set("Unknown")})}function Dde(t,e,n){return E(this,null,function*(){if(t.onlineStateTracker.set("Online"),e instanceof YI&&e.state===2&&e.cause){try{yield Tde(t,e)}catch(r){F(gl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ay(t,r)}return}if(e instanceof bu?t.watchChangeAggregator.handleDocumentChange(e):e instanceof HI?t.watchChangeAggregator.handleExistenceFilter(e):t.watchChangeAggregator.handleTargetChange(e),!n.isEqual(ne.min()))try{let r=yield pY(t.localStore);n.compareTo(r)>=0&&(yield Rde(t,n))}catch(r){F(gl,"Failed to raise snapshot:",r),yield Ay(t,r)}})}function Ay(t,e,n){return E(this,null,function*(){if(eA(e))t.offlineCauses.add(1),yield Xu(t),t.onlineStateTracker.set("Offline"),n||(n=()=>pY(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){F(gl,"Retrying IndexedDB access"),yield n(),t.offlineCauses.delete(1),yield Hg(t)}));else throw e})}function bY(t,e){return e().catch(n=>Ay(t,n,e))}function Rde(t,e){let n=t.watchChangeAggregator.createRemoteEvent(e);return n.targetChanges.forEach((r,i)=>{if(r.resumeToken.approximateByteSize()>0){let s=t.listenTargets.get(i);s&&t.listenTargets.set(i,s.withResumeToken(r.resumeToken,e))}}),n.targetMismatches.forEach((r,i)=>{let s=t.listenTargets.get(r);if(!s)return;t.listenTargets.set(r,s.withResumeToken(Cn.EMPTY_BYTE_STRING,s.snapshotVersion)),vY(t,r);let o=new Lu(s.target,r,i,s.sequenceNumber);pT(t,o)}),t.remoteSyncer.applyRemoteEvent(n)}function Tde(t,e){return E(this,null,function*(){let n=e.cause;for(let r of e.targetIds)t.listenTargets.has(r)&&(yield t.remoteSyncer.rejectListen(r,n),t.listenTargets.delete(r),t.watchChangeAggregator.removeTarget(r))})}function Zu(t){return E(this,null,function*(){let e=H(t),n=nA(e),r=e.writePipeline.length>0?e.writePipeline[e.writePipeline.length-1].batchId:Va;for(;kde(e);)try{let i=yield The(e.localStore,r);if(i===null){e.writePipeline.length===0&&n.markIdle();break}else r=i.batchId,Nde(e,i)}catch(i){yield Ay(e,i)}DY(e)&&RY(e)})}function kde(t){return tA(t)&&t.writePipeline.length<Bde}function Nde(t,e){t.writePipeline.push(e);let n=nA(t);n.isOpen()&&n.handshakeComplete&&n.writeMutations(e.mutations)}function DY(t){return tA(t)&&!nA(t).isStarted()&&t.writePipeline.length>0}function RY(t){nA(t).start()}function Fde(t){return E(this,null,function*(){nA(t).writeHandshake()})}function xde(t){return E(this,null,function*(){let e=nA(t);for(let n of t.writePipeline)e.writeMutations(n.mutations)})}function Mde(t,e,n){return E(this,null,function*(){let r=t.writePipeline.shift(),i=vD.from(r,e,n);yield bY(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Zu(t)})}function Lde(t,e){return E(this,null,function*(){e&&nA(t).handshakeComplete&&(yield Ode(t,e)),DY(t)&&RY(t)})}function Ode(t,e){return E(this,null,function*(){if(lce(e.code)){let n=t.writePipeline.shift();nA(t).inhibitBackoff(),yield bY(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),yield Zu(t)}})}function Ude(t){return E(this,null,function*(){let e=H(t);e.offlineCauses.add(4),yield Xu(e),e.onlineStateTracker.set("Unknown"),e.offlineCauses.delete(4),yield Hg(e)})}function RG(t,e){return E(this,null,function*(){let n=H(t);n.asyncQueue.verifyOperationInProgress(),F(gl,"RemoteStore received new credentials");let r=tA(n);n.offlineCauses.add(3),yield Xu(n),r&&n.onlineStateTracker.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.offlineCauses.delete(3),yield Hg(n)})}function ER(t,e){return E(this,null,function*(){let n=H(t);e?(n.offlineCauses.delete(2),yield Hg(n)):e||(n.offlineCauses.add(2),yield Xu(n),n.onlineStateTracker.set("Unknown"))})}function $u(t){return t.watchStream||(t.watchStream=Ide(t.datastore,t.asyncQueue,{onOpen:Sde.bind(null,t),onClose:bde.bind(null,t),onWatchChange:Dde.bind(null,t)}),t.onNetworkStatusChange.push(e=>E(this,null,function*(){e?(t.watchStream.inhibitBackoff(),mT(t)?ET(t):t.onlineStateTracker.set("Unknown")):(yield t.watchStream.stop(),SY(t))}))),t.watchStream}function nA(t){return t.writeStream||(t.writeStream=Cde(t.datastore,t.asyncQueue,{onOpen:Fde.bind(null,t),onClose:Lde.bind(null,t),onHandshakeComplete:xde.bind(null,t),onMutationResult:Mde.bind(null,t)}),t.onNetworkStatusChange.push(e=>E(this,null,function*(){e?(t.writeStream.inhibitBackoff(),yield Zu(t)):(yield t.writeStream.stop(),t.writePipeline.length>0&&(F(gl,`Stopping write stream with ${t.writePipeline.length} pending writes`),t.writePipeline=[]))}))),t.writeStream}var Pde="AsyncQueue",mR=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new R(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function eh(t,e){if(Rt(Pde,`${e}: ${t}`),eA(t))return new R(v.UNAVAILABLE,`${e}: ${t}`);throw t}var ly=class t{constructor(e){e?this.comparator=(n,r)=>e(n,r)||V.comparator(n.key,r.key):this.comparator=(n,r)=>V.comparator(n.key,r.key),this.keyedMap=ng(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var cy=class{constructor(){this.changeMap=new pt(V.comparator)}track(e){let n=e.doc.key,r=this.changeMap.get(n);if(!r){this.changeMap=this.changeMap.insert(n,e);return}e.type!==0&&r.type===3?this.changeMap=this.changeMap.insert(n,e):e.type===3&&r.type!==1?this.changeMap=this.changeMap.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.changeMap=this.changeMap.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.changeMap=this.changeMap.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.changeMap=this.changeMap.remove(n):e.type===1&&r.type===2?this.changeMap=this.changeMap.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.changeMap=this.changeMap.insert(n,{type:2,doc:e.doc}):W()}getChanges(){let e=[];return this.changeMap.inorderTraversal((n,r)=>{e.push(r)}),e}},Vu=class t{constructor(e,n,r,i,s,o,a,A,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ly.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!Pg(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var CR=class{constructor(){this.viewSnap=void 0,this.listeners=[]}};function Vde(){return new IR}var IR=class{constructor(){this.queries=new Gs(e=>SH(e),Pg),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}};function CT(t,e){return E(this,null,function*(){let n=H(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new CR),i)try{s.viewSnap=yield n.onListen(r)}catch(o){let a=eh(o,`Initialization of query '${yu(e.query)}' failed`);e.onError(a);return}n.queries.set(r,s),s.listeners.push(e),e.applyOnlineStateChange(n.onlineState),s.viewSnap&&e.onViewSnapshot(s.viewSnap)&&yT(n)})}function IT(t,e){return E(this,null,function*(){let n=H(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function qde(t,e){let n=H(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.onViewSnapshot(i)&&(r=!0);o.viewSnap=i}}r&&yT(n)}function Gde(t,e,n){let r=H(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function Hde(t,e){let n=H(t);n.onlineState=e;let r=!1;n.queries.forEach((i,s)=>{for(let o of s.listeners)o.applyOnlineStateChange(e)&&(r=!0)}),r&&yT(n)}function Yde(t,e){H(t).snapshotsInSyncListeners.add(e),e.next()}function Wde(t,e){H(t).snapshotsInSyncListeners.delete(e)}function yT(t){t.snapshotsInSyncListeners.forEach(e=>{e.next()})}var Rg=class{constructor(e,n,r){this.query=e,this.queryObserver=n,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),n=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),n=!0),this.snap=e,n}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let n=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),n=!0),n}shouldRaiseInitialEvent(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return this.options.waitForSyncWhenOnline&&r?!1:!e.docs.isEmpty()||e.hasCachedResults||n==="Offline"}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let n=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return e.syncStateChanged||n?this.options.includeMetadataChanges===!0:!1}raiseInitialEvent(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}};var yR=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.addedKeys=r,this.removedKeys=i}static fromSnapshot(e,n){let r=Ie(),i=Ie();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key);break}return new t(e,n.fromCache,r,i)}};var uy=class{constructor(e){this.serializer=e}toDocumentKey(e){return Ps(this.serializer,e)}toMutableDocument(e){return e.metadata.exists?XH(this.serializer,e.document,!1):en.newNoDocument(this.toDocumentKey(e.metadata.name),this.toSnapshotVersion(e.metadata.readTime))}toSnapshotVersion(e){return Jt(e)}},BR=class{constructor(e,n,r){this.bundleMetadata=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TY(e)}addSizedElement(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;let r=Me.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}getQueryDocumentMapping(e){let n=new Map,r=new uy(this.serializer);for(let i of e)if(i.metadata.queries){let s=r.toDocumentKey(i.metadata.name);for(let o of i.metadata.queries){let a=(n.get(o)||Ie()).add(s);n.set(o,a)}}return n}complete(){return E(this,null,function*(){let e=yield Uhe(this.localStore,new uy(this.serializer),this.documents,this.bundleMetadata.id),n=this.getQueryDocumentMapping(this.documents);for(let r of this.queries)yield Ghe(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:e}})}};function TY(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}function Jde(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var hy=class{constructor(e){this.key=e}},dy=class{constructor(e){this.key=e}},fy=class{constructor(e,n){this.query=e,this._syncedDocuments=n,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=Ie(),this.mutatedKeys=Ie(),this.docComparator=DH(e),this.documentSet=new ly(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,n){let r=n?n.changeSet:new cy,i=n?n.documentSet:this.documentSet,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,u)=>{let h=i.get(c),d=Vg(this.query,u)?u:null,f=h?this.mutatedKeys.has(h.key):!1,g=d?d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations:!1,m=!1;h&&d?h.data.isEqual(d.data)?f!==g&&(r.track({type:3,doc:d}),m=!0):this.shouldWaitForSyncedDocument(h,d)||(r.track({type:2,doc:d}),m=!0,(A&&this.docComparator(d,A)>0||l&&this.docComparator(d,l)<0)&&(a=!0)):!h&&d?(r.track({type:0,doc:d}),m=!0):h&&!d&&(r.track({type:1,doc:h}),m=!0,(A||l)&&(a=!0)),m&&(d?(o=o.add(d),g?s=s.add(c):s=s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}}shouldWaitForSyncedDocument(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let o=e.changeSet.getChanges();o.sort((u,h)=>zde(u.type,h.type)||this.docComparator(u.doc,h.doc)),this.applyTargetChange(r),i=i??!1;let a=n&&!i?this.updateLimboDocuments():[],l=this.limboDocuments.size===0&&this.current&&!i?1:0,c=l!==this.syncState;return this.syncState=l,o.length===0&&!c?{limboChanges:a}:{snapshot:new Vu(this.query,e.documentSet,s,o,e.mutatedKeys,l===0,c,!1,r?r.resumeToken.approximateByteSize()>0:!1),limboChanges:a}}applyOnlineStateChange(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new cy,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!(this._syncedDocuments.has(e)||!this.documentSet.has(e)||this.documentSet.get(e).hasLocalMutations)}applyTargetChange(e){e&&(e.addedDocuments.forEach(n=>this._syncedDocuments=this._syncedDocuments.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this._syncedDocuments=this._syncedDocuments.delete(n)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=Ie(),this.documentSet.forEach(r=>{this.shouldBeInLimbo(r.key)&&(this.limboDocuments=this.limboDocuments.add(r.key))});let n=[];return e.forEach(r=>{this.limboDocuments.has(r)||n.push(new dy(r))}),this.limboDocuments.forEach(r=>{e.has(r)||n.push(new hy(r))}),n}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Ie();let n=this.computeDocChanges(e.documents);return this.applyChanges(n,!0)}computeInitialSnapshot(){return Vu.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===0,this.hasCachedResults)}};function zde(t,e){let n=r=>{switch(r){case 0:return 1;case 2:return 2;case 3:return 2;case 1:return 0;default:return W()}};return n(t)-n(e)}var rA="SyncEngine",QR=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},wR=class{constructor(e){this.key=e,this.receivedDocument=!1}},_R=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.syncEngineListener={},this.queryViewsByQuery=new Gs(a=>SH(a),Pg),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new pt(V.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new vg,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Ou.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return this._isPrimaryClient===!0}};function jde(t,e,n,r,i,s,o){let a=new _R(t,e,n,r,i,s);return o&&(a._isPrimaryClient=!0),a}function Kde(t,e){return E(this,null,function*(){let n=ST(t),r,i,s=n.queryViewsByQuery.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.computeInitialSnapshot();else{let o=yield Uu(n.localStore,ir(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield BT(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Fy(n.remoteStore,o)}return i})}function BT(t,e,n,r,i){return E(this,null,function*(){t.applyDocChanges=(u,h,d)=>ofe(t,u,h,d);let s=yield Ny(t.localStore,e,!0),o=new fy(e,s.remoteKeys),a=o.computeDocChanges(s.documents),A=Bg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,A);_T(t,n,l.limboChanges);let c=new QR(e,n,o);return t.queryViewsByQuery.set(e,c),t.queriesByTarget.has(n)?t.queriesByTarget.get(n).push(e):t.queriesByTarget.set(n,[e]),l.snapshot})}function Xde(t,e){return E(this,null,function*(){let n=H(t),r=n.queryViewsByQuery.get(e),i=n.queriesByTarget.get(r.targetId);if(i.length>1){n.queriesByTarget.set(r.targetId,i.filter(s=>!Pg(s,e))),n.queryViewsByQuery.delete(e);return}n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Yg(n.remoteStore,r.targetId),qu(n,r.targetId)}).catch($a))):(qu(n,r.targetId),yield Pu(n.localStore,r.targetId,!0))})}function Zde(t,e,n){return E(this,null,function*(){let r=bT(t);try{let i=yield Qhe(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),ife(r,i.batchId,n),yield Fo(r,i.changes),yield Zu(r.remoteStore)}catch(i){let s=eh(i,"Failed to persist write");n.reject(s)}})}function kY(t,e){return E(this,null,function*(){let n=H(t);try{let r=yield bhe(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.activeLimboResolutionsByTarget.get(s);o&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.receivedDocument=!0:i.modifiedDocuments.size>0?X(o.receivedDocument):i.removedDocuments.size>0&&(X(o.receivedDocument),o.receivedDocument=!1))}),yield Fo(n,r,e)}catch(r){yield $a(r)}})}function TG(t,e,n){let r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.queryViewsByQuery.forEach((s,o)=>{let a=o.view.applyOnlineStateChange(e);a.snapshot&&i.push(a.snapshot)}),Hde(r.eventManager,e),i.length&&r.syncEngineListener.onWatchChange(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $de(t,e,n){return E(this,null,function*(){let r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.activeLimboResolutionsByTarget.get(e),s=i&&i.key;if(s){let o=new pt(V.comparator);o=o.insert(s,en.newNoDocument(s,ne.min()));let a=Ie().add(s),A=new yg(ne.min(),new Map,new pt(me),o,a);yield kY(r,A),r.activeLimboTargetsByKey=r.activeLimboTargetsByKey.remove(s),r.activeLimboResolutionsByTarget.delete(e),vT(r)}else yield Pu(r.localStore,e,!1).then(()=>qu(r,e,n)).catch($a)})}function efe(t,e){return E(this,null,function*(){let n=H(t),r=e.batch.batchId;try{let i=yield whe(n.localStore,e);wT(n,r,null),QT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Fo(n,i)}catch(i){yield $a(i)}})}function tfe(t,e,n){return E(this,null,function*(){let r=H(t);try{let i=yield vhe(r.localStore,e);wT(r,e,n),QT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Fo(r,i)}catch(i){yield $a(i)}})}function nfe(t,e){return E(this,null,function*(){let n=H(t);tA(n.remoteStore)||F(rA,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield She(n.localStore);if(r===Va){e.resolve();return}let i=n.pendingWritesCallbacks.get(r)||[];i.push(e),n.pendingWritesCallbacks.set(r,i)}catch(r){let i=eh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function QT(t,e){(t.pendingWritesCallbacks.get(e)||[]).forEach(n=>{n.resolve()}),t.pendingWritesCallbacks.delete(e)}function rfe(t,e){t.pendingWritesCallbacks.forEach(n=>{n.forEach(r=>{r.reject(new R(v.CANCELLED,e))})}),t.pendingWritesCallbacks.clear()}function ife(t,e,n){let r=t.mutationUserCallbacks[t.currentUser.toKey()];r||(r=new pt(me)),r=r.insert(e,n),t.mutationUserCallbacks[t.currentUser.toKey()]=r}function wT(t,e,n){let r=H(t),i=r.mutationUserCallbacks[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.mutationUserCallbacks[r.currentUser.toKey()]=i}}function qu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.queriesByTarget.get(e))t.queryViewsByQuery.delete(r),n&&t.syncEngineListener.onWatchError(r,n);t.queriesByTarget.delete(e),t.isPrimaryClient&&t.limboDocumentRefs.removeReferencesForId(e).forEach(i=>{t.limboDocumentRefs.containsKey(i)||NY(t,i)})}function NY(t,e){t.enqueuedLimboResolutions.delete(e.path.canonicalString());let n=t.activeLimboTargetsByKey.get(e);n!==null&&(Yg(t.remoteStore,n),t.activeLimboTargetsByKey=t.activeLimboTargetsByKey.remove(e),t.activeLimboResolutionsByTarget.delete(n),vT(t))}function _T(t,e,n){for(let r of n)r instanceof hy?(t.limboDocumentRefs.addReference(r.key,e),sfe(t,r)):r instanceof dy?(F(rA,"Document no longer in limbo: "+r.key),t.limboDocumentRefs.removeReference(r.key,e),t.limboDocumentRefs.containsKey(r.key)||NY(t,r.key)):W()}function sfe(t,e){let n=e.key,r=n.path.canonicalString();!t.activeLimboTargetsByKey.get(n)&&!t.enqueuedLimboResolutions.has(r)&&(F(rA,"New document in limbo: "+n),t.enqueuedLimboResolutions.add(r),vT(t))}function vT(t){for(;t.enqueuedLimboResolutions.size>0&&t.activeLimboTargetsByKey.size<t.maxConcurrentLimboResolutions;){let e=t.enqueuedLimboResolutions.values().next().value;t.enqueuedLimboResolutions.delete(e);let n=new V(Me.fromString(e)),r=t.limboTargetIdGenerator.next();t.activeLimboResolutionsByTarget.set(r,new wR(n)),t.activeLimboTargetsByKey=t.activeLimboTargetsByKey.insert(n,r),Fy(t.remoteStore,new Lu(ir(Ku(n.path)),r,"TargetPurposeLimboResolution",Ur.INVALID))}}function Fo(t,e,n){return E(this,null,function*(){let r=H(t),i=[],s=[],o=[];r.queryViewsByQuery.isEmpty()||(r.queryViewsByQuery.forEach((a,A)=>{o.push(r.applyDocChanges(A,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(A.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let c=yR.fromSnapshot(A.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.syncEngineListener.onWatchChange(i),yield Rhe(r.localStore,s))})}function ofe(t,e,n,r){return E(this,null,function*(){let i=e.view.computeDocChanges(n);i.needsRefill&&(i=yield Ny(t.localStore,e.query,!1).then(({documents:A})=>e.view.computeDocChanges(A,i)));let s=r&&r.targetChanges.get(e.targetId),o=r&&r.targetMismatches.get(e.targetId)!=null,a=e.view.applyChanges(i,t.isPrimaryClient,s,o);return _T(t,e.targetId,a.limboChanges),a.snapshot})}function afe(t,e){return E(this,null,function*(){let n=H(t);if(!n.currentUser.isEqual(e)){F(rA,"User change. New user:",e.toKey());let i=yield gY(n.localStore,e);n.currentUser=e,rfe(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Fo(n,i.affectedDocuments)}})}function Afe(t,e){let n=H(t),r=n.activeLimboResolutionsByTarget.get(e);if(r&&r.receivedDocument)return Ie().add(r.key);{let i=Ie(),s=n.queriesByTarget.get(e);if(!s)return i;for(let o of s){let a=n.queryViewsByQuery.get(o);i=i.unionWith(a.view.syncedDocuments)}return i}}function lfe(t,e){return E(this,null,function*(){let n=H(t),r=yield Ny(n.localStore,e.query,!0),i=e.view.synchronizeWithPersistedState(r);return n.isPrimaryClient&&_T(n,e.targetId,i.limboChanges),i})}function cfe(t,e){return E(this,null,function*(){let n=H(t);return CY(n.localStore,e).then(r=>Fo(n,r))})}function ufe(t,e,n,r){return E(this,null,function*(){let i=H(t),s=yield xhe(i.localStore,e);if(s===null){F(rA,"Cannot apply mutation batch with id: "+e);return}n==="pending"?yield Zu(i.remoteStore):n==="acknowledged"||n==="rejected"?(wT(i,e,r||null),QT(i,e),Mhe(i.localStore,e)):W(),yield Fo(i,s)})}function hfe(t,e){return E(this,null,function*(){let n=H(t);if(ST(n),bT(n),e===!0&&n._isPrimaryClient!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield kG(n,r.toArray());n._isPrimaryClient=!0,yield ER(n.remoteStore,!0);for(let s of i)Fy(n.remoteStore,s)}else if(e===!1&&n._isPrimaryClient!==!1){let r=[],i=Promise.resolve();n.queriesByTarget.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(qu(n,o),Pu(n.localStore,o,!0))),Yg(n.remoteStore,o)}),yield i,yield kG(n,r),dfe(n),n._isPrimaryClient=!1,yield ER(n.remoteStore,!1)}})}function dfe(t){let e=H(t);e.activeLimboResolutionsByTarget.forEach((n,r)=>{Yg(e.remoteStore,r)}),e.limboDocumentRefs.removeAllReferences(),e.activeLimboResolutionsByTarget=new Map,e.activeLimboTargetsByKey=new pt(V.comparator)}function kG(t,e,n){return E(this,null,function*(){let r=H(t),i=[],s=[];for(let o of e){let a,A=r.queriesByTarget.get(o);if(A&&A.length!==0){a=yield Uu(r.localStore,ir(A[0]));for(let l of A){let c=r.queryViewsByQuery.get(l),u=yield lfe(r,c);u.snapshot&&s.push(u.snapshot)}}else{let l=yield mY(r.localStore,o);a=yield Uu(r.localStore,l),yield BT(r,FY(l),o,!1,a.resumeToken)}i.push(a)}return r.syncEngineListener.onWatchChange(s),i})}function FY(t){return vH(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ffe(t){let e=H(t);return Lhe(e.localStore)}function gfe(t,e,n,r){return E(this,null,function*(){let i=H(t);if(i._isPrimaryClient){F(rA,"Ignoring unexpected query state notification.");return}let s=i.queriesByTarget.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield CY(i.localStore,bH(s[0])),a=yg.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Cn.EMPTY_BYTE_STRING);yield Fo(i,o,a);break}case"rejected":{yield Pu(i.localStore,e,!0),qu(i,e,r);break}default:W()}})}function pfe(t,e,n){return E(this,null,function*(){let r=ST(t);if(r._isPrimaryClient){for(let i of e){if(r.queriesByTarget.has(i)){F(rA,"Adding an already active target "+i);continue}let s=yield mY(r.localStore,i),o=yield Uu(r.localStore,s);yield BT(r,FY(s),o.targetId,!1,o.resumeToken),Fy(r.remoteStore,o)}for(let i of n)r.queriesByTarget.has(i)&&(yield Pu(r.localStore,i,!1).then(()=>{Yg(r.remoteStore,i),qu(r,i)}).catch($a))}})}function ST(t){let e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kY.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Afe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$de.bind(null,e),e.syncEngineListener.onWatchChange=qde.bind(null,e.eventManager),e.syncEngineListener.onWatchError=Gde.bind(null,e.eventManager),e}function bT(t){let e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=efe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tfe.bind(null,e),e}function Efe(t,e,n){let r=H(t);mfe(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}function mfe(t,e,n){return E(this,null,function*(){try{let r=yield e.getMetadata();if(yield Phe(t.localStore,r))return yield e.close(),n._completeWith(Jde(r)),Promise.resolve(new Set);n._updateProgress(TY(r));let s=new BR(r,t.localStore,e.serializer),o=yield e.nextElement();for(;o;){let A=yield s.addSizedElement(o);A&&n._updateProgress(A),o=yield e.nextElement()}let a=yield s.complete();return yield Fo(t,a.changedDocs,void 0),yield Vhe(t.localStore,r),n._completeWith(a.progress),Promise.resolve(a.changedCollectionGroups)}catch(r){return wi(rA,`Loading bundle failed with ${r}`),n._failWith(r),Promise.resolve(new Set)}})}var Tg=class{constructor(){this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){this.serializer=Gg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return fY(this.persistence,new ry,e.initialUser,this.serializer)}createPersistence(e){return new ty(ny.factory,this.serializer)}createSharedClientState(e){return new oy}terminate(){return E(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var gy=class t extends Tg{constructor(e,n,r){super(),this.onlineComponentProvider=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){yield i0(t.prototype,this,"initialize").call(this,e),yield this.onlineComponentProvider.initialize(this,e),yield bT(this.onlineComponentProvider.syncEngine),yield Zu(this.onlineComponentProvider.remoteStore),yield this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return fY(this.persistence,new ry,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new YD(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new aD(n,this.persistence);return new oD(e.asyncQueue,r)}createPersistence(e){let n=fT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Qi.withCacheSize(this.cacheSizeBytes):Qi.DEFAULT;return new sR(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,_Y(),lde(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new oy}},vR=class t extends gy{constructor(e,n){super(e,n,!1),this.onlineComponentProvider=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return E(this,null,function*(){yield i0(t.prototype,this,"initialize").call(this,e);let n=this.onlineComponentProvider.syncEngine;this.sharedClientState instanceof lg&&(this.sharedClientState.syncEngine={applyBatchState:ufe.bind(null,n),applyTargetState:gfe.bind(null,n),applyActiveTargetsChange:pfe.bind(null,n),getActiveClients:ffe.bind(null,n),synchronizeWithChangedDocuments:cfe.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.setPrimaryStateListener(r=>E(this,null,function*(){yield hfe(this.onlineComponentProvider.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=_Y();if(!lg.isAvailable(n))throw new R(v.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=fT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lg(n,e.asyncQueue,r,e.clientId,e.initialUser)}},kg=class{initialize(e,n){return E(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TG(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=afe.bind(null,this.syncEngine),yield ER(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return Vde()}createDatastore(e){let n=Gg(e.databaseInfo.databaseId),r=ade(e.databaseInfo);return pde(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return Qde(this.localStore,this.datastore,e.asyncQueue,n=>TG(this.syncEngine,n,0),Ade())}createSyncEngine(e,n){return jde(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return E(this,null,function*(){var e;yield vde(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Cfe=10240;function Ife(t,e=Cfe){let n=0;return{read(){return E(this,null,function*(){if(n<t.byteLength){let s={value:t.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})},cancel(){return E(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}function DT(t,e,n){if(!n)throw new R(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RT(t,e,n,r){if(e===!0&&r===!0)throw new R(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NG(t){if(!V.isDocumentKey(t))throw new R(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FG(t){if(V.isDocumentKey(t))throw new R(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yfe(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=Bfe(t);return e?`a custom ${e} object`:"an object"}}else return typeof t=="function"?"a function":W()}function Bfe(t){return t.constructor?t.constructor.name:null}function Le(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Wg(t);throw new R(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function xY(t,e){if(e<=0)throw new R(v.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Qfe(t,e){if(!(t instanceof Uint8Array))throw new R(v.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${Wg(t)}`);return Ife(t,e)}var Gu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.observer.error?this.scheduleEvent(this.observer.error,e):Rt("Uncaught Error in snapshot listener:",e.toString())}mute(){this.muted=!0}scheduleEvent(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var SR=class{constructor(e,n){this.payload=e,this.byteLength=n}isBundleMetadata(){return"metadata"in this.payload}};var bR=class{constructor(e,n){this.reader=e,this.serializer=n,this.metadata=new Wt,this.buffer=new Uint8Array,this.textDecoder=cce(),this.nextElementImpl().then(r=>{r&&r.isBundleMetadata()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.reader.cancel()}getMetadata(){return E(this,null,function*(){return this.metadata.promise})}nextElement(){return E(this,null,function*(){return yield this.getMetadata(),this.nextElementImpl()})}nextElementImpl(){return E(this,null,function*(){let e=yield this.readLength();if(e===null)return null;let n=this.textDecoder.decode(e),r=Number(n);isNaN(r)&&this.raiseError(`length string (${n}) is not valid number`);let i=yield this.readJsonString(r);return new SR(JSON.parse(i),e.length+r)})}indexOfOpenBracket(){return this.buffer.findIndex(e=>e===123)}readLength(){return E(this,null,function*(){for(;this.indexOfOpenBracket()<0&&!(yield this.pullMoreDataToBuffer()););if(this.buffer.length===0)return null;let e=this.indexOfOpenBracket();e<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}readJsonString(e){return E(this,null,function*(){for(;this.buffer.length<e;)(yield this.pullMoreDataToBuffer())&&this.raiseError("Reached the end of bundle when more is expected.");let n=this.textDecoder.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}raiseError(e){throw this.reader.cancel(),new Error(`Invalid bundle format: ${e}`)}pullMoreDataToBuffer(){return E(this,null,function*(){let e=yield this.reader.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};function wfe(t,e){return new bR(t,e)}var DR=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return E(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new R(v.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield mde(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ka(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return E(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=V.fromPath(r);this.mutations.push(new mg(i,this.precondition(i)))}),yield Ede(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else if(e.isNoDocument())n=ne.min();else throw W();let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new R(v.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ne.min())?Lt.exists(!1):Lt.updateTime(n):Lt.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ne.min()))throw new R(v.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lt.updateTime(n)}else return Lt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var RR=class{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.attemptsRemaining=r.maxAttempts,this.backoff=new Dg(this.asyncQueue,"transaction_retry")}run(){this.attemptsRemaining-=1,this.runWithBackOff()}runWithBackOff(){this.backoff.backoffAndRun(()=>E(this,null,function*(){let e=new DR(this.datastore),n=this.tryRunUpdateFunction(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.handleTransactionError(i)}))}).catch(r=>{this.handleTransactionError(r)})}))}tryRunUpdateFunction(e){try{let n=this.updateFunction(e);return Og(n)||!n.catch||!n.then?(this.deferred.reject(Error("Transaction callback must return a Promise")),null):n}catch(n){return this.deferred.reject(n),null}}handleTransactionError(e){this.attemptsRemaining>0&&this.isRetryableTransactionError(e)?(this.attemptsRemaining-=1,this.asyncQueue.enqueueAndForget(()=>(this.runWithBackOff(),Promise.resolve()))):this.deferred.reject(e)}isRetryableTransactionError(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!HH(n)}return!1}};var Xa="FirestoreClient",_fe=100,vfe=11,Sfe=20,bfe=22,TR=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=FI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>E(this,null,function*(){F(Xa,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F(Xa,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:_fe}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=eh(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function kI(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F(Xa,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield gY(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function kR(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield TT(t);F(Xa,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RG(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>RG(e.remoteStore,i)),t._onlineComponents=e})}function MY(t){return t.name==="FirebaseError"?t.code===v.FAILED_PRECONDITION||t.code===v.UNIMPLEMENTED:typeof DOMException<"u"&&t instanceof DOMException?t.code===bfe||t.code===Sfe||t.code===vfe:!0}function TT(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(Xa,"Using user provided OfflineComponentProvider");try{yield kI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!MY(n))throw n;wi("Error using user provided cache. Falling back to memory cache: "+n),yield kI(t,new Tg)}}else F(Xa,"Using default OfflineComponentProvider"),yield kI(t,new Tg);return t._offlineComponents})}function xy(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(Xa,"Using user provided OnlineComponentProvider"),yield kR(t,t._uninitializedComponentsProvider._online)):(F(Xa,"Using default OnlineComponentProvider"),yield kR(t,new kg))),t._onlineComponents})}function LY(t){return TT(t).then(e=>e.persistence)}function kT(t){return TT(t).then(e=>e.localStore)}function OY(t){return xy(t).then(e=>e.remoteStore)}function NT(t){return xy(t).then(e=>e.syncEngine)}function Dfe(t){return xy(t).then(e=>e.datastore)}function Hu(t){return E(this,null,function*(){let e=yield xy(t),n=e.eventManager;return n.onListen=Kde.bind(null,e.syncEngine),n.onUnlisten=Xde.bind(null,e.syncEngine),n})}function Rfe(t){return t.asyncQueue.enqueue(()=>E(this,null,function*(){let e=yield LY(t),n=yield OY(t);return e.setNetworkEnabled(!0),wde(n)}))}function Tfe(t){return t.asyncQueue.enqueue(()=>E(this,null,function*(){let e=yield LY(t),n=yield OY(t);return e.setNetworkEnabled(!1),_de(n)}))}function kfe(t){let e=new Wt;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let n=yield NT(t);return nfe(n,e)})),e.promise}function Nfe(t,e,n,r){let i=new Gu(r),s=new Rg(e,i,n);return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let o=yield Hu(t);return CT(o,s)})),()=>{i.mute(),t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let o=yield Hu(t);return IT(o,s)}))}}function Ffe(t,e){let n=new Wt;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let r=yield kT(t);return Ufe(r,e,n)})),n.promise}function UY(t,e,n={}){let r=new Wt;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let i=yield Hu(t);return Pfe(i,t.asyncQueue,e,n,r)})),r.promise}function xfe(t,e){let n=new Wt;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let r=yield kT(t);return Vfe(r,e,n)})),n.promise}function PY(t,e,n={}){let r=new Wt;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let i=yield Hu(t);return qfe(i,t.asyncQueue,e,n,r)})),r.promise}function Mfe(t,e){let n=new Wt;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let r=yield NT(t);return Zde(r,e,n)})),n.promise}function Lfe(t,e){let n=new Gu(e);return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let r=yield Hu(t);return Yde(r,n)})),()=>{n.mute(),t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let r=yield Hu(t);return Wde(r,n)}))}}function Ofe(t,e,n){let r=new Wt;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){let i=yield Dfe(t);new RR(t.asyncQueue,i,n,e,r).run()})),r.promise}function Ufe(t,e,n){return E(this,null,function*(){try{let r=yield khe(t,e);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new R(v.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){let i=eh(r,`Failed to get document '${e} from cache`);n.reject(i)}})}function Pfe(t,e,n,r,i){let s=new Gu({next:a=>{e.enqueueAndForget(()=>IT(t,o));let A=a.docs.has(n);!A&&a.fromCache?i.reject(new R(v.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&a.fromCache&&r&&r.source==="server"?i.reject(new R(v.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:a=>i.reject(a)}),o=new Rg(Ku(n.path),s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return CT(t,o)}function Vfe(t,e,n){return E(this,null,function*(){try{let r=yield Ny(t,e,!0),i=new fy(e,r.remoteKeys),s=i.computeDocChanges(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(r){let i=eh(r,`Failed to execute query '${e} against cache`);n.reject(i)}})}function qfe(t,e,n,r,i){let s=new Gu({next:a=>{e.enqueueAndForget(()=>IT(t,o)),a.fromCache&&r.source==="server"?i.reject(new R(v.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(a)},error:a=>i.reject(a)}),o=new Rg(n,s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return CT(t,o)}function Gfe(t,e,n,r){let i=Yfe(n,Gg(e));t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){Efe(yield NT(t),i,r)}))}function Hfe(t,e){return t.asyncQueue.enqueue(()=>E(this,null,function*(){return qhe(yield kT(t),e)}))}function Yfe(t,e){let n;return typeof t=="string"?n=YH().encode(t):n=t,wfe(Qfe(n),e)}function Wfe(t,e){return t.timeoutSeconds===e.timeoutSeconds}function VY(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Jfe="ComponentProvider",xG=new Map;function zfe(t){let e=xG.get(t);e&&(F(Jfe,"Removing Datastore"),xG.delete(t),e.terminate())}function jfe(t,e,n,r){return new dD(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,VY(r.experimentalLongPollingOptions),r.useFetchStreams)}var qY="firestore.googleapis.com",MG=!0,LG=5,OG=30,Kfe=!0,py=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new R(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qY,this.ssl=MG}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:MG;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uY;else{if(e.cacheSizeBytes!==qg&&e.cacheSizeBytes<CG)throw new R(v.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${CG}`);this.cacheSizeBytes=e.cacheSizeBytes}RT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=Kfe:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VY((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),Xfe(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&Wfe(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};function Xfe(t){if(t.timeoutSeconds!==void 0){if(isNaN(t.timeoutSeconds))throw new R(v.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<LG)throw new R(v.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is ${LG})`);if(t.timeoutSeconds>OG)throw new R(v.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is ${OG})`)}}var pl=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new py({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new R(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new py(e),e.credentials!==void 0&&(this._authCredentials=Kae(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return zfe(this),Promise.resolve()}};function GY(t,e,n,r={}){var i;t=Le(t,pl);let s=t._getSettings(),o=`${e}:${n}`;if(s.host!==qY&&s.host!==o&&wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,A;if(typeof r.mockUserToken=="string")a=r.mockUserToken,A=tn.MOCK_USER;else{a=mc(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new R(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new tn(l)}t._authCredentials=new Xb(new NI(a,A))}}var Rn=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Vs=class t extends Rn{constructor(e,n,r){super(e,n,Ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new V(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function FT(t,e,...n){if(t=de(t),DT("collection","path",e),t instanceof pl){let r=Me.fromString(e,...n);return FG(r),new Vs(t,null,r)}else{if(!(t instanceof ut)&&!(t instanceof Vs))throw new R(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return FG(r),new Vs(t.firestore,null,r)}}function HY(t,e){if(t=Le(t,pl),DT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new R(v.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rn(t,null,kle(e))}function Jg(t,e,...n){if(t=de(t),arguments.length===1&&(e=FI.newId()),DT("doc","path",e),t instanceof pl){let r=Me.fromString(e,...n);return NG(r),new ut(t,null,new V(r))}else{if(!(t instanceof ut)&&!(t instanceof Vs))throw new R(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return NG(r),new ut(t.firestore,t instanceof Vs?t.converter:null,new V(r))}}function xT(t,e){return t=de(t),e=de(e),(t instanceof ut||t instanceof Vs)&&(e instanceof ut||e instanceof Vs)?t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter:!1}function MT(t,e){return t=de(t),e=de(e),t instanceof Rn&&e instanceof Rn?t.firestore===e.firestore&&Pg(t._query,e._query)&&t.converter===e.converter:!1}var Zfe="AsyncQueue",NR=class{constructor(){this.tail=Promise.resolve(),this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new Dg(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()}}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let n=new Wt;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}retryNextOp(){return E(this,null,function*(){if(this.retryableOps.length!==0){try{yield this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(eA(e))F(Zfe,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}})}enqueueInternal(e){let n=this.tail.then(()=>(this.operationInProgress=!0,e().catch(r=>{this.failure=r,this.operationInProgress=!1;let i=ege(r);throw Rt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.operationInProgress=!1,r))));return this.tail=n,n}enqueueAfterDelay(e,n,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(n=0);let i=mR.createAndSchedule(this,e,n,r,s=>this.removeDelayedOperation(s));return this.delayedOperations.push(i),i}verifyNotFailed(){this.failure&&W()}verifyOperationInProgress(){}drain(){return E(this,null,function*(){let e;do e=this.tail,yield e;while(e!==this.tail)})}containsDelayedOperation(e){for(let n of this.delayedOperations)if(n.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{this.delayedOperations.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.delayedOperations)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let n=this.delayedOperations.indexOf(e);this.delayedOperations.splice(n,1)}};function $fe(){return new NR}function ege(t){let e=t.message||"";return t.stack&&(t.stack.includes(t.message)?e=t.stack:e=t.message+`
`+t.stack),e}var FR=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var YY=qg,wt=class extends pl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=$fe(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||WY(this),this._firestoreClient.terminate()}};function ln(t){return t._firestoreClient||WY(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function WY(t){var e,n,r;let i=t._freezeSettings(),s=jfe(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new TR(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function JY(t,e){t=Le(t,wt),nW(t);let n=ln(t);if(n._uninitializedComponentsProvider)throw new R(v.FAILED_PRECONDITION,"SDK cache is already specified.");wi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new kg,s=new gy(i,r.cacheSizeBytes,e?.forceOwnership);return jY(n,i,s)}function zY(t){t=Le(t,wt),nW(t);let e=ln(t);if(e._uninitializedComponentsProvider)throw new R(v.FAILED_PRECONDITION,"SDK cache is already specified.");wi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new kg,i=new vR(r,n.cacheSizeBytes);return jY(e,r,i)}function jY(t,e,n){let r=new Wt;return t.asyncQueue.enqueue(()=>E(this,null,function*(){try{yield kI(t,n),yield kR(t,e),r.resolve()}catch(i){let s=i;if(!MY(s))throw s;wi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function KY(t){if(t._initialized&&!t._terminated)throw new R(v.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Wt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{yield yhe(fT(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function XY(t){t=Le(t,wt);let e=ln(t);return kfe(e)}function ZY(t){t=Le(t,wt);let e=ln(t);return Rfe(e)}function $Y(t){t=Le(t,wt);let e=ln(t);return Tfe(e)}function eW(t,e){t=Le(t,wt);let n=ln(t),r=new FR;return Gfe(n,t._databaseId,e,r),r}function tW(t,e){t=Le(t,wt);let n=ln(t);return Hfe(n,e).then(r=>r?new Rn(t,null,r.query):null)}function nW(t){if(t._initialized||t._terminated)throw new R(v.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function tge(t,e=!0){zae(Cc),ho(new Sn("firestore",(n,{instanceIdentifier:r,options:i})=>{let s=n.getProvider("app").getImmediate(),o=new wt(new Zb(n.getProvider("auth-internal")),new nD(n.getProvider("app-check-internal")),YAe(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Nr(Rq,Tq,t),Nr(Rq,Tq,"esm2017")}var Hs=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Cn.fromBase64String(e))}catch(n){throw new R(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ts=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new R(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var To=class{constructor(e){this._methodName=e}};var El=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new R(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new R(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var nge=/^__.*__$/,xR=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new ja(e,this.data,n,this.fieldTransforms)}},Ey=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new es(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function rW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var my=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Cy(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(rW(this.dataSource)&&nge.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},MR=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gg(e)}createContext(e,n,r,i=!1){return new my({dataSource:e,methodName:n,targetDoc:r,path:zt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Bl(t){let e=t._freezeSettings(),n=Gg(t._databaseId);return new MR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function My(t,e,n,r,i,s={}){let o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);UT("Data must be an object, but it was:",o,r);let a=oW(r,o),A,l;if(s.merge)A=new Pr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let c=[];for(let u of s.mergeFields){let h=VR(e,u,n);if(!o.contains(h))throw new R(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);AW(c,h)||c.push(h)}A=new Pr(c),l=o.fieldTransforms.filter(u=>A.covers(u.field))}else A=null,l=o.fieldTransforms;return new xR(new Wn(a),A,l)}var Ng=class t extends To{_toFieldTransform(e){if(e.dataSource===2)e.fieldMask.push(e.path);else throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof t}};function iW(t,e,n){return new my({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var LR=class t extends To{_toFieldTransform(e){return new hl(e.path,new Ja)}isEqual(e){return e instanceof t}},OR=class t extends To{constructor(e,n){super(e),this._elements=n}_toFieldTransform(e){let n=iW(this,e,!0),r=this._elements.map(s=>Ql(s,n)),i=new Do(r);return new hl(e.path,i)}isEqual(e){return e instanceof t&&C0(this._elements,e._elements)}},UR=class t extends To{constructor(e,n){super(e),this._elements=n}_toFieldTransform(e){let n=iW(this,e,!0),r=this._elements.map(s=>Ql(s,n)),i=new Ro(r);return new hl(e.path,i)}isEqual(e){return e instanceof t&&C0(this._elements,e._elements)}},PR=class t extends To{constructor(e,n){super(e),this._operand=n}_toFieldTransform(e){let n=new za(e.serializer,xH(e.serializer,this._operand));return new hl(e.path,n)}isEqual(e){return e instanceof t&&this._operand===e._operand}};function LT(t,e,n,r){let i=t.createContext(1,e,n);UT("Data must be an object, but it was:",i,r);let s=[],o=Wn.empty();yl(r,(A,l)=>{let c=PT(e,A,n);l=de(l);let u=i.childContextForFieldPath(c);if(l instanceof Ng)s.push(c);else{let h=Ql(l,u);h!=null&&(s.push(c),o.set(c,h))}});let a=new Pr(s);return new Ey(o,a,i.fieldTransforms)}function OT(t,e,n,r,i,s){let o=t.createContext(1,e,n),a=[VR(e,r,n)],A=[i];if(s.length%2!==0)throw new R(v.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(VR(e,s[h])),A.push(s[h+1]);let l=[],c=Wn.empty();for(let h=a.length-1;h>=0;--h)if(!AW(l,a[h])){let d=a[h],f=A[h];f=de(f);let g=o.childContextForFieldPath(d);if(f instanceof Ng)l.push(d);else{let m=Ql(f,g);m!=null&&(l.push(d),c.set(d,m))}}let u=new Pr(l);return new Ey(c,u,o.fieldTransforms)}function sW(t,e,n,r=!1){let i=t.createContext(r?4:3,e);return Ql(n,i)}function Ql(t,e){if(t=de(t),aW(t))return UT("Unsupported field value:",e,t),oW(t,e);if(t instanceof To)return ige(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return rge(t,e)}else return sge(t,e)}function oW(t,e){let n={};return AH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(t,(r,i)=>{let s=Ql(i,e.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rge(t,e){let n=[],r=0;for(let i of t){let s=Ql(i,e.childContextForArray(r));s==null&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}function ige(t,e){if(!rW(e.dataSource))throw e.createError(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.createError(`${t._methodName}() is not currently supported inside arrays`);let n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}function sge(t,e){if(t=de(t),t===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return xH(e.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){let n=Tt.fromDate(t);return{timestampValue:Mu(e.serializer,n)}}else if(t instanceof Tt){let n=new Tt(t.seconds,Math.floor(t.nanoseconds/1e3)*1e3);return{timestampValue:Mu(e.serializer,n)}}else{if(t instanceof El)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hs)return{bytesValue:WH(e.serializer,t._byteString)};if(t instanceof ut){let n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:lT(t.firestore._databaseId||e.databaseId,t._key.path)}}else throw e.createError(`Unsupported field value: ${Wg(t)}`)}}function aW(t){return typeof t=="object"&&t!==null&&!(t instanceof Array)&&!(t instanceof Date)&&!(t instanceof Tt)&&!(t instanceof El)&&!(t instanceof Hs)&&!(t instanceof ut)&&!(t instanceof To)}function UT(t,e,n){if(!aW(n)||!yfe(n)){let r=Wg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function VR(t,e,n){if(e=de(e),e instanceof ts)return e._internalPath;if(typeof e=="string")return PT(t,e);throw Cy("Field path arguments must be of type string or ",t,!1,void 0,n)}var oge=new RegExp("[~\\*/\\[\\]]");function PT(t,e,n){if(e.search(oge)>=0)throw Cy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ts(...e.split("."))._internalPath}catch{throw Cy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cy(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let A="";return(s||o)&&(A+=" (found",s&&(A+=` in field ${r}`),o&&(A+=` in document ${i}`),A+=")"),new R(v.INVALID_ARGUMENT,a+t+A)}function AW(t,e){return t.some(n=>n.isEqual(e))}var ml=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document)if(this._converter){let e=new qR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}else return this._userDataWriter.convertValue(this._document.data.value);else return}get(e){if(this._document){let n=this._document.data.field(Ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},qR=class extends ml{data(){return super.data()}};function Ly(t,e){return typeof e=="string"?PT(t,e):e instanceof ts?e._internalPath:e._delegate._internalPath}function lW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new R(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fg=class{},Cl=class extends Fg{};function xo(t,e,...n){let r=[];e instanceof Fg&&r.push(e),r=r.concat(n),fge(r);for(let i of r)t=i._apply(t);return t}var Iy=class t extends Cl{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return CW(e._query,n),new Rn(e.firestore,e.converter,aT(e._query,n))}_parse(e){let n=Bl(e.firestore);return age(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function cW(t,e,n){let r=e,i=Ly("where",t);return Iy._create(i,r,n)}var GR=class t extends Fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:et.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(hge(e._query,n),new Rn(e.firestore,e.converter,aT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var HR=class t extends Cl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=Age(e._query,this._field,this._direction);return new Rn(e.firestore,e.converter,xle(e._query,n))}};function uW(t,e="asc"){let n=e,r=Ly("orderBy",t);return HR._create(r,n)}var yy=class t extends Cl{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Rn(e.firestore,e.converter,GI(e._query,this._limit,this._limitType))}};function hW(t){return xY("limit",t),yy._create("limit",t,"F")}function dW(t){return xY("limitToLast",t),yy._create("limitToLast",t,"L")}var By=class t extends Cl{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=mW(e,this.type,this._docOrFields,this._inclusive);return new Rn(e.firestore,e.converter,Mle(e._query,n))}};function fW(...t){return By._create("startAt",t,!0)}function gW(...t){return By._create("startAfter",t,!1)}var Qy=class t extends Cl{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=mW(e,this.type,this._docOrFields,this._inclusive);return new Rn(e.firestore,e.converter,Lle(e._query,n))}};function pW(...t){return Qy._create("endBefore",t,!1)}function EW(...t){return Qy._create("endAt",t,!0)}function mW(t,e,n,r){if(n[0]=de(n[0]),n[0]instanceof ml)return lge(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=Bl(t.firestore);return cge(t._query,t.firestore._databaseId,i,e,n,r)}}function age(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if(s==="array-contains"||s==="array-contains-any")throw new R(v.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if(s==="in"||s==="not-in"){PG(o,s);let l=[];for(let c of o)l.push(UG(r,t,c));a={arrayValue:{values:l}}}else a=UG(r,t,o)}else(s==="in"||s==="not-in"||s==="array-contains-any")&&PG(o,s),a=sW(n,e,o,s==="in"||s==="not-in");return Ne.create(i,s,a)}function Age(t,e,n){if(t.startAt!==null)throw new R(v.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(t.endAt!==null)throw new R(v.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cl(e,n)}function lge(t,e,n,r,i){if(!r)throw new R(v.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);let s=[];for(let o of Nu(t))if(o.field.isKeyField())s.push(ll(e,r.key));else{let a=r.data.field(o.field);if(Dy(a))throw new R(v.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(a!==null)s.push(a);else{let A=o.field.canonicalString();throw new R(v.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}}return new qs(s,i)}function cge(t,e,n,r,i,s){let o=t.explicitOrderBy;if(i.length>o.length)throw new R(v.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let a=[];for(let A=0;A<i.length;A++){let l=i[A];if(o[A].field.isKeyField()){if(typeof l!="string")throw new R(v.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof l}`);if(!oT(t)&&l.indexOf("/")!==-1)throw new R(v.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${l}' contains a slash.`);let u=t.path.child(Me.fromString(l));if(!V.isDocumentKey(u))throw new R(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${u}' is not because it contains an odd number of segments.`);let h=new V(u);a.push(ll(e,h))}else{let u=sW(n,r,l);a.push(u)}}return new qs(a,s)}function UG(t,e,n){if(n=de(n),typeof n=="string"){if(n==="")throw new R(v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(e)&&n.indexOf("/")!==-1)throw new R(v.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Me.fromString(n));if(!V.isDocumentKey(r))throw new R(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ll(t,new V(r))}else{if(n instanceof ut)return ll(t,n._key);throw new R(v.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wg(n)}.`)}}function PG(t,e){if(!Array.isArray(t)||t.length===0)throw new R(v.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uge(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function CW(t,e){let n=dge(t.filters,uge(e.op));if(n!==null)throw n===e.op?new R(v.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new R(v.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function hge(t,e){let n=t,r=e.getFlattenedFilters();for(let i of r)CW(n,i),n=aT(n,i)}function dge(t,e){for(let n of t)for(let r of n.getFlattenedFilters())if(e.indexOf(r.op)>=0)return r.op;return null}function fge(t){let e=t.filter(r=>r instanceof GR).length,n=t.filter(r=>r instanceof Iy).length;if(e>1||e>0&&n>0)throw new R(v.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}var Yu=class{convertValue(e,n="none"){switch(Al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return yl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new El(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=rT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dg(e));default:return null}}convertTimestamp(e){let n=Ga(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Me.fromString(e);X(rY(r));let i=new Ya(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||Rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Oy(t,e,n){let r;return t?n&&(n.merge||n.mergeFields)?r=t.toFirestore(e,n):r=t.toFirestore(e):r=e,r}var YR=class extends Yu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}};function WR(t){return gge(t,["next","error","complete"])}function gge(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var ko=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vi=class extends ml{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document)if(this._converter){let n=new Za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}else return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);else return}get(e,n={}){if(this._document){let r=this._document.data.field(Ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Za=class extends vi{data(e={}){return super.data(e)}},ns=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ko(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Za(this._firestore,this._userDataWriter,r.key,r,new ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new R(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return(!this._cachedChanges||this._cachedChangesIncludeMetadataChanges!==n)&&(this._cachedChanges=pge(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function pge(t,e){if(t._snapshot.oldDocs.isEmpty()){let n=0;return t._snapshot.docChanges.map(r=>{let i=new Za(t._firestore,t._userDataWriter,r.doc.key,r.doc,new ko(t._snapshot.mutatedKeys.has(r.doc.key),t._snapshot.fromCache),t.query.converter);return r.doc,{type:"added",doc:i,oldIndex:-1,newIndex:n++}})}else{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(r=>e||r.type!==3).map(r=>{let i=new Za(t._firestore,t._userDataWriter,r.doc.key,r.doc,new ko(t._snapshot.mutatedKeys.has(r.doc.key),t._snapshot.fromCache),t.query.converter),s=-1,o=-1;return r.type!==0&&(s=n.indexOf(r.doc.key),n=n.delete(r.doc.key)),r.type!==1&&(n=n.add(r.doc),o=n.indexOf(r.doc.key)),{type:Ege(r.type),doc:i,oldIndex:s,newIndex:o}})}}function Ege(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function VT(t,e){return t instanceof vi&&e instanceof vi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ns&&e instanceof ns?t._firestore===e._firestore&&MT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot):!1}function IW(t){t=Le(t,ut);let e=Le(t.firestore,wt),n=ln(e);return UY(n,t._key).then(r=>YT(e,t,r))}var No=class extends Yu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}};function yW(t){t=Le(t,ut);let e=Le(t.firestore,wt),n=ln(e),r=new No(e);return Ffe(n,t._key).then(i=>new vi(e,r,t._key,i,new ko(i!==null&&i.hasLocalMutations,!0),t.converter))}function BW(t){t=Le(t,ut);let e=Le(t.firestore,wt),n=ln(e);return UY(n,t._key,{source:"server"}).then(r=>YT(e,t,r))}function QW(t){t=Le(t,Rn);let e=Le(t.firestore,wt),n=ln(e),r=new No(e);return lW(t._query),PY(n,t._query).then(i=>new ns(e,r,t,i))}function wW(t){t=Le(t,Rn);let e=Le(t.firestore,wt),n=ln(e),r=new No(e);return xfe(n,t._query).then(i=>new ns(e,r,t,i))}function _W(t){t=Le(t,Rn);let e=Le(t.firestore,wt),n=ln(e),r=new No(e);return PY(n,t._query,{source:"server"}).then(i=>new ns(e,r,t,i))}function qT(t,e,n){t=Le(t,ut);let r=Le(t.firestore,wt),i=Oy(t.converter,e,n),s=Bl(r),a=My(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lt.none());return th(r,[a])}function GT(t,e,n,...r){t=Le(t,ut);let i=Le(t.firestore,wt),s=Bl(i);e=de(e);let o;typeof e=="string"||e instanceof ts?o=OT(s,"updateDoc",t._key,e,n,r):o=LT(s,"updateDoc",t._key,e);let a=o.toMutation(t._key,Lt.exists(!0));return th(i,[a])}function vW(t){let e=Le(t.firestore,wt),n=[new Ka(t._key,Lt.none())];return th(e,n)}function SW(t,e){let n=Le(t.firestore,wt),r=Jg(t),i=Oy(t.converter,e),s=Bl(t.firestore),a=My(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lt.exists(!1));return th(n,[a]).then(()=>r)}function HT(t,...e){var n,r,i;t=de(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]=="object"&&!WR(e[o])&&(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(WR(e[o])){let h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let A,l,c;if(t instanceof ut)l=Le(t.firestore,wt),c=Ku(t._key.path),A={next:h=>{e[o]&&e[o](YT(l,t,h))},error:e[o+1],complete:e[o+2]};else{let h=Le(t,Rn);l=Le(h.firestore,wt),c=h._query;let d=new No(l);A={next:f=>{e[o]&&e[o](new ns(l,d,h,f))},error:e[o+1],complete:e[o+2]},lW(t._query)}let u=ln(l);return Nfe(u,c,a,A)}function bW(t,e){t=Le(t,wt);let n=ln(t),r=WR(e)?e:{next:e};return Lfe(n,r)}function th(t,e){let n=ln(t);return Mfe(n,e)}function YT(t,e,n){let r=n.docs.get(e._key),i=new No(t);return new vi(t,i,e._key,r,new ko(n.hasPendingWrites,n.fromCache),e.converter)}var mge={maxAttempts:5};function Cge(t){if(t.maxAttempts<1)throw new R(v.INVALID_ARGUMENT,"Max attempts must be at least 1")}var wy=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bl(e)}set(e,n,r){this._verifyNotCommitted();let i=Pa(e,this._firestore),s=Oy(i.converter,n,r),o=My(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Lt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=Pa(e,this._firestore);n=de(n);let o;return typeof n=="string"||n instanceof ts?o=OT(this._dataReader,"WriteBatch.update",s._key,n,r,i):o=LT(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Lt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Pa(e,this._firestore);return this._mutations=this._mutations.concat(new Ka(n._key,Lt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new R(v.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Pa(t,e){if(t=de(t),t.firestore!==e)throw new R(v.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var JR=class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Bl(e)}get(e){let n=Pa(e,this._firestore),r=new YR(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return W();let s=i[0];if(s.isFoundDocument())return new ml(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new ml(this._firestore,r,n._key,null,n.converter);throw W()})}set(e,n,r){let i=Pa(e,this._firestore),s=Oy(i.converter,n,r),o=My(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){let s=Pa(e,this._firestore);n=de(n);let o;return typeof n=="string"||n instanceof ts?o=OT(this._dataReader,"Transaction.update",s._key,n,r,i):o=LT(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){let n=Pa(e,this._firestore);return this._transaction.delete(n._key),this}};var zR=class extends JR{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Pa(e,this._firestore),r=new No(this._firestore);return super.get(e).then(i=>new vi(this._firestore,r,n._key,i._document,new ko(!1,!1),n.converter))}};function DW(t,e,n){t=Le(t,wt);let r=Object.assign(Object.assign({},mge),n);Cge(r);let i=ln(t);return Ofe(i,s=>e(new zR(t,s)),r)}function RW(){return new Ng("deleteField")}function TW(){return new LR("serverTimestamp")}function kW(...t){return new OR("arrayUnion",t)}function NW(...t){return new UR("arrayRemove",t)}function FW(t){return new PR("increment",t)}tge("node");var Ige="@firebase/firestore-compat",yge="0.3.25";function XT(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new R("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function xW(){if(typeof Uint8Array>"u")throw new R("unimplemented","Uint8Arrays are not available in this environment.")}function MW(){if(!lH())throw new R("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Uy=class t{constructor(e){this._delegate=e}static fromBase64String(e){return MW(),new t(Hs.fromBase64String(e))}static fromUint8Array(e){return xW(),new t(Hs.fromUint8Array(e))}toBase64(){return MW(),this._delegate.toBase64()}toUint8Array(){return xW(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function WT(t){return Bge(t,["next","error","complete"])}function Bge(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var JT=class{enableIndexedDbPersistence(e,n){return JY(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return zY(e._delegate)}clearIndexedDbPersistence(e){return KY(e._delegate)}},Py=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ya||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){GY(this._delegate,e,n,r)}enableNetwork(){return ZY(this._delegate)}disableNetwork(){return $Y(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,RT("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return XY(this._delegate)}onSnapshotsInSync(e){return bW(this._delegate,e)}get app(){if(!this._appCompat)throw new R("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ih(this,FT(this._delegate,e))}catch(n){throw sr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ys(this,Jg(this._delegate,e))}catch(n){throw sr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sl(this,HY(this._delegate,e))}catch(n){throw sr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return DW(this._delegate,n=>e(new Vy(this,n)))}batch(){return ln(this._delegate),new qy(new wy(this._delegate,e=>th(this._delegate,e)))}loadBundle(e){return eW(this._delegate,e)}namedQuery(e){return tW(this._delegate,e).then(n=>n?new Sl(this,n):null)}},nh=class extends Yu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uy(new Hs(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Ys.forKey(n,this.firestore,null)}};function Qge(t){GG(t)}var Vy=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new nh(e)}get(e){let n=wl(e);return this._delegate.get(n).then(r=>new _l(this._firestore,new vi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=wl(e);return r?(XT("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=wl(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=wl(e);return this._delegate.delete(n),this}},qy=class{constructor(e){this._delegate=e}set(e,n,r){let i=wl(e);return r?(XT("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=wl(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=wl(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},rh=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new Za(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vl(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new t(e,new nh(e),n),i.set(n,s)),s}};rh.INSTANCES=new WeakMap;var Ys=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new nh(e)}static forPath(e,n,r){if(e.length%2!==0)throw new R("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new ut(n._delegate,r,new V(e)))}static forKey(e,n,r){return new t(n,new ut(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ih(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ih(this.firestore,FT(this._delegate,e))}catch(n){throw sr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=de(e),e instanceof ut?xT(this._delegate,e):!1}set(e,n){n=XT("DocumentReference.set",n);try{return n?qT(this._delegate,e,n):qT(this._delegate,e)}catch(r){throw sr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?GT(this._delegate,e):GT(this._delegate,e,n,...r)}catch(i){throw sr(i,"updateDoc()","DocumentReference.update()")}}delete(){return vW(this._delegate)}onSnapshot(...e){let n=LW(e),r=OW(e,i=>new _l(this.firestore,new vi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return HT(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=yW(this._delegate):e?.source==="server"?n=BW(this._delegate):n=IW(this._delegate),n.then(r=>new _l(this.firestore,new vi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(rh.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function sr(t,e,n){return t.message=t.message.replace(e,n),t}function LW(t){for(let e of t)if(typeof e=="object"&&!WT(e))return e;return{}}function OW(t,e){var n,r;let i;return WT(t[0])?i=t[0]:WT(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var _l=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ys(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return VT(this._delegate,e._delegate)}},vl=class extends _l{data(e){let n=this._delegate.data(e);return this._delegate._converter||HG(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Sl=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new nh(e)}where(e,n,r){try{return new t(this.firestore,xo(this._delegate,cW(e,n,r)))}catch(i){throw sr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,xo(this._delegate,uW(e,n)))}catch(r){throw sr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,xo(this._delegate,hW(e)))}catch(n){throw sr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,xo(this._delegate,dW(e)))}catch(n){throw sr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,xo(this._delegate,fW(...e)))}catch(n){throw sr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,xo(this._delegate,gW(...e)))}catch(n){throw sr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,xo(this._delegate,pW(...e)))}catch(n){throw sr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,xo(this._delegate,EW(...e)))}catch(n){throw sr(n,"endAt()","Query.endAt()")}}isEqual(e){return MT(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=wW(this._delegate):e?.source==="server"?n=_W(this._delegate):n=QW(this._delegate),n.then(r=>new zg(this.firestore,new ns(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=LW(e),r=OW(e,i=>new zg(this.firestore,new ns(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return HT(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(rh.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},zT=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new vl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},zg=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Sl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new zT(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new vl(this._firestore,r))})}isEqual(e){return VT(this._delegate,e._delegate)}},ih=class t extends Sl{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Ys(this.firestore,e):null}doc(e){try{return e===void 0?new Ys(this.firestore,Jg(this._delegate)):new Ys(this.firestore,Jg(this._delegate,e))}catch(n){throw sr(n,"doc()","CollectionReference.doc()")}}add(e){return SW(this._delegate,e).then(n=>new Ys(this.firestore,n))}isEqual(e){return xT(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(rh.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function wl(t){return Le(t,ut)}var jT=class t{constructor(...e){this._delegate=new ts(...e)}static documentId(){return new t(zt.keyField().canonicalString())}isEqual(e){return e=de(e),e instanceof ts?this._delegate._internalPath.isEqual(e._internalPath):!1}};var KT=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=TW();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=RW();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=kW(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=NW(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=FW(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var wge={Firestore:Py,GeoPoint:El,Timestamp:Tt,Blob:Uy,Transaction:Vy,WriteBatch:qy,DocumentReference:Ys,DocumentSnapshot:_l,Query:Sl,QueryDocumentSnapshot:vl,QuerySnapshot:zg,CollectionReference:ih,FieldPath:jT,FieldValue:KT,setLogLevel:Qge,CACHE_SIZE_UNLIMITED:YY};function _ge(t,e){t.INTERNAL.registerComponent(new Sn("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},wge)))}function vge(t){_ge(t,(e,n)=>new Py(e,n,new JT)),t.registerVersion(Ige,yge,"node")}vge(Dt);function Sge(t,e=gc){return new hs(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function UW(t,e){return Sge(t,e)}function bge(t,e){return UW(t,e).pipe(LE(void 0),ME(),Je(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function ek(t,e){return UW(t,e).pipe(Je(n=>({payload:n,type:"query"})))}var Gy=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:s}=HW(r,n);return new Yy(i,s,this.afs)}snapshotChanges(){return bge(this.ref,this.afs.schedulers.outsideAngular).pipe(yt)}valueChanges(e={}){return this.snapshotChanges().pipe(Je(({payload:n})=>e.idField?se(x({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return Xn(this.ref.get(e)).pipe(yt)}};function Hy(t,e){return ek(t,e).pipe(LE(void 0),ME(),Je(n=>{let[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,A)=>{let l=s.find(u=>u.doc.ref.isEqual(a.ref)),c=r?.payload.docs.find(u=>u.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&c&&JSON.stringify(c.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:a}})}),o}))}function PW(t,e,n){return Hy(t,n).pipe(kA((r,i)=>Dge(r,i.map(s=>s.payload),e),[]),xE(),Je(r=>r.map(i=>({type:i.type,payload:i}))))}function Dge(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=Rge(t,r))}),t}function ZT(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function Rge(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return ZT(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return ZT(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ZT(t,e.oldIndex,1);break}return t}function VW(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Yy=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=Hy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Je(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(LE(void 0),ME(),Td(([r,i])=>i.length>0||!r),Je(([,r])=>r),yt)}auditTrail(e){return this.stateChanges(e).pipe(kA((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=VW(e);return PW(this.query,n,this.afs.schedulers.outsideAngular).pipe(yt)}valueChanges(e={}){return ek(this.query,this.afs.schedulers.outsideAngular).pipe(Je(n=>n.payload.docs.map(r=>e.idField?se(x({},r.data()),{[e.idField]:r.id}):r.data())),yt)}get(e){return Xn(this.query.get(e)).pipe(yt)}add(e){return this.ref.add(e)}doc(e){return new Gy(this.ref.doc(e),this.afs)}},$T=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?Hy(this.query,this.afs.schedulers.outsideAngular).pipe(yt):Hy(this.query,this.afs.schedulers.outsideAngular).pipe(Je(n=>n.filter(r=>e.indexOf(r.type)>-1)),Td(n=>n.length>0),yt)}auditTrail(e){return this.stateChanges(e).pipe(kA((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=VW(e);return PW(this.query,n,this.afs.schedulers.outsideAngular).pipe(yt)}valueChanges(e={}){return ek(this.query,this.afs.schedulers.outsideAngular).pipe(Je(r=>r.payload.docs.map(i=>e.idField?x({[e.idField]:i.id},i.data()):i.data())),yt)}get(e){return Xn(this.query.get(e)).pipe(yt)}},qW=new Ke("angularfire2.enableFirestorePersistence"),GW=new Ke("angularfire2.firestore.persistenceSettings"),Tge=new Ke("angularfire2.firestore.settings"),kge=new Ke("angularfire2.firestore.use-emulator");function HW(t,e=n=>n){return{query:e(t),ref:t}}var jg=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,A,l,c,u,h,d,f,g,m,y,I){this.schedulers=A;let _=fo(n,a,r),w=c;u&&Jd(_,a,h,f,g,m,d,y),[this.firestore,this.persistenceEnabled$]=sa(`${_.name}.firestore`,"AngularFirestore",_.name,()=>{let S=a.runOutsideAngular(()=>_.firestore());if(s&&S.settings(s),w&&S.useEmulator(...w),i&&!PE(o)){let T=()=>{try{return Xn(S.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Z){return typeof console<"u"&&console.warn(Z),Tr(!1)}};return[S,a.runOutsideAngular(T)]}else return[S,Tr(!1)]},[s,w,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:s,query:o}=HW(i,r),a=this.schedulers.ngZone.run(()=>s);return new Yy(a,o,this)}collectionGroup(n,r){let i=r||(o=>o),s=this.firestore.collectionGroup(n);return new $T(i(s),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new Gy(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(Y(ps),Y(Es,8),Y(qW,8),Y(Tge,8),Y(fs),Y(Ai),Y(ra),Y(GW,8),Y(kge,8),Y(go,8),Y(Vd,8),Y(qd,8),Y(Gd,8),Y(Hd,8),Y(Yd,8),Y(Wd,8),Y(Oi,8))};static \u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),YW=(()=>{class t{constructor(){Dt.registerVersion("angularfire",Ui.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:qW,useValue:!0},{provide:GW,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=qt({type:t});static \u0275inj=Gt({providers:[jg]})}return t})();var Si=(()=>{let e=class e{constructor(r,i,s){this.afs=r,this.afAuth=i,this.router=s,this.adminEmails=["dhavalll63@gmail.com","dhaval00033@gmail.com"]}isAdmin(r){return this.adminEmails.includes(r)}SignUp(r,i){return E(this,null,function*(){try{let s=yield this.afAuth.createUserWithEmailAndPassword(r,i),o=r.substring(0,5);yield this.createCollection(o),yield this.SendVerificationMail()}catch(s){window.alert(s)}})}SendVerificationMail(){return E(this,null,function*(){try{let r=yield this.afAuth.currentUser;r&&r.email&&!r.emailVerified?(yield r.sendEmailVerification(),console.log("Verification email sent."),this.router.navigate(["/verify-email"]),yield this.saveuserEmail(r.email)):r&&r.email&&r.emailVerified?console.log("Email is already verified."):console.log("No user found or email not available.")}catch(r){console.error("Error sending verification email:",r)}})}saveuserEmail(r){return E(this,null,function*(){try{let i=yield this.afAuth.currentUser;if(i){let s=i.uid;yield this.afs.collection("AdminUser").doc(s).set({email:r}),console.log("User email saved to Firestore")}else console.log("User not available")}catch(i){console.error("Error saving user email to Firestore:",i)}})}SignIn(r,i){return this.afAuth.signInWithEmailAndPassword(r,i).then(s=>{if(s.user){let o=s.user.email||"";this.navigateBasedOnUserRole(o),this.userCollectionName=this.isAdmin(o)?"AdminUser":o.substring(0,5),localStorage.setItem("isLoggedIn","true")}else console.log("No user found.")}).catch(s=>{window.alert(s.message)})}SignUpWithGoogle(){return E(this,null,function*(){try{let r=new B0;r.setCustomParameters({prompt:"select_account"});let i=yield this.afAuth.signInWithPopup(r);if(i.user){let s=i.user.email||"";this.isAdmin(s)?this.router.navigate(["/admin-dashboard"]):(this.router.navigate(["/dashboard"]),yield this.saveuserEmail(s))}else console.log("No user found.")}catch(r){console.error("Error during Google sign-up:",r)}})}ForgotPassword(r){return E(this,null,function*(){try{yield this.afAuth.sendPasswordResetEmail(r),window.alert("Password reset email sent, check your inbox.")}catch(i){window.alert(i)}})}navigateBasedOnUserRole(r){this.router.navigate(this.isAdmin(r)?["admin-dashboard"]:["dashboard"])}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}deleteByEmail(r){return E(this,null,function*(){try{let i=yield this.afs.collection("AdminUser",s=>s.where("email","==",r)).get().toPromise();i?(i.forEach(s=>s.ref.delete()),console.log(`User with email ${r} deleted successfully`)):console.error("Error: Snapshot is undefined.")}catch(i){console.error("Error deleting user:",i)}})}isLoggedIn(){return this.afAuth.authState.pipe(Je(r=>!!r))}getAlluser(){return this.afs.collection("AdminUser").get().pipe(Je(r=>r.docs.map(i=>i.data().email)))}createCollection(r){return E(this,null,function*(){try{return yield this.afs.collection(r).doc("placeholder").set({created_at:new Date}),r}catch(i){throw i}})}};e.\u0275fac=function(i){return new(i||e)(Y(jg),Y(go),Y(On))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var JW=(()=>{let e=class e{constructor(r,i){this.authService=r,this.r=i}ngOnInit(){}navigatetosignup(){this.r.navigate(["/sign-up"])}ntofpage(){this.r.navigate(["/forget-password"])}};e.\u0275fac=function(i){return new(i||e)(Te(Si),Te(On))},e.\u0275cmp=mr({type:e,selectors:[["app-sign-in"]],decls:41,vars:0,consts:[[1,"font-mono"],[1,"flex","h-screen"],["src","assets/naruto1.jpg",1,"w-1/2","hidden","lg:block"],[1,"flex","flex-col","justify-center","items-center","w-full","lg:w-1/2"],[1,"text-xl","text-center","font-bold","lg:text-left"],[1,"text-green-600"],[1,"text-3xl","text-center","font-bold","lg:text-left"],[1,"mt-8","w-[80%]","lg:w-96","mx-auto","space-y-4"],["type","email","placeholder","Enter Your Email",1,"border","w-full","px-4","py-2"],["email",""],["type","password","placeholder","Enter Your Password",1,"border","w-full","px-4","py-2","mt-5"],["password",""],[1,"text-blue-500","cursor-pointer","hover:text-blue-700"],["routerLink","/forgot-password",3,"click"],[1,"w-full","bg-green-400","text-white","font-bold","hover:bg-green-600","py-2","rounded",3,"click"],[1,"text-center","space-y-4","mt-4"],[1,"flex","justify-center","items-center","gap-8"],[1,"fa-brands","fa-google","text-3xl","cursor-pointer","opacity-30","hover:opacity-100",3,"click"],[1,"fa-brands","fa-facebook","text-3xl","cursor-pointer"],[1,"fa-brands","fa-instagram","text-3xl","cursor-pointer"],[1,"mt-4","text-sm","text-center","cursor-pointer"],[1,"text-blue-600","cursor-pointer","hover:text-blue-400",3,"click"]],template:function(i,s){if(i&1){let o=Li();q(0,"title"),K(1,"Login"),J(),q(2,"div",0)(3,"div",1),Kt(4,"img",2),q(5,"div",3)(6,"div")(7,"div",4)(8,"span",5),K(9,"\u25B2"),J(),q(10,"span"),K(11," AngularJS!!!"),J()(),q(12,"div",6)(13,"h2"),K(14,"Hello,"),J(),q(15,"h2"),K(16,"Welcome BAck"),J()(),q(17,"div",7)(18,"h4"),K(19,"Login to Manage your account."),J(),Kt(20,"input",8,9)(22,"input",10,11),q(24,"div",12)(25,"span",13),Ze("click",function(){return s.ntofpage()}),K(26,"Forgot Your Password"),J()(),q(27,"button",14),Ze("click",function(){oi(o);let A=$o(21),l=$o(23);return ai(s.authService.SignIn(A.value,l.value))}),K(28,"Login"),J()()(),q(29,"div",15)(30,"span"),K(31,"OR"),J(),q(32,"div",16)(33,"i",17),Ze("click",function(){return s.authService.SignUpWithGoogle()}),J(),Kt(34,"i",18)(35,"i",19),J()(),q(36,"div",20)(37,"span"),K(38," Don't have account ? "),q(39,"a",21),Ze("click",function(){return s.navigatetosignup()}),K(40," Sign up here "),J()()()()()()}}});let t=e;return t})();var zW=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i}ngOnInit(){this.authService.isLoggedIn()||this.router.navigate(["/login"])}ntologin(){this.router.navigate(["/login"])}ntofpage(){this.router.navigate(["/forget-password"])}sup(r,i){return E(this,null,function*(){yield this.authService.SignUp(r,i)})}};e.\u0275fac=function(i){return new(i||e)(Te(Si),Te(On))},e.\u0275cmp=mr({type:e,selectors:[["app-sign-up"]],decls:37,vars:0,consts:[[1,"font-mono"],[1,"flex","h-screen"],["src","assets/n3.jpg",1,"w-1/2","hidden","lg:block"],[1,"flex","flex-col","justify-center","items-center","w-full","lg:w-1/2"],[1,"text-xl","text-center","font-bold","lg:text-left"],[1,"text-red-600"],[1,"text-3xl","text-center","font-bold","lg:text-left"],[1,"mt-8","w-[80%]","lg:w-96","mx-auto","space-y-4"],["autocomplete","off","name","email","type","email","placeholder","Enter Your Email",1,"border","w-full","px-4","py-2"],["email",""],["autocomplete","off","name","password","type","password","placeholder","Enter Your Password",1,"border","w-full","px-4","py-2","mt-5"],["password",""],[1,"text-blue-500","cursor-pointer","hover:text-blue-700","hover:border-black",3,"click"],["type","submit",1,"w-full","border","bg-red-500","text-black","font-bold","hover:bg-red-600","py-2","rounded",3,"click"],[1,"text-center","space-y-4","mt-4"],[1,"flex","justify-center","items-center","gap-8"],[1,"fa-brands","fa-google","text-3xl","cursor-pointer","opacity-30","hover:opacity-100",3,"click"],[1,"fa-brands","fa-facebook","text-3xl","cursor-pointer"],[1,"fa-brands","fa-instagram","text-3xl","cursor-pointer"],[1,"mt-4","text-sm","text-center"],[1,"text-blue-600","cursor-pointer","hover:text-blue-400",3,"click"]],template:function(i,s){if(i&1){let o=Li();q(0,"div",0)(1,"div",1),Kt(2,"img",2),q(3,"div",3)(4,"div")(5,"div",4)(6,"span",5),K(7,"\u25B2"),J(),q(8,"span"),K(9," AngularJS!!!"),J()(),q(10,"div",6)(11,"h2"),K(12,"Hello,"),J(),q(13,"h2"),K(14,"Welcome BAck"),J()(),q(15,"div",7)(16,"h4"),K(17,"Signup to create your account."),J(),Kt(18,"input",8,9)(20,"input",10,11),q(22,"div",12),Ze("click",function(){return s.ntofpage()}),K(23,"Forgot Your Password"),J(),q(24,"button",13),Ze("click",function(){oi(o);let A=$o(19),l=$o(21);return ai(s.sup(A.value,l.value))}),K(25,"Sign Up"),J()()(),q(26,"div",14)(27,"span"),K(28,"OR"),J(),q(29,"div",15)(30,"i",16),Ze("click",function(){return s.authService.SignUpWithGoogle()}),J(),Kt(31,"i",17)(32,"i",18),J()(),q(33,"div",19),K(34," Already have account ? "),q(35,"a",20),Ze("click",function(){return s.ntologin()}),K(36," Sign In "),J()()()()()}}});let t=e;return t})();var rJ=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Te(u0),Te(A0))},e.\u0275dir=ds({type:e});let t=e;return t})(),iJ=(()=>{let e=class e extends rJ{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=c0(e)))(s||e)}})(),e.\u0275dir=ds({type:e,features:[Zo]});let t=e;return t})(),ik=new Ke("");var Fge={provide:ik,useExisting:Fd(()=>eB),multi:!0};function xge(){let t=g0()?g0().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Mge=new Ke(""),eB=(()=>{let e=class e extends rJ{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!xge())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Te(u0),Te(A0),Te(Mge,8))},e.\u0275dir=ds({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Ze("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Md([Fge]),Zo]});let t=e;return t})();function sA(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function sJ(t){return t!=null&&typeof t.length=="number"}var oJ=new Ke(""),aJ=new Ke(""),Lge=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ah=class{static min(e){return Oge(e)}static max(e){return Uge(e)}static required(e){return Pge(e)}static requiredTrue(e){return Vge(e)}static email(e){return qge(e)}static minLength(e){return Gge(e)}static maxLength(e){return Hge(e)}static pattern(e){return Yge(e)}static nullValidator(e){return AJ(e)}static compose(e){return fJ(e)}static composeAsync(e){return pJ(e)}};function Oge(t){return e=>{if(sA(e.value)||sA(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Uge(t){return e=>{if(sA(e.value)||sA(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Pge(t){return sA(t.value)?{required:!0}:null}function Vge(t){return t.value===!0?null:{required:!0}}function qge(t){return sA(t.value)||Lge.test(t.value)?null:{email:!0}}function Gge(t){return e=>sA(e.value)||!sJ(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Hge(t){return e=>sJ(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Yge(t){if(!t)return AJ;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(sA(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function AJ(t){return null}function lJ(t){return t!=null}function cJ(t){return A1(t)?Xn(t):t}function uJ(t){let e={};return t.forEach(n=>{e=n!=null?x(x({},e),n):e}),Object.keys(e).length===0?null:e}function hJ(t,e){return e.map(n=>n(t))}function Wge(t){return!t.validate}function dJ(t){return t.map(e=>Wge(e)?e:n=>e.validate(n))}function fJ(t){if(!t)return null;let e=t.filter(lJ);return e.length==0?null:function(n){return uJ(hJ(n,e))}}function gJ(t){return t!=null?fJ(dJ(t)):null}function pJ(t){if(!t)return null;let e=t.filter(lJ);return e.length==0?null:function(n){let r=hJ(n,e).map(cJ);return $L(r).pipe(Je(uJ))}}function EJ(t){return t!=null?pJ(dJ(t)):null}function jW(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function mJ(t){return t._rawValidators}function CJ(t){return t._rawAsyncValidators}function tk(t){return t?Array.isArray(t)?t:[t]:[]}function zy(t,e){return Array.isArray(t)?t.includes(e):t===e}function KW(t,e){let n=tk(e);return tk(t).forEach(i=>{zy(n,i)||n.push(i)}),n}function XW(t,e){return tk(e).filter(n=>!zy(t,n))}var jy=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gJ(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EJ(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ah=class extends jy{get formDirective(){return null}get path(){return null}},Zg=class extends jy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ky=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Jge={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qLe=se(x({},Jge),{"[class.ng-submitted]":"isSubmitted"}),IJ=(()=>{let e=class e extends Ky{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Te(Zg,2))},e.\u0275dir=ds({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&h0("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Zo]});let t=e;return t})(),yJ=(()=>{let e=class e extends Ky{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Te(Ah,10))},e.\u0275dir=ds({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&h0("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Zo]});let t=e;return t})();var Kg="VALID",Wy="INVALID",oh="PENDING",Xg="DISABLED";function sk(t){return(tB(t)?t.validators:t)||null}function zge(t){return Array.isArray(t)?gJ(t):t||null}function ok(t,e){return(tB(e)?e.asyncValidators:t)||null}function jge(t){return Array.isArray(t)?EJ(t):t||null}function tB(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function BJ(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new OE(1e3,"");if(!r[n])throw new OE(1001,"")}function QJ(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new OE(1002,"")})}var lh=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Kg}get invalid(){return this.status===Wy}get pending(){return this.status==oh}get disabled(){return this.status===Xg}get enabled(){return this.status!==Xg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XW(e,this._rawAsyncValidators))}hasValidator(e){return zy(this._rawValidators,e)}hasAsyncValidator(e){return zy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=oh,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xg,this.errors=null,this._forEachChild(r=>{r.disable(se(x({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(x({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Kg,this._forEachChild(r=>{r.enable(se(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(x({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kg||this.status===oh)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xg:Kg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=oh,this._hasOwnPendingAsyncValidator=!0;let n=cJ(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new kd,this.statusChanges=new kd}_calculateStatus(){return this._allControlsDisabled()?Xg:this.errors?Wy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oh)?oh:this._anyControlsHaveStatus(Wy)?Wy:Kg}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tB(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=zge(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=jge(this._rawAsyncValidators)}},Xy=class extends lh{constructor(e,n,r){super(sk(n),ok(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){QJ(this,!0,e),Object.keys(e).forEach(r=>{BJ(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var nk=class extends Xy{};var ak=new Ke("CallSetDisabledState",{providedIn:"root",factory:()=>nB}),nB="always";function Kge(t,e){return[...e.path,t]}function ZW(t,e,n=nB){Ak(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Zge(t,e),epe(t,e),$ge(t,e),Xge(t,e)}function $W(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$y(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Zy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xge(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ak(t,e){let n=mJ(t);e.validator!==null?t.setValidators(jW(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=CJ(t);e.asyncValidator!==null?t.setAsyncValidators(jW(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Zy(e._rawValidators,i),Zy(e._rawAsyncValidators,i)}function $y(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=mJ(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=CJ(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Zy(e._rawValidators,r),Zy(e._rawAsyncValidators,r),n}function Zge(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&wJ(t,e)})}function $ge(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&wJ(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function wJ(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function epe(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function tpe(t,e){t==null,Ak(t,e)}function npe(t,e){return $y(t,e)}function rpe(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function ipe(t){return Object.getPrototypeOf(t.constructor)===iJ}function spe(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ope(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===eB?n=s:ipe(s)?r=s:i=s}),i||r||n||null}function ape(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eJ(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tJ(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Jy=class extends lh{constructor(e=null,n,r){super(sk(n),ok(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tB(n)&&(n.nonNullable||n.initialValueIsDefault)&&(tJ(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eJ(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eJ(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tJ(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ape=t=>t instanceof Jy;var _J=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ds({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),lpe={provide:ik,useExisting:Fd(()=>lk),multi:!0},lk=(()=>{let e=class e extends iJ{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=c0(e)))(s||e)}})(),e.\u0275dir=ds({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&Ze("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Md([lpe]),Zo]});let t=e;return t})();var vJ=new Ke("");var cpe={provide:Ah,useExisting:Fd(()=>ck)},ck=(()=>{let e=class e extends Ah{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new kd,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($y(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return ZW(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){$W(r.control||null,r,!1),ape(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,spe(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&($W(i||null,r),Ape(s)&&(ZW(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);tpe(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&npe(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ak(this.form,this),this._oldForm&&$y(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(Te(oJ,10),Te(aJ,10),Te(ak,8))},e.\u0275dir=ds({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Ze("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Nd.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Md([cpe]),Zo,l0]});let t=e;return t})();var upe={provide:Zg,useExisting:Fd(()=>uk)},uk=(()=>{let e=class e extends Zg{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new kd,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=ope(this,o)}ngOnChanges(r){this._added||this._setUpControl(),rpe(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Kge(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(Te(Ah,13),Te(oJ,10),Te(aJ,10),Te(ik,10),Te(vJ,8))},e.\u0275dir=ds({type:e,selectors:[["","formControlName",""]],inputs:{name:[Nd.None,"formControlName","name"],isDisabled:[Nd.None,"disabled","isDisabled"],model:[Nd.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Md([upe]),Zo,l0]});let t=e;return t})();var SJ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qt({type:e}),e.\u0275inj=Gt({});let t=e;return t})(),rk=class extends lh{constructor(e,n,r){super(sk(n),ok(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){QJ(this,!1,e),e.forEach((r,i)=>{BJ(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function nJ(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var bJ=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return nJ(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Xy(s,o)}record(r,i=null){let s=this._reduceControls(r);return new nk(s,i)}control(r,i,s){let o={};return this.useNonNullable?(nJ(i)?o=i:(o.validators=i,o.asyncValidators=s),new Jy(r,se(x({},o),{nonNullable:!0}))):new Jy(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new rk(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Jy)return r;if(r instanceof lh)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DJ=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:ak,useValue:r.callSetDisabledState??nB}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qt({type:e}),e.\u0275inj=Gt({imports:[SJ]});let t=e;return t})(),RJ=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:vJ,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:ak,useValue:r.callSetDisabledState??nB}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qt({type:e}),e.\u0275inj=Gt({imports:[SJ]});let t=e;return t})();var TJ=(()=>{let e=class e{constructor(r){this.afs=r}addDocument(r,i){return this.afs.collection(r).add(i)}deleteDecument(r,i){return this.afs.collection(r).doc(i).delete()}updateDocument(r,i,s){return this.afs.collection(r).doc(i).update(s)}getAlldocument(r){return this.afs.collection(r).snapshotChanges()}};e.\u0275fac=function(i){return new(i||e)(Y(jg))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gpe(t,e){if(t&1){let n=Li();q(0,"div",15)(1,"div",16)(2,"form",17)(3,"div",18),Kt(4,"input",19),q(5,"label",20),K(6,"Task Name"),J()(),q(7,"div",18),Kt(8,"input",21),q(9,"label",22),K(10,"Description"),J()(),q(11,"div",18),Kt(12,"input",23),q(13,"label",24),K(14,"Duration"),J()(),q(15,"button",25),Ze("click",function(){oi(n);let i=FA();return ai(i.addStudent())}),K(16,"Add Student"),J(),q(17,"button",26),Ze("click",function(){oi(n);let i=FA();return ai(i.toggleform())}),Kt(18,"i",27),J()()()()}if(t&2){let n=FA();kr(2),NA("formGroup",n.studentForm)}}function ppe(t,e){if(t&1){let n=Li();q(0,"tr",11)(1,"td",28),K(2),J(),q(3,"td",29),K(4),J(),q(5,"td",29),K(6),J(),q(7,"td",29),K(8),J(),q(9,"td",30)(10,"button",31),Ze("click",function(){let s=oi(n).$implicit,o=FA();return ai(o.deleteStudent(s))}),K(11,"Delete"),J()()()}if(t&2){let n=e.$implicit,r=e.index;kr(2),ea(r+1),kr(2),ea(n.name),kr(2),ea(n.desc),kr(2),ea(n.mobile)}}function Epe(t,e){t&1&&(q(0,"tr")(1,"td",32),K(2,"No todos found."),J()())}var kJ=(()=>{let e=class e{constructor(r,i,s,o){this.authService=r,this.r=i,this.ds=s,this.fb=o,this.studentList=[]}ngOnInit(){this.userCollectionName=this.authService.userCollectionName,this.studentForm=this.fb.group({task:["",ah.required],desc:["",ah.required],mobile:["",ah.required]}),this.userCollectionName?this.getAllStudents():console.error("User collection name not found."),this.authService.isLoggedIn()||this.r.navigate(["/login"])}resetForm(){this.studentForm.reset(),this.studentForm.markAsPristine(),this.studentForm.markAsUntouched()}getAllStudents(){this.ds.getAlldocument(this.userCollectionName).subscribe(r=>{this.studentList=r.map(i=>{let s=i.payload.doc.data(),o=i.payload.doc.id;return x({id:o},s)}).filter(i=>!!i)},r=>{console.error("Error while fetching data: ",r)})}addStudent(){if(this.studentForm.invalid){alert("Please fill all the fields correctly");return}let r={name:this.studentForm.get("task").value,desc:this.studentForm.get("desc").value,mobile:this.studentForm.get("mobile").value};this.ds.addDocument(this.userCollectionName,r).then(i=>{console.log("Document written with ID: ",i.id),this.resetForm()}).catch(i=>{console.error("Error adding student: ",i),alert("Error adding student. Please try again.")})}deleteStudent(r){if(!r.id){console.error("Invalid student ID");return}window.confirm("Are you sure you want to delete "+r.name)&&this.ds.deleteDecument(this.userCollectionName,r.id)}toggleform(){this.formvisible=!this.formvisible,this.resetForm()}};e.\u0275fac=function(i){return new(i||e)(Te(Si),Te(On),Te(TJ),Te(bJ))},e.\u0275cmp=mr({type:e,selectors:[["app-dashboard"]],decls:28,vars:3,consts:[[1,"bg-green-300","w-screen","flex","justify-between","items-center","py-4","px-3"],[1,"text-center","text-3xl"],[1,"flex","items-center"],[1,"bg-blue-400","px-4","py-2","border","rounded","hover:bg-blue-600","hover:border-black",3,"click"],[1,"bg-red-400","px-4","py-2","border","rounded","hover:bg-red-600","hover:border-black","ml-4",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"container","mx-auto","my-8","relative"],["class","form-container absolute top-0 left-0 right-0 flex justify-center items-center bg-transparent z-10",4,"ngIf"],[1,"table-container","relative"],[1,"w-full","border-collapse","border","border-black","bg-white","p-8","rounded-lg","shadow-lg"],[1,"bg-gray-100"],[1,"border-b","border-black"],[1,"px-6","py-3","border-b","border-black","text-center"],["class","border-b border-black",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-container","absolute","top-0","left-0","right-0","flex","justify-center","items-center","bg-transparent","z-10"],[1,"bg-gray-100","p-8","rounded-lg","shadow-lg"],[1,"card","border-0","shadow","p-3",3,"formGroup"],[1,"mb-3"],["type","text","id","task","placeholder","","formControlName","task",1,"form-control"],["for","task"],["type","text","id","desc","placeholder","name@example.com","formControlName","desc",1,"form-control"],["for","desc"],["type","number","id","mobile","placeholder","Mobile no","formControlName","mobile",1,"form-control"],["for","mobile"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"absolute","top-0","right-0","m-2",3,"click"],[1,"fas","fa-times","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","border-r","border-black","text-center"],[1,"px-6","py-4","whitespace-nowrap","border-r","border-black"],[1,"px-6","py-4","whitespace-nowrap","text-center"],[1,"bg-red-400","hover:bg-red-700","rounded","p-2",3,"click"],["colspan","5",1,"px-6","py-4","whitespace-nowrap","text-center"]],template:function(i,s){i&1&&(q(0,"nav",0)(1,"h1",1),K(2,"Todo List"),J(),q(3,"div",2)(4,"button",3),Ze("click",function(){return s.toggleform()}),K(5,"Add Todo"),J(),q(6,"button",4),Ze("click",function(){return s.authService.SignOut()}),Kt(7,"i",5),K(8," Log out "),J()()(),q(9,"div",6),xd(10,gpe,19,1,"div",7),J(),q(11,"div",8)(12,"table",9)(13,"thead",10)(14,"tr",11)(15,"th",12),K(16,"Index"),J(),q(17,"th",12),K(18,"Todo"),J(),q(19,"th",12),K(20,"Description"),J(),q(21,"th",12),K(22,"Mobile"),J(),q(23,"th",12),K(24,"Action"),J()()(),q(25,"tbody"),xd(26,ppe,12,4,"tr",13)(27,Epe,3,0,"tr",14),J()()()),i&2&&(kr(10),NA("ngIf",s.formvisible),kr(16),NA("ngForOf",s.studentList),kr(),NA("ngIf",s.studentList.length===0))},dependencies:[UE,l1,_J,eB,lk,IJ,yJ,ck,uk],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}"]});let t=e;return t})();var NJ=(()=>{let e=class e{constructor(r,i){this.authService=r,this.r=i}ngOnInit(){}ntologin(){this.r.navigate(["/login"])}};e.\u0275fac=function(i){return new(i||e)(Te(Si),Te(On))},e.\u0275cmp=mr({type:e,selectors:[["app-forgot-password"]],decls:16,vars:0,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"authBlock","max-w-xs","p-4","border","rounded","container","bg-green-300"],[1,"text-lg","font-semibold"],[1,"text-center","text-sm","mb-4"],[1,"formGroup","mb-4"],["type","email","placeholder","Email Address","required","",1,"border","w-full","px-4","py-2"],["passwordResetEmail",""],[1,"formGroup"],["type","submit","value","Reset Password",1,"btn","btnPrimary","w-full","bg-green-400","px-4","py-2","border-black","hover:bg-green-600",3,"click"],[1,"ml-4","text-sm"],[1,"text-black"],[1,"text-blue-500","cursor-pointer",3,"click"]],template:function(i,s){if(i&1){let o=Li();q(0,"div",0)(1,"div",1)(2,"h3",2),K(3,"Reset Password"),J(),q(4,"p",3),K(5,"Please enter your email address to request a password reset."),J(),q(6,"div",4),Kt(7,"input",5,6),J(),q(9,"div",7)(10,"input",8),Ze("click",function(){oi(o);let A=$o(8);return ai(s.authService.ForgotPassword(A.value))}),J()(),q(11,"div",9)(12,"span",10),K(13,"Go back to "),q(14,"span",11),Ze("click",function(){return s.ntologin()}),K(15,"Log In"),J()()()()()}}});let t=e;return t})();var FJ=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i}ngOnInit(){}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(i){return new(i||e)(Te(Si),Te(On))},e.\u0275cmp=mr({type:e,selectors:[["app-verify-email"]],decls:14,vars:0,consts:[[1,"font-mono"],[1,"flex","h-screen","w-screen","justify-center","items-center"],[1,"authBlock","max-w-3xl","p-4","px-7","border","rounded","container","bg-green-300"],[1,"text-3xl","font-bold","mb-4"],[1,"mb-4"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"border","border-black","px-4","py-2","rounded","text-black","font-bold","bg-green-400","hover:bg-green-600",3,"click"]],template:function(i,s){i&1&&(q(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),K(4,"Thank You for Registering"),J(),q(5,"h2",3),K(6,"Verification Email Sent"),J(),q(7,"p",4),K(8,"A verification email has been sent to your email address."),J(),q(9,"button",5),Ze("click",function(){return s.authService.SendVerificationMail()}),Kt(10,"i",6),K(11," Resend Verification Email "),J(),q(12,"button",7),Ze("click",function(){return s.navigateToLogin()}),K(13,"Close"),J()()()())}});let t=e;return t})();function mpe(t,e){if(t&1){let n=Li();q(0,"tr",8)(1,"td",9),K(2),J(),q(3,"td",9),K(4),J(),q(5,"td",9)(6,"button",10),Ze("click",function(){let s=oi(n).$implicit,o=FA();return ai(o.deleteUser(s))}),K(7,"Delete"),J()()()}if(t&2){let n=e.$implicit,r=e.index;kr(2),ea(r+1),kr(2),ea(n)}}var xJ=(()=>{let e=class e{constructor(r,i){this.aservice=r,this.r=i,this.userEmails=[]}ngOnInit(){this.getuseremails(),this.aservice.isLoggedIn()||this.r.navigate(["/login"])}getuseremails(){this.aservice.getAlluser().subscribe(r=>{this.userEmails=r})}deleteUser(r){this.aservice.deleteByEmail(r).then(()=>{this.getuseremails()})}};e.\u0275fac=function(i){return new(i||e)(Te(Si),Te(On))},e.\u0275cmp=mr({type:e,selectors:[["app-admin-dashboard"]],decls:17,vars:1,consts:[[1,"font-mono"],[1,"text-3xl","font-bold","text-center","bg","bg-red-300"],[1,"overflow-x-auto"],[1,"w-full","bg-white","shadow-md","rounded"],[1,"bg-green-600","text-white"],[1,"px-6","py-3","border","border-black","text-left","font-semibold","uppercase"],["class","bg-green-100",4,"ngFor","ngForOf"],[1,"block","mx-auto","mt-8","bg-red-500","hover:bg-red-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"],[1,"bg-green-100"],[1,"px-6","py-4","border","border-black"],[1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(i,s){i&1&&(q(0,"div",0)(1,"h1",1),K(2,"Admin Dashboard (User Lists)"),J(),q(3,"div",2)(4,"table",3)(5,"thead")(6,"tr",4)(7,"th",5),K(8,"Index"),J(),q(9,"th",5),K(10,"Emails"),J(),q(11,"th",5),K(12,"Action"),J()()(),q(13,"tbody"),xd(14,mpe,8,2,"tr",6),J()()(),q(15,"button",7),Ze("click",function(){return s.aservice.SignOut()}),K(16,"Log Out"),J()()),i&2&&(kr(14),NA("ngForOf",s.userEmails))},dependencies:[UE]});let t=e;return t})();var rB=(()=>{let e=class e{constructor(r,i){this.afAuth=r,this.router=i}canActivate(){return this.afAuth.authState.pipe(t1(1),Je(r=>r?!0:(this.router.navigate(["/login"]),!1)))}};e.\u0275fac=function(i){return new(i||e)(Y(go),Y(On))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cpe=[{path:"",redirectTo:"/sign-up",pathMatch:"full"},{path:"sign-up",component:zW},{path:"login",component:JW},{path:"forget-password",component:NJ},{path:"verify-email",component:FJ},{path:"dashboard",component:kJ,canActivate:[rB]},{path:"admin-dashboard",component:xJ,canActivate:[rB]}],MJ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qt({type:e}),e.\u0275inj=Gt({providers:[rB],imports:[p0.forRoot(Cpe,{enableTracing:!1}),p0]});let t=e;return t})();var iB=(()=>{let e=class e{constructor(){this.title="aFirebase"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=mr({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,s){i&1&&Kt(0,"router-outlet")},dependencies:[d1],styles:['*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}[_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-content: ""}html[_ngcontent-%COMP%], [_nghost-%COMP%]{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0;line-height:inherit}hr[_ngcontent-%COMP%]{height:0;color:inherit;border-top-width:1px}abbr[_ngcontent-%COMP%]:where([title]){text-decoration:underline dotted}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;font-weight:inherit}a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}table[_ngcontent-%COMP%]{text-indent:0;border-color:inherit;border-collapse:collapse}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}button[_ngcontent-%COMP%], [type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%]{-webkit-appearance:button;background-color:transparent;background-image:none}[_ngcontent-%COMP%]:-moz-focusring{outline:auto}[_ngcontent-%COMP%]:-moz-ui-invalid{box-shadow:none}progress[_ngcontent-%COMP%]{vertical-align:baseline}[_ngcontent-%COMP%]::-webkit-inner-spin-button, [_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{-webkit-appearance:textfield;outline-offset:-2px}[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary[_ngcontent-%COMP%]{display:list-item}blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], hr[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{margin:0}fieldset[_ngcontent-%COMP%]{margin:0;padding:0}legend[_ngcontent-%COMP%]{padding:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}dialog[_ngcontent-%COMP%]{padding:0}textarea[_ngcontent-%COMP%]{resize:vertical}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{opacity:1;color:#9ca3af}button[_ngcontent-%COMP%], [role=button][_ngcontent-%COMP%]{cursor:pointer}[_ngcontent-%COMP%]:disabled{cursor:default}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{display:block;vertical-align:middle}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}[hidden][_ngcontent-%COMP%]{display:none}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }[_ngcontent-%COMP%]::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){.container[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){.container[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){.container[_ngcontent-%COMP%]{max-width:1280px}}@media (min-width: 1536px){.container[_ngcontent-%COMP%]{max-width:1536px}}.absolute[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%]{position:relative}.left-0[_ngcontent-%COMP%]{left:0}.right-0[_ngcontent-%COMP%]{right:0}.top-0[_ngcontent-%COMP%]{top:0}.z-10[_ngcontent-%COMP%]{z-index:10}.m-2[_ngcontent-%COMP%]{margin:.5rem}.mx-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.my-8[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:.75rem}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.ml-4[_ngcontent-%COMP%]{margin-left:1rem}.mt-4[_ngcontent-%COMP%]{margin-top:1rem}.mt-5[_ngcontent-%COMP%]{margin-top:1.25rem}.mt-8[_ngcontent-%COMP%]{margin-top:2rem}.block[_ngcontent-%COMP%]{display:block}.flex[_ngcontent-%COMP%]{display:flex}.table[_ngcontent-%COMP%]{display:table}.hidden[_ngcontent-%COMP%]{display:none}.h-screen[_ngcontent-%COMP%]{height:100vh}.w-1\\/2[_ngcontent-%COMP%]{width:50%}.w-\\__ph-0__[_ngcontent-%COMP%]{width:80%}.w-full[_ngcontent-%COMP%]{width:100%}.w-screen[_ngcontent-%COMP%]{width:100vw}.max-w-3xl[_ngcontent-%COMP%]{max-width:48rem}.max-w-xs[_ngcontent-%COMP%]{max-width:20rem}.border-collapse[_ngcontent-%COMP%]{border-collapse:collapse}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.items-center[_ngcontent-%COMP%]{align-items:center}.justify-center[_ngcontent-%COMP%]{justify-content:center}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.gap-8[_ngcontent-%COMP%]{gap:2rem}.space-y-4[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto}.whitespace-nowrap[_ngcontent-%COMP%]{white-space:nowrap}.rounded[_ngcontent-%COMP%]{border-radius:.25rem}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.border[_ngcontent-%COMP%]{border-width:1px}.border-0[_ngcontent-%COMP%]{border-width:0px}.border-b[_ngcontent-%COMP%]{border-bottom-width:1px}.border-r[_ngcontent-%COMP%]{border-right-width:1px}.border-black[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}.bg-blue-400[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity))}.bg-gray-100[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-green-100[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-green-300[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(134 239 172 / var(--tw-bg-opacity))}.bg-green-400[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(74 222 128 / var(--tw-bg-opacity))}.bg-green-500[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity))}.bg-green-600[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity))}.bg-orange-400[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(251 146 60 / var(--tw-bg-opacity))}.bg-red-300[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-red-400[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity))}.bg-red-500[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-transparent[_ngcontent-%COMP%]{background-color:transparent}.bg-white[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.p-2[_ngcontent-%COMP%]{padding:.5rem}.p-3[_ngcontent-%COMP%]{padding:.75rem}.p-4[_ngcontent-%COMP%]{padding:1rem}.p-8[_ngcontent-%COMP%]{padding:2rem}.px-3[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:.75rem}.px-4[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.px-6[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.px-7[_ngcontent-%COMP%]{padding-left:1.75rem;padding-right:1.75rem}.py-2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.py-3[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}.py-4[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.font-mono[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.25rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.font-semibold[_ngcontent-%COMP%]{font-weight:600}.uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-black[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-blue-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}.text-gray-500[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-green-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity))}.text-red-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}.text-white[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.opacity-0[_ngcontent-%COMP%]{opacity:0}.opacity-30[_ngcontent-%COMP%]{opacity:.3}.shadow[_ngcontent-%COMP%]{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg[_ngcontent-%COMP%]{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md[_ngcontent-%COMP%]{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.filter[_ngcontent-%COMP%]{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\\:border-black[_ngcontent-%COMP%]:hover{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}.hover\\:bg-blue-600[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-green-600[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity))}.hover\\:bg-green-700[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity))}.hover\\:bg-red-600[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.hover\\:bg-red-700[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.hover\\:text-blue-400[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.hover\\:text-blue-700[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity))}.hover\\:opacity-100[_ngcontent-%COMP%]:hover{opacity:1}.hover\\:opacity-30[_ngcontent-%COMP%]:hover{opacity:.3}.focus\\:outline-none[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}@media (min-width: 1024px){.lg\\:block[_ngcontent-%COMP%]{display:block}.lg\\:w-1\\/2[_ngcontent-%COMP%]{width:50%}.lg\\:w-96[_ngcontent-%COMP%]{width:24rem}.lg\\:text-left[_ngcontent-%COMP%]{text-align:left}}']});let t=e;return t})();var l8=Dd(n8(),1);var c8="firebasestorage.googleapis.com",u8="storageBucket",rve=2*60*1e3,ive=10*60*1e3,sve=1e3;var Vt=class t extends GE{constructor(e,n,r=0){super(ax(e),`Firebase Storage: ${n} (${ax(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ax(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Nt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Nt||{});function ax(t){return"storage/"+t}function gx(){let t="An unknown error occurred, please check the error payload for server response.";return new Vt(Nt.UNKNOWN,t)}function ove(t){return new Vt(Nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ave(t){return new Vt(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ave(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt(Nt.UNAUTHENTICATED,t)}function lve(){return new Vt(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cve(t){return new Vt(Nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function h8(){return new Vt(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function d8(){return new Vt(Nt.CANCELED,"User canceled the upload/download.")}function uve(t){return new Vt(Nt.INVALID_URL,"Invalid URL '"+t+"'.")}function hve(t){return new Vt(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dve(){return new Vt(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u8+"' property when initializing the app?")}function f8(){return new Vt(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fve(){return new Vt(Nt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function gve(){return new Vt(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zl(t){return new Vt(Nt.INVALID_ARGUMENT,t)}function g8(){return new Vt(Nt.APP_DELETED,"The Firebase app was deleted.")}function px(t){return new Vt(Nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function td(t,e){return new Vt(Nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Pp(t){throw new Vt(Nt.INTERNAL_ERROR,"Internal error: "+t)}var hr=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw hve(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),A={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}let c="v[A-Za-z0-9_]+",u=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",d=new RegExp(`^https?://${u}/${c}/b/${i}/o${h}`,"i"),f={bucket:1,path:3},g=n===c8?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",y=new RegExp(`^https?://${g}/${i}/${m}`,"i"),_=[{regex:a,indices:A,postModify:s},{regex:d,indices:f,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<_.length;w++){let S=_[w],T=S.regex.exec(e);if(T){let Z=T[S.indices.bucket],pe=T[S.indices.path];pe||(pe=""),r=new t(Z,pe),S.postModify(r);break}}if(r==null)throw uve(e);return r}},lx=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function pve(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function A(){return a===2}let l=!1;function c(...m){l||(l=!0,e.apply(null,m))}function u(m){i=setTimeout(()=>{i=null,t(d,A())},m)}function h(){s&&clearTimeout(s)}function d(m,...y){if(l){h();return}if(m){h(),c.call(null,m,...y);return}if(A()||o){h(),c.call(null,m,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,u(_)}let f=!1;function g(m){f||(f=!0,h(),!l&&(i!==null?(m||(a=2),clearTimeout(i),u(0)):m||(a=1)))}return u(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function Eve(t){t(!1)}function mve(t){return t!==void 0}function Cve(t){return typeof t=="function"}function Ive(t){return typeof t=="object"&&!Array.isArray(t)}function qQ(t){return typeof t=="string"||t instanceof String}function r8(t){return Ex()&&t instanceof Blob}function Ex(){return typeof Blob<"u"}function cx(t,e,n,r){if(r<e)throw zl(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zl(`Invalid value for '${t}'. Expected ${n} or less.`)}function CA(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function p8(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var nd=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(nd||{});function E8(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var ux=class{constructor(e,n,r,i,s,o,a,A,l,c,u,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=A,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,f)=>{this.resolve_=d,this.reject_=f,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ed(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let A=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(A,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===nd.NO_ERROR,A=s.getStatus();if(!a||E8(A,this.additionalRetryCodes_)&&this.retry){let c=s.getErrorCode()===nd.ABORT;r(!1,new ed(!1,null,c));return}let l=this.successCodes_.indexOf(A)!==-1;r(!0,new ed(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let A=this.callback_(a,a.getResponse());mve(A)?s(A):s()}catch(A){o(A)}else if(a!==null){let A=gx();A.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,A)):o(A)}else if(i.canceled){let A=this.appDelete_?g8():d8();o(A)}else{let A=h8();o(A)}};this.canceled_?n(!1,new ed(!1,null,!0)):this.backoffId_=pve(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Eve(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ed=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function yve(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Bve(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Qve(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wve(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _ve(t,e,n,r,i,s,o=!0){let a=p8(t.urlParams),A=t.url+a,l=Object.assign({},t.headers);return Qve(l,e),yve(l,n),Bve(l,s),wve(l,r),new ux(A,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function vve(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Sve(...t){let e=vve();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ex())return new Blob(t);throw new Vt(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bve(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Dve(t){if(/[^-A-Za-z0-9+/=]/.test(t))throw td("base64","Invalid character found");return Buffer.from(t,"base64").toString("binary")}var Zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Vp=class{constructor(e,n){this.data=e,this.contentType=n||null}};function mx(t,e){switch(t){case Zr.RAW:return new Vp(m8(e));case Zr.BASE64:case Zr.BASE64URL:return new Vp(C8(t,e));case Zr.DATA_URL:return new Vp(Tve(e),kve(e))}throw gx()}function m8(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Rve(t){let e;try{e=decodeURIComponent(t)}catch{throw td(Zr.DATA_URL,"Malformed data URL.")}return m8(e)}function C8(t,e){switch(t){case Zr.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw td(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Zr.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw td(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Dve(e)}catch(i){throw i.message.includes("polyfill")?i:td(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var VQ=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw td(Zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=Nve(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function Tve(t){let e=new VQ(t);return e.base64?C8(Zr.BASE64,e.rest):Rve(e.rest)}function kve(t){return new VQ(t).contentType}function Nve(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var rd=class t{constructor(e,n){let r=0,i="";r8(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(r8(this.data_)){let r=this.data_,i=bve(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Ex()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(Sve.apply(null,n))}else{let n=e.map(o=>qQ(o)?mx(Zr.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function Cx(t){let e;try{e=JSON.parse(t)}catch{return null}return Ive(e)?e:null}function Fve(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xve(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function I8(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Mve(t,e){return e}var xn=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Mve}},PQ=null;function Lve(t){return!qQ(t)||t.length<2?t:I8(t)}function GQ(){if(PQ)return PQ;let t=[];t.push(new xn("bucket")),t.push(new xn("generation")),t.push(new xn("metageneration")),t.push(new xn("name","fullPath",!0));function e(s,o){return Lve(o)}let n=new xn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new xn("size");return i.xform=r,t.push(i),t.push(new xn("timeCreated")),t.push(new xn("updated")),t.push(new xn("md5Hash",null,!0)),t.push(new xn("cacheControl",null,!0)),t.push(new xn("contentDisposition",null,!0)),t.push(new xn("contentEncoding",null,!0)),t.push(new xn("contentLanguage",null,!0)),t.push(new xn("contentType",null,!0)),t.push(new xn("metadata","customMetadata",!0)),PQ=t,PQ}function Ove(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new hr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Uve(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return Ove(r,t),r}function y8(t,e,n){let r=Cx(e);return r===null?null:Uve(t,r,n)}function Pve(t,e,n,r){let i=Cx(e);if(i===null||!qQ(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let c=t.bucket,u=t.fullPath,h="/b/"+o(c)+"/o/"+o(u),d=CA(h,n,r),f=p8({alt:"media",token:l});return d+f})[0]}function Ix(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var i8="prefixes",s8="items";function Vve(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[i8])for(let i of n[i8]){let s=i.replace(/\/$/,""),o=t._makeStorageReference(new hr(e,s));r.prefixes.push(o)}if(n[s8])for(let i of n[s8]){let s=t._makeStorageReference(new hr(e,i.name));r.items.push(s)}return r}function qve(t,e,n){let r=Cx(n);return r===null?null:Vve(t,e,r)}var As=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function io(t){if(!t)throw gx()}function HQ(t,e){function n(r,i){let s=y8(t,i,e);return io(s!==null),s}return n}function Gve(t,e){function n(r,i){let s=qve(t,e,i);return io(s!==null),s}return n}function Hve(t,e){function n(r,i){let s=y8(t,i,e);return io(s!==null),Pve(s,i,t.host,t._protocol)}return n}function od(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=lve():i=Ave():n.getStatus()===402?i=ave(t.bucket):n.getStatus()===403?i=cve(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function YQ(t){let e=od(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=ove(t.path)),s.serverResponse=i.serverResponse,s}return n}function B8(t,e,n){let r=e.fullServerUrl(),i=CA(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new As(i,s,HQ(t,n),o);return a.errorHandler=YQ(e),a}function Yve(t,e,n,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),a=CA(o,t.host,t._protocol),A="GET",l=t.maxOperationRetryTime,c=new As(a,A,Gve(t,e.bucket),l);return c.urlParams=s,c.errorHandler=od(e),c}function Wve(t,e,n){let r=e.fullServerUrl(),i=CA(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new As(i,s,Hve(t,n),o);return a.errorHandler=YQ(e),a}function Jve(t,e,n,r){let i=e.fullServerUrl(),s=CA(i,t.host,t._protocol),o="PATCH",a=Ix(n,r),A={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,c=new As(s,o,HQ(t,r),l);return c.headers=A,c.body=a,c.errorHandler=YQ(e),c}function zve(t,e){let n=e.fullServerUrl(),r=CA(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(A,l){}let a=new As(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=YQ(e),a}function jve(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Q8(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jve(null,e)),r}function Kve(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let w=0;w<2;w++)_=_+Math.random().toString().slice(2);return _}let A=a();o["Content-Type"]="multipart/related; boundary="+A;let l=Q8(e,r,i),c=Ix(l,n),u="--"+A+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+A+`\r
Content-Type: `+l.contentType+`\r
\r
`,h=`\r
--`+A+"--",d=rd.getBlob(u,r,h);if(d===null)throw f8();let f={name:l.fullPath},g=CA(s,t.host,t._protocol),m="POST",y=t.maxUploadRetryTime,I=new As(g,m,HQ(t,n),y);return I.urlParams=f,I.headers=o,I.body=d.uploadData(),I.errorHandler=od(e),I}var id=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function yx(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{io(!1)}return io(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Xve(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=Q8(e,r,i),a={name:o.fullPath},A=CA(s,t.host,t._protocol),l="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Ix(o,n),h=t.maxUploadRetryTime;function d(g){yx(g);let m;try{m=g.getResponseHeader("X-Goog-Upload-URL")}catch{io(!1)}return io(qQ(m)),m}let f=new As(A,l,d,h);return f.urlParams=a,f.headers=c,f.body=u,f.errorHandler=od(e),f}function Zve(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(l){let c=yx(l,["active","final"]),u=null;try{u=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{io(!1)}u||io(!1);let h=Number(u);return io(!isNaN(h)),new id(h,r.size(),c==="final")}let o="POST",a=t.maxUploadRetryTime,A=new As(n,o,s,a);return A.headers=i,A.errorHandler=od(e),A}var o8=256*1024;function $ve(t,e,n,r,i,s,o,a){let A=new id(0,0);if(o?(A.current=o.current,A.total=o.total):(A.current=0,A.total=r.size()),r.size()!==A.total)throw fve();let l=A.total-A.current,c=l;i>0&&(c=Math.min(c,i));let u=A.current,h=u+c,d="";c===0?d="finalize":l===c?d="upload, finalize":d="upload";let f={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":`${A.current}`},g=r.slice(u,h);if(g===null)throw f8();function m(w,S){let T=yx(w,["active","final"]),Z=A.current+c,pe=r.size(),ke;return T==="final"?ke=HQ(e,s)(w,S):ke=null,new id(Z,pe,T==="final",ke)}let y="POST",I=e.maxUploadRetryTime,_=new As(n,y,m,I);return _.headers=f,_.body=g.uploadData(),_.progressCallback=a||null,_.errorHandler=od(t),_}var w8={STATE_CHANGED:"state_changed"},jn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ax(t){switch(t){case"running":case"pausing":case"canceling":return jn.RUNNING;case"paused":return jn.PAUSED;case"success":return jn.SUCCESS;case"canceled":return jn.CANCELED;case"error":return jn.ERROR;default:return jn.ERROR}}var hx=class{constructor(e,n,r){if(Cve(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function $h(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var a8=null,dx=class{constructor(){this.errorText_="",this.sent_=!1,this.fetch_=l8.fetch,this.errorCode_=nd.NO_ERROR}send(e,n,r,i){return E(this,null,function*(){if(this.sent_)throw Pp("cannot .send() more than once");this.sent_=!0;try{let s=yield this.fetch_(e,{method:n,headers:i||{},body:r});this.headers_=s.headers,this.statusCode_=s.status,this.errorCode_=nd.NO_ERROR,this.body_=yield s.arrayBuffer()}catch(s){this.errorText_=s?.message,this.statusCode_=0,this.errorCode_=nd.NETWORK_ERROR}})}getErrorCode(){if(this.errorCode_===void 0)throw Pp("cannot .getErrorCode() before receiving response");return this.errorCode_}getStatus(){if(this.statusCode_===void 0)throw Pp("cannot .getStatus() before receiving response");return this.statusCode_}getErrorText(){return this.errorText_}abort(){}getResponseHeader(e){if(!this.headers_)throw Pp("cannot .getResponseHeader() before receiving response");return this.headers_.get(e)}addUploadProgressListener(e){}removeUploadProgressListener(e){}},fx=class extends dx{getResponse(){if(!this.body_)throw Pp("cannot .getResponse() before receiving response");return Buffer.from(this.body_).toString("utf-8")}};function ro(){return a8?a8():new fx}var qp=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=GQ(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Nt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(E8(i.status,[]))if(s)i=h8();else{this.sleepTime=Math.max(this.sleepTime*2,sve),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Nt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=Xve(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ro,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=Zve(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ro,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=o8*this._chunkMultiplier,n=new id(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=$ve(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(A){this._error=A,this._transition("error");return}let a=this._ref.storage._makeRequest(o,ro,i,s,!1);this._request=a,a.getPromise().then(A=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(A.current),A.finalized?(this._metadata=A.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){o8*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=B8(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ro,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=Kve(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ro,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=d8(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Ax(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new hx(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ax(this._state)){case jn.SUCCESS:$h(this._resolve.bind(null,this.snapshot))();break;case jn.CANCELED:case jn.ERROR:let n=this._reject;$h(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ax(this._state)){case jn.RUNNING:case jn.PAUSED:e.next&&$h(e.next.bind(e,this.snapshot))();break;case jn.SUCCESS:e.complete&&$h(e.complete.bind(e))();break;case jn.CANCELED:case jn.ERROR:e.error&&$h(e.error.bind(e,this._error))();break;default:e.error&&$h(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var sd=class t{constructor(e,n){this._service=e,n instanceof hr?this._location=n:this._location=hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I8(this._location.path)}get storage(){return this._service}get parent(){let e=Fve(this._location.path);if(e===null)return null;let n=new hr(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw px(e)}};function eSe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new qp(t,new rd(e),n)}function tSe(t){let e={prefixes:[],items:[]};return _8(t,e).then(()=>e)}function _8(t,e,n){return E(this,null,function*(){let i=yield v8(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield _8(t,e,i.nextPageToken))})}function v8(t,e){e!=null&&typeof e.maxResults=="number"&&cx("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=Yve(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ro)}function nSe(t){t._throwIfRoot("getMetadata");let e=B8(t.storage,t._location,GQ());return t.storage.makeRequestWithTokens(e,ro)}function rSe(t,e){t._throwIfRoot("updateMetadata");let n=Jve(t.storage,t._location,e,GQ());return t.storage.makeRequestWithTokens(n,ro)}function iSe(t){t._throwIfRoot("getDownloadURL");let e=Wve(t.storage,t._location,GQ());return t.storage.makeRequestWithTokens(e,ro).then(n=>{if(n===null)throw gve();return n})}function sSe(t){t._throwIfRoot("deleteObject");let e=zve(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ro)}function S8(t,e){let n=xve(t._location.path,e),r=new hr(t._location.bucket,n);return new sd(t.storage,r)}function oSe(t){return/^[A-Za-z]+:\/\//.test(t)}function aSe(t,e){return new sd(t,e)}function b8(t,e){if(t instanceof Gp){let n=t;if(n._bucket==null)throw dve();let r=new sd(n,n._bucket);return e!=null?b8(r,e):r}else return e!==void 0?S8(t,e):t}function ASe(t,e){if(e&&oSe(e)){if(t instanceof Gp)return aSe(t,e);throw zl("To use ref(service, url), the first argument must be a Storage instance.")}else return b8(t,e)}function A8(t,e){let n=e?.[u8];return n==null?null:hr.makeFromBucketSpec(n,t)}function lSe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:mc(i,t.app.options.projectId))}var Gp=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=c8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rve,this._maxUploadRetryTime=ive,this._requests=new Set,i!=null?this._bucket=hr.makeFromBucketSpec(i,this._host):this._bucket=A8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hr.makeFromBucketSpec(this._url,e):this._bucket=A8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return E(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return E(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new lx(g8());{let o=_ve(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return E(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},cSe="@firebase/storage",uSe="0.12.1";var hSe="storage";function D8(t,e,n){return t=de(t),eSe(t,e,n)}function R8(t){return t=de(t),nSe(t)}function T8(t,e){return t=de(t),rSe(t,e)}function k8(t,e){return t=de(t),v8(t,e)}function N8(t){return t=de(t),tSe(t)}function F8(t){return t=de(t),iSe(t)}function x8(t){return t=de(t),sSe(t)}function Bx(t,e){return t=de(t),ASe(t,e)}function M8(t,e){return S8(t,e)}function L8(t,e,n,r={}){lSe(t,e,n,r)}function dSe(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Gp(n,r,i,e,Cc)}function fSe(){ho(new Sn(hSe,dSe,"PUBLIC").setMultipleInstances(!0)),Nr(cSe,uSe)}fSe();var ad=class{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var WQ=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ad(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new ad(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new ad(o,this,this._ref)):s={next:n.next?o=>n.next(new ad(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}},JQ=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new jl(e,this._service))}get items(){return this._delegate.items.map(e=>new jl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var jl=class t{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=M8(this._delegate,e);return new t(n,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new WQ(D8(this._delegate,e,n),this)}putString(e,n=Zr.RAW,r){this._throwIfRoot("putString");let i=mx(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new WQ(new qp(this._delegate,new rd(i.data,!0),s),this)}listAll(){return N8(this._delegate).then(e=>new JQ(e,this.storage))}list(e){return k8(this._delegate,e||void 0).then(n=>new JQ(n,this.storage))}getMetadata(){return R8(this._delegate)}updateMetadata(e){return T8(this._delegate,e)}getDownloadURL(){return F8(this._delegate)}delete(){return this._throwIfRoot("delete"),x8(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw px(e)}};var zQ=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(O8(e))throw zl("ref() expected a child path but got a URL, use refFromURL instead.");return new jl(Bx(this._delegate,e),this)}refFromURL(e){if(!O8(e))throw zl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hr.makeFromUrl(e,this._delegate.host)}catch{throw zl("refFromUrl() expected a valid full URL but got an invalid one.")}return new jl(Bx(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){L8(this._delegate,e,n,r)}};function O8(t){return/^[A-Za-z]+:\/\//.test(t)}var gSe="@firebase/storage-compat",pSe="0.3.4";var ESe="storage-compat";function mSe(t,{instanceIdentifier:e}){let n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new zQ(n,r)}function CSe(t){let e={TaskState:jn,TaskEvent:w8,StringFormat:Zr,Storage:zQ,Reference:jl};t.INTERNAL.registerComponent(new Sn(ESe,mSe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(gSe,pSe)}CSe(Dt);function ISe(t){return new hs(e=>{let n=o=>e.next(o),r=o=>e.error(o),i=()=>e.complete();n(t.snapshot);let s=t.on("state_changed",n);return t.then(o=>{n(o),i()},o=>{n(t.snapshot),r(o)}),function(){s()}}).pipe(e1(0))}function U8(t){let e=ISe(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Je(n=>n.bytesTransferred/n.totalBytes*100))}}function jQ(t){return{getDownloadURL:()=>Tr(void 0).pipe(_0,si(()=>t.getDownloadURL()),yt),getMetadata:()=>Tr(void 0).pipe(_0,si(()=>t.getMetadata()),yt),delete:()=>Xn(t.delete()),child:e=>jQ(t.child(e)),updateMetadata:e=>Xn(t.updateMetadata(e)),put:(e,n)=>{let r=t.put(e,n);return U8(r)},putString:(e,n,r)=>{let i=t.putString(e,n,r);return U8(i)},list:e=>Xn(t.list(e)),listAll:()=>Xn(t.listAll())}}var ySe=new Ke("angularfire2.storageBucket"),BSe=new Ke("angularfire2.storage.maxUploadRetryTime"),QSe=new Ke("angularfire2.storage.maxOperationRetryTime"),wSe=new Ke("angularfire2.storage.use-emulator"),_Se=(()=>{class t{storage;constructor(n,r,i,s,o,a,A,l,c,u){let h=fo(n,o,r);this.storage=sa(`${h.name}.storage.${i}`,"AngularFireStorage",h.name,()=>{let d=o.runOutsideAngular(()=>h.storage(i||void 0)),f=c;return f&&d.useEmulator(...f),A&&d.setMaxUploadRetryTime(A),l&&d.setMaxOperationRetryTime(l),d},[A,l])}ref(n){return jQ(this.storage.ref(n))}refFromURL(n){return jQ(this.storage.refFromURL(n))}upload(n,r,i){let s=this.storage.ref(n);return jQ(s).put(r,i)}static \u0275fac=function(r){return new(r||t)(Y(ps),Y(Es,8),Y(ySe,8),Y(fs),Y(Ai),Y(ra),Y(BSe,8),Y(QSe,8),Y(wSe,8),Y(Oi,8))};static \u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var vSe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=qt({type:t});static \u0275inj=Gt({})}return t})(),P8=(()=>{class t{constructor(){Dt.registerVersion("angularfire",Ui.full,"gcs-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=qt({type:t});static \u0275inj=Gt({providers:[_Se],imports:[vSe]})}return t})();var eX=Dd(y6(),1);var dw="5",tX="v",nX="s",rX="r",iX="f",sX=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oX="ls",aX="p",cM="ac",AX="websocket",lX="long_polling";var uM=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xt(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:HE(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var hM=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return li(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var cX=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uM(e)}}catch{}return new hM},sc=cX("localStorage"),dM=cX("sessionStorage");var gd=new na("@firebase/database"),uX=function(){let t=1;return function(){return t++}}(),hX=function(t){let e=B1(t),n=new y1;n.update(e);let r=n.digest();return VE.encodeByteArray(r)},wE=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=wE.apply(null,r):typeof r=="object"?e+=Xt(r):e+=r,e+=" "}return e},oc=null,B6=!0,dX=function(t,e){M(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(gd.logLevel=ci.VERBOSE,oc=gd.log.bind(gd),e&&dM.set("logging_enabled",!0)):typeof t=="function"?oc=t:(oc=null,dM.remove("logging_enabled"))},Qn=function(...t){if(B6===!0&&(B6=!1,oc===null&&dM.get("logging_enabled")===!0&&dX(!0)),oc){let e=wE.apply(null,t);oc(e)}},_E=function(t){return function(...e){Qn(t,...e)}},fM=function(...t){let e="FIREBASE INTERNAL ERROR: "+wE(...t);gd.error(e)},lo=function(...t){let e=`FIREBASE FATAL ERROR: ${wE(...t)}`;throw gd.error(e),new Error(e)},Kn=function(...t){let e="FIREBASE WARNING: "+wE(...t);gd.warn(e)},Nbe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ow=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Fbe=function(t){if(gs()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},_A="[MIN_NAME]",zo="[MAX_NAME]",Ac=function(t,e){if(t===e)return 0;if(t===_A||e===zo)return-1;if(e===_A||t===zo)return 1;{let n=Q6(t),r=Q6(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},xbe=function(t,e){return t===e?0:t<e?-1:1},eE=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xt(e))},fL=function(t){if(typeof t!="object"||t===null)return Xt(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Xt(e[r]),n+=":",n+=fL(t[e[r]]);return n+="}",n},fX=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function wn(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var gX=function(t){M(!Ow(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,A;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(A=n;A;A-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(A=e;A;A-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let c=l.join(""),u="";for(A=0;A<64;A+=8){let h=parseInt(c.substr(A,8),2).toString(16);h.length===1&&(h="0"+h),u=u+h}return u.toLowerCase()},Mbe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Lbe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Obe(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var Ube=new RegExp("^-?(0*)\\d{1,10}$"),Pbe=-2147483648,Vbe=2147483647,Q6=function(t){if(Ube.test(t)){let e=Number(t);if(e>=Pbe&&e<=Vbe)return e}return null},wd=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Kn("Exception was thrown by user callback.",n),e},Math.floor(0))}},qbe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},iE=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var fw=class{constructor(e,n,r,i,s=!1,o="",a=!1,A=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=A,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Gbe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function pX(t,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let r;if(e===AX)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===lX)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Gbe(t)&&(n.ns=t.namespace);let i=[];return wn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var gM=class{constructor(){this.counters_={}}incrementCounter(e,n=1){li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return g1(this.counters_)}};var rM={},iM={};function gL(t){let e=t.toString();return rM[e]||(rM[e]=new gM),rM[e]}function Hbe(t,e){let n=t.toString();return iM[n]||(iM[n]=e()),iM[n]}var pL="";function EL(t){pL=t}var Ybe=16384,Wbe=45e3,lE=null;typeof MozWebSocket<"u"?lE=MozWebSocket:typeof WebSocket<"u"&&(lE=WebSocket);function Jbe(t){lE=t}var dd=(()=>{class t{constructor(n,r,i,s,o,a,A){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_E(this.connId),this.stats_=gL(r),this.connURL=t.connectionURL_(r,a,A,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[tX]=dw,!gs()&&typeof location<"u"&&location.hostname&&sX.test(location.hostname)&&(a[rX]=iX),r&&(a[nX]=r),i&&(a[oX]=i),s&&(a[cM]=s),o&&(a[aX]=o),pX(n,AX,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sc.set("previous_websocket_failure",!0);try{let i;if(gs()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${dw}/${pL}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new lE(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&lE!==null&&!t.forceDisallow_}static previouslyFailed(){return sc.isInMemoryStorage||sc.get("previous_websocket_failure")===!0}markConnectionHealthy(){sc.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=HE(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(M(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Xt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=fX(r,Ybe);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Wbe))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),w6="@firebase/database",_6="1.0.3";var pM=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Kn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var EM=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kn(e)}},sE=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),mM=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&wd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var v6="start",zbe="close",jbe="pLPCommand",Kbe="pRTLPCB",EX="id",mX="pw",CX="ser",Xbe="cb",Zbe="seg",$be="ts",eDe="d",tDe="dframe",IX=1870,yX=30,nDe=IX-yX,rDe=25e3,iDe=3e4,cE=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_E(e),this.stats_=gL(n),this.urlFn=A=>(this.appCheckToken&&(A[cM]=this.appCheckToken),pX(n,lX,A))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iDe)),Fbe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new CM((...s)=>{let[o,a,A,l,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===v6)this.id=a,this.password=A;else if(o===zbe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[v6]="t",r[CX]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Xbe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[tX]=dw,this.transportSessionId&&(r[nX]=this.transportSessionId),this.lastSessionId&&(r[oX]=this.lastSessionId),this.applicationId&&(r[aX]=this.applicationId),this.appCheckToken&&(r[cM]=this.appCheckToken),typeof location<"u"&&location.hostname&&sX.test(location.hostname)&&(r[rX]=iX);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return gs()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Mbe()&&!Lbe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Xt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=f1(n),i=fX(r,nDe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(gs())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[tDe]="t",r[EX]=e,r[mX]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Xt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},CM=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,gs())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=uX(),window[jbe+this.uniqueCallbackIdentifier]=e,window[Kbe+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";</script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Qn("frame writing exception"),a.stack&&Qn(a.stack),Qn(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qn("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[EX]=this.myID,e[mX]=this.myPW,e[CX]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yX+r.length<=IX;){let o=this.pendingSegs.shift();r=r+"&"+Zbe+i+"="+o.seg+"&"+$be+i+"="+o.ts+"&"+eDe+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(rDe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){gs()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var BX=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[cE,dd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=dd&&dd.isAvailable(),i=r&&!dd.previouslyFailed();if(n.webSocketOnly&&(r||Kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[dd];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),sDe=6e4,oDe=5e3,aDe=10*1024,ADe=100*1024,sM="t",S6="d",lDe="s",b6="r",cDe="e",D6="o",R6="a",T6="n",k6="p",uDe="h",IM=class{constructor(e,n,r,i,s,o,a,A,l,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=A,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_E("c:"+this.id+":"),this.transportManager_=new BX(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=iE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ADe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>aDe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(sM in e){let n=e[sM];n===R6?this.upgradeIfSecondaryHealthy_():n===b6?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===D6&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=eE("t",e),r=eE("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:k6,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:R6,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:T6,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=eE("t",e),r=eE("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=eE(sM,e);if(S6 in e){let r=e[S6];if(n===uDe){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===T6){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lDe?this.onConnectionShutdown_(r):n===b6?this.onReset_(r):n===cDe?fM("Server Error: "+r):n===D6?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fM("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),dw!==r&&Kn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),iE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sDe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):iE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(oDe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:k6,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var gw=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var pw=class{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ew=class t extends pw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!E0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var N6=32,F6=768,Ye=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function He(){return new Ye("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function vA(t){return t.pieces_.length-t.pieceNum_}function At(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function mL(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function hDe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function uE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function QX(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function bt(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ye(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function gr(t,e){let n=ve(t),r=ve(e);if(n===null)return e;if(n===r)return gr(At(t),At(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function dDe(t,e){let n=uE(t,0),r=uE(e,0);for(let i=0;i<n.length&&i<r.length;i++){let s=Ac(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function CL(t,e){if(vA(t)!==vA(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Fi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(vA(t)>vA(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var yM=class{constructor(e,n){this.errorPrefix_=n,this.parts_=uE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ud(this.parts_[r]);wX(this)}};function fDe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ud(e),wX(t)}function gDe(t){let e=t.parts_.pop();t.byteLength_-=Ud(e),t.parts_.length>0&&(t.byteLength_-=1)}function wX(t){if(t.byteLength_>F6)throw new Error(t.errorPrefix_+"has a key path longer than "+F6+" bytes ("+t.byteLength_+").");if(t.parts_.length>N6)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+N6+") or object contains a cycle "+ic(t))}function ic(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var BM=class t extends pw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}};var tE=1e3,pDe=60*5*1e3,x6=30*1e3,EDe=1.3,mDe=3e4,CDe="server_kill",M6=3,IL=(()=>{class t extends gw{constructor(n,r,i,s,o,a,A,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=A,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=_E("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tE,this.maxReconnectDelay_=pDe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!gs())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");BM.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ew.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Xt(o)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new hn,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let A=a.d;a.s==="ok"?r.resolve(A):r.reject(A)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let A={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,A),this.connected_&&this.sendListen_(A)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,A=>{let l=A.d,c=A.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",A),c!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(c,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&li(n,"w")){let i=ta(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Kn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||C1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=x6)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=m1(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let A=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(A):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Xt(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):fM("Unrecognized action received from server: "+Xt(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tE,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=tE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mDe&&(this.reconnectDelay_=tE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*EDe)}this.onConnectStatus_(!1)}establishConnection_(){return E(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,A=null,l=function(){A?A.close():(a=!0,i())},c=function(h){M(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(h)};this.realtime_={close:l,sendRequest:c};let u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,d]=yield Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?Qn("getToken() completed but was canceled"):(Qn("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,A=new IM(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,f=>{Kn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(CDe)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Kn(h),l())}}})}interrupt(n){Qn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],YE(this.interruptReasons_)&&(this.reconnectDelay_=tE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>fL(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Ye(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Qn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=M6&&(this.reconnectDelay_=x6,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Qn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=M6&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";gs()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+pL.replace(/\./g,"-")]=1,E0()?n["framework.cordova"]=1:p1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ew.getInstance().currentlyOnline();return YE(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),De=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var pd=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new De(_A,e),i=new De(_A,n);return this.compare(r,i)!==0}minPost(){return De.MIN}};var hw,mw=class extends pd{static get __EMPTY_NODE(){return hw}static set __EMPTY_NODE(e){hw=e}compare(e,n){return Ac(e.name,n.name)}isDefinedOn(e){throw Ec("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return De.MIN}maxPost(){return new De(zo,hw)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,hw)}toString(){return".key"}},Ao=new mw;var fd=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ls=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??xi.EMPTY_NODE,this.right=o??xi.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return xi.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return xi.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),QM=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new ls(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},xi=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ls.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ls.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fd(this.root_,null,this.comparator_,!0,e)}};xi.EMPTY_NODE=new QM;function IDe(t,e){return Ac(t.name,e.name)}function yL(t,e){return Ac(t,e)}var wM;function yDe(t){wM=t}var _X=function(t){return typeof t=="number"?"number:"+gX(t):"string:"+t},vX=function(t){if(t.isLeafNode()){let e=t.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&li(e,".sv"),"Priority must be a string or number.")}else M(t===wM||t.isEmpty(),"priority of unexpected type.");M(t===wM||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var L6,Ed=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vX(this.priorityNode_)}static set __childrenNodeConstructor(n){L6=n}static get __childrenNodeConstructor(){return L6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Se(n)?this:ve(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=ve(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(M(i!==".priority"||vA(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(At(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+_X(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=gX(this.value_):n+=this.value_,this.lazyHash_=hX(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(M(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return M(s>=0,"Unknown leaf type: "+r),M(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),SX,bX;function BDe(t){SX=t}function QDe(t){bX=t}var _M=class extends pd{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ac(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return De.MIN}maxPost(){return new De(zo,new Ed("[PRIORITY-POST]",bX))}makePost(e,n){let r=SX(e);return new De(n,new Ed("[PRIORITY-POST]",r))}toString(){return".priority"}},ft=new _M;var wDe=Math.log(2),vM=class{constructor(e){let n=s=>parseInt(Math.log(s)/wDe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Cw=function(t,e,n,r){t.sort(e);let i=function(A,l){let c=l-A,u,h;if(c===0)return null;if(c===1)return u=t[A],h=n?n(u):u,new ls(h,u.node,ls.BLACK,null,null);{let d=parseInt(c/2,10)+A,f=i(A,d),g=i(d+1,l);return u=t[d],h=n?n(u):u,new ls(h,u.node,ls.BLACK,f,g)}},s=function(A){let l=null,c=null,u=t.length,h=function(f,g){let m=u-f,y=u;u-=f;let I=i(m+1,y),_=t[m],w=n?n(_):_;d(new ls(w,_.node,g,null,I))},d=function(f){l?(l.left=f,l=f):(c=f,l=f)};for(let f=0;f<A.count;++f){let g=A.nextBitIsOne(),m=Math.pow(2,A.count-(f+1));g?h(m,ls.BLACK):(h(m,ls.BLACK),h(m,ls.RED))}return c},o=new vM(t.length),a=s(o);return new xi(r||e,a)};var oM,hd={},md=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return M(hd&&ft,"ChildrenNode.ts has not been loaded"),oM=oM||new t({".priority":hd},{".priority":ft}),oM}get(e){let n=ta(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xi?n:null}hasIndex(e){return li(this.indexSet_,e.toString())}addIndex(e,n){M(e!==Ao,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(De.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Cw(r,e.getCompare()):a=hd;let A=e.toString(),l=Object.assign({},this.indexSet_);l[A]=e;let c=Object.assign({},this.indexes_);return c[A]=a,new t(c,l)}addToIndexes(e,n){let r=Od(this.indexes_,(i,s)=>{let o=ta(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),i===hd)if(o.isDefinedOn(e.node)){let a=[],A=n.getIterator(De.Wrap),l=A.getNext();for(;l;)l.name!==e.name&&a.push(l),l=A.getNext();return a.push(e),Cw(a,o.getCompare())}else return hd;else{let a=n.get(e.name),A=i;return a&&(A=A.remove(new De(e.name,a))),A.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Od(this.indexes_,i=>{if(i===hd)return i;{let s=n.get(e.name);return s?i.remove(new De(e.name,s)):i}});return new t(r,this.indexSet_)}};var nE,Ce=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&vX(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nE||(nE=new t(new xi(yL),null,md.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nE}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?nE:r}}getChild(n){let r=ve(n);return r===null?this:this.getImmediateChild(r).getChild(At(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(M(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new De(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?nE:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=ve(n);if(i===null)return r;{M(ve(n)!==".priority"||vA(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(At(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(ft,(a,A)=>{r[a]=A.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let A in r)a[A]=r[A];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+_X(this.getPriority().val())+":"),this.forEachChild(ft,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":hX(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new De(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new De(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new De(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,De.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,De.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===vE?-1:0}withIndex(n){if(n===Ao||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ao||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ft),s=r.getIterator(ft),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ao?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),SM=class extends Ce{constructor(){super(new xi(yL),Ce.EMPTY_NODE,md.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ce.EMPTY_NODE}isEmpty(){return!1}},vE=new SM;Object.defineProperties(De,{MIN:{value:new De(_A,Ce.EMPTY_NODE)},MAX:{value:new De(zo,vE)}});mw.__EMPTY_NODE=Ce.EMPTY_NODE;Ed.__childrenNodeConstructor=Ce;yDe(vE);QDe(vE);var _De=!0;function Ft(t,e=null){if(t===null)return Ce.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Ed(n,Ft(e))}if(!(t instanceof Array)&&_De){let n=[],r=!1;if(wn(t,(o,a)=>{if(o.substring(0,1)!=="."){let A=Ft(a);A.isEmpty()||(r=r||!A.getPriority().isEmpty(),n.push(new De(o,A)))}}),n.length===0)return Ce.EMPTY_NODE;let s=Cw(n,IDe,o=>o.name,yL);if(r){let o=Cw(n,ft.getCompare());return new Ce(s,Ft(e),new md({".priority":o},{".priority":ft}))}else return new Ce(s,Ft(e),md.Default)}else{let n=Ce.EMPTY_NODE;return wn(t,(r,i)=>{if(li(t,r)&&r.substring(0,1)!=="."){let s=Ft(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ft(e))}}BDe(Ft);var hE=class extends pd{constructor(e){super(),this.indexPath_=e,M(!Se(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ac(e.name,n.name):s}makePost(e,n){let r=Ft(e),i=Ce.EMPTY_NODE.updateChild(this.indexPath_,r);return new De(n,i)}maxPost(){let e=Ce.EMPTY_NODE.updateChild(this.indexPath_,vE);return new De(zo,e)}toString(){return uE(this.indexPath_,0).join("/")}};var bM=class extends pd{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ac(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,n){let r=Ft(e);return new De(n,r)}toString(){return".value"}},BL=new bM;function DX(t){return{type:"value",snapshotNode:t}}function Cd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function dE(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function fE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function vDe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var gE=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(dE(n,a)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Cd(n,r)):o.trackChildChange(fE(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ft,(i,s)=>{n.hasChild(i)||r.trackChildChange(dE(i,s))}),n.isLeafNode()||n.forEachChild(ft,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(fE(i,s,o))}else r.trackChildChange(Cd(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ce.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Iw=class t{constructor(e){this.indexedFilter_=new gE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new De(n,r))||(r=Ce.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ce.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ce.EMPTY_NODE);let s=this;return n.forEachChild(ft,(o,a)=>{s.matches(new De(o,a))||(i=i.updateImmediateChild(o,Ce.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var DM=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Iw(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new De(n,r))||(r=Ce.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ce.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ce.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ce.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let u=this.index_.getCompare();o=(h,d)=>u(d,h)}else o=this.index_.getCompare();let a=e;M(a.numChildren()===this.limit_,"");let A=new De(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(A);if(a.hasChild(n)){let u=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let d=h==null?1:o(h,A);if(c&&!r.isEmpty()&&d>=0)return s?.trackChildChange(fE(n,r,u)),a.updateImmediateChild(n,r);{s?.trackChildChange(dE(n,u));let g=a.updateImmediateChild(n,Ce.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(Cd(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:c&&o(l,A)>=0?(s!=null&&(s.trackChildChange(dE(l.name,l.node)),s.trackChildChange(Cd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,Ce.EMPTY_NODE)):e}};var pE=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_A}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function SDe(t){return t.loadsAllData()?new gE(t.getIndex()):t.hasLimit()?new DM(t):new Iw(t)}function bDe(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function DDe(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function RM(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function RDe(t,e,n){let r;return t.index_===Ao||n?r=RM(t,e,n):r=RM(t,e,zo),r.startAfterSet_=!0,r}function TM(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function TDe(t,e,n){let r;return t.index_===Ao||n?r=TM(t,e,n):r=TM(t,e,_A),r.endBeforeSet_=!0,r}function Uw(t,e){let n=t.copy();return n.index_=e,n}function O6(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ft?n="$priority":t.index_===BL?n="$value":t.index_===Ao?n="$key":(M(t.index_ instanceof hE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xt(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Xt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Xt(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Xt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Xt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function U6(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ft&&(e.i=t.index_.toString()),e}var kM=class t extends gw{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=_E("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let A=O6(e._queryParams);this.restRequest_(s+".json",A,(l,c)=>{let u=c;if(l===404&&(u=null,l=null),l===null&&this.onDataUpdate_(s,u,!1,r),ta(this.listens_,o)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=O6(e._queryParams),r=e._path.toString(),i=new hn;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+I1(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let A=null;if(a.status>=200&&a.status<300){try{A=HE(a.responseText)}catch{Kn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,A)}else a.status!==401&&a.status!==404&&Kn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var NM=class{constructor(){this.rootNode_=Ce.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function yw(){return{value:null,children:new Map}}function _d(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=ve(e);t.children.has(r)||t.children.set(r,yw());let i=t.children.get(r);e=At(e),_d(i,e,n)}}function FM(t,e){if(Se(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(ft,(r,i)=>{_d(t,new Ye(r),i)}),FM(t,e)}}else if(t.children.size>0){let n=ve(e);return e=At(e),t.children.has(n)&&FM(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function xM(t,e,n){t.value!==null?n(e,t.value):kDe(t,(r,i)=>{let s=new Ye(e.toString()+"/"+r);xM(i,s,n)})}function kDe(t,e){t.children.forEach((n,r)=>{e(r,n)})}var MM=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&wn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var P6=10*1e3,NDe=30*1e3,FDe=5*60*1e3,LM=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new MM(e);let r=P6+(NDe-P6)*Math.random();iE(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;wn(e,(i,s)=>{s>0&&li(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),iE(this.reportStats_.bind(this),Math.floor(Math.random()*2*FDe))}};var ao=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(ao||{});function QL(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wL(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _L(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var OM=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ao.ACK_USER_WRITE,this.source=QL()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Ye(e));return new t(He(),n,this.revert)}}else return M(ve(this.path)===e,"operationForChild called for unrelated child."),new t(At(this.path),this.affectedTree,this.revert)}};var Bw=class t{constructor(e,n){this.source=e,this.path=n,this.type=ao.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new t(this.source,He()):new t(this.source,At(this.path))}};var Id=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ao.OVERWRITE}operationForChild(e){return Se(this.path)?new t(this.source,He(),this.snap.getImmediateChild(e)):new t(this.source,At(this.path),this.snap)}};var EE=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ao.MERGE}operationForChild(e){if(Se(this.path)){let n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new Id(this.source,He(),n.value):new t(this.source,He(),n)}else return M(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,At(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var co=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;let n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var UM=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function xDe(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(vDe(o.childName,o.snapshotNode))}),rE(t,i,"child_removed",e,r,n),rE(t,i,"child_added",e,r,n),rE(t,i,"child_moved",s,r,n),rE(t,i,"child_changed",e,r,n),rE(t,i,"value",e,r,n),i}function rE(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,A)=>LDe(t,a,A)),o.forEach(a=>{let A=MDe(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(A,t.query_))})})}function MDe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function LDe(t,e,n){if(e.childName==null||n.childName==null)throw Ec("Should only compare child_ events.");let r=new De(e.childName,e.snapshotNode),i=new De(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Pw(t,e){return{eventCache:t,serverCache:e}}function oE(t,e,n,r){return Pw(new co(e,n,r),t.serverCache)}function RX(t,e,n,r){return Pw(t.eventCache,new co(e,n,r))}function Qw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ac(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var aM,ODe=()=>(aM||(aM=new xi(xbe)),aM),pr=class t{constructor(e,n=ODe()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return wn(e,(r,i)=>{n=n.set(new Ye(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:He(),value:this.value};if(Se(e))return null;{let r=ve(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(At(e),n);return s!=null?{path:bt(new Ye(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{let n=ve(e),r=this.children.get(n);return r!==null?r.subtree(At(e)):new t(null)}}set(e,n){if(Se(e))return new t(n,this.children);{let r=ve(e),s=(this.children.get(r)||new t(null)).set(At(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Se(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=ve(e),r=this.children.get(n);if(r){let i=r.remove(At(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Se(e))return this.value;{let n=ve(e),r=this.children.get(n);return r?r.get(At(e)):null}}setTree(e,n){if(Se(e))return n;{let r=ve(e),s=(this.children.get(r)||new t(null)).setTree(At(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(He(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(bt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,He(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Se(e))return null;{let s=ve(e),o=this.children.get(s);return o?o.findOnPath_(At(e),bt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,He(),n)}foreachOnPath_(e,n,r){if(Se(e))return this;{this.value&&r(n,this.value);let i=ve(e),s=this.children.get(i);return s?s.foreachOnPath_(At(e),bt(n,i),r):new t(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(bt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var cs=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new pr(null))}};function aE(t,e,n){if(Se(e))return new cs(new pr(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=gr(i,e);return s=s.updateChild(o,n),new cs(t.writeTree_.set(i,s))}else{let i=new pr(n),s=t.writeTree_.setTree(e,i);return new cs(s)}}}function PM(t,e,n){let r=t;return wn(n,(i,s)=>{r=aE(r,bt(e,i),s)}),r}function V6(t,e){if(Se(e))return cs.empty();{let n=t.writeTree_.setTree(e,new pr(null));return new cs(n)}}function VM(t,e){return lc(t,e)!=null}function lc(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(gr(n.path,e)):null}function q6(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ft,(r,i)=>{e.push(new De(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new De(r,i.value))}),e}function QA(t,e){if(Se(e))return t;{let n=lc(t,e);return n!=null?new cs(new pr(n)):new cs(t.writeTree_.subtree(e))}}function qM(t){return t.writeTree_.isEmpty()}function yd(t,e){return TX(He(),t.writeTree_,e)}function TX(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(M(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=TX(bt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(bt(t,".priority"),r)),n}}function Vw(t,e){return xX(e,t)}function UDe(t,e,n,r,i){M(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=aE(t.visibleWrites,e,n)),t.lastWriteId=r}function PDe(t,e,n,r){M(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=PM(t.visibleWrites,e,n),t.lastWriteId=r}function VDe(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function qDe(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&GDe(a,r.path)?i=!1:Fi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return HDe(t),!0;if(r.snap)t.visibleWrites=V6(t.visibleWrites,r.path);else{let a=r.children;wn(a,A=>{t.visibleWrites=V6(t.visibleWrites,bt(r.path,A))})}return!0}else return!1}function GDe(t,e){if(t.snap)return Fi(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Fi(bt(t.path,n),e))return!0;return!1}function HDe(t){t.visibleWrites=kX(t.allWrites,YDe,He()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function YDe(t){return t.visible}function kX(t,e,n){let r=cs.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Fi(n,o)?(a=gr(n,o),r=aE(r,a,s.snap)):Fi(o,n)&&(a=gr(o,n),r=aE(r,He(),s.snap.getChild(a)));else if(s.children){if(Fi(n,o))a=gr(n,o),r=PM(r,a,s.children);else if(Fi(o,n))if(a=gr(o,n),Se(a))r=PM(r,He(),s.children);else{let A=ta(s.children,ve(a));if(A){let l=A.getChild(At(a));r=aE(r,He(),l)}}}else throw Ec("WriteRecord should have .snap or .children")}}return r}function NX(t,e,n,r,i){if(!r&&!i){let s=lc(t.visibleWrites,e);if(s!=null)return s;{let o=QA(t.visibleWrites,e);if(qM(o))return n;if(n==null&&!VM(o,He()))return null;{let a=n||Ce.EMPTY_NODE;return yd(o,a)}}}else{let s=QA(t.visibleWrites,e);if(!i&&qM(s))return n;if(!i&&n==null&&!VM(s,He()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Fi(l.path,e)||Fi(e,l.path))},a=kX(t.allWrites,o,e),A=n||Ce.EMPTY_NODE;return yd(a,A)}}}function WDe(t,e,n){let r=Ce.EMPTY_NODE,i=lc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ft,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=QA(t.visibleWrites,e);return n.forEachChild(ft,(o,a)=>{let A=yd(QA(s,new Ye(o)),a);r=r.updateImmediateChild(o,A)}),q6(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=QA(t.visibleWrites,e);return q6(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function JDe(t,e,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=bt(e,n);if(VM(t.visibleWrites,s))return null;{let o=QA(t.visibleWrites,s);return qM(o)?i.getChild(n):yd(o,i.getChild(n))}}function zDe(t,e,n,r){let i=bt(e,n),s=lc(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=QA(t.visibleWrites,i);return yd(o,r.getNode().getImmediateChild(n))}else return null}function jDe(t,e){return lc(t.visibleWrites,e)}function KDe(t,e,n,r,i,s,o){let a,A=QA(t.visibleWrites,e),l=lc(A,He());if(l!=null)a=l;else if(n!=null)a=yd(A,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let c=[],u=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),d=h.getNext();for(;d&&c.length<i;)u(d,r)!==0&&c.push(d),d=h.getNext();return c}else return[]}function XDe(){return{visibleWrites:cs.empty(),allWrites:[],lastWriteId:-1}}function ww(t,e,n,r){return NX(t.writeTree,t.treePath,e,n,r)}function vL(t,e){return WDe(t.writeTree,t.treePath,e)}function G6(t,e,n,r){return JDe(t.writeTree,t.treePath,e,n,r)}function _w(t,e){return jDe(t.writeTree,bt(t.treePath,e))}function ZDe(t,e,n,r,i,s){return KDe(t.writeTree,t.treePath,e,n,r,i,s)}function SL(t,e,n){return zDe(t.writeTree,t.treePath,e,n)}function FX(t,e){return xX(bt(t.treePath,e),t.writeTree)}function xX(t,e){return{treePath:t,writeTree:e}}var GM=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,fE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,dE(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Cd(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,fE(r,e.snapshotNode,i.oldSnap));else throw Ec("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var HM=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},MX=new HM,mE=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new co(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return SL(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ac(this.viewCache_),s=ZDe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function $De(t){return{filter:t}}function eRe(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function tRe(t,e,n,r,i){let s=new GM,o,a;if(n.type===ao.OVERWRITE){let l=n;l.source.fromUser?o=YM(t,e,l.path,l.snap,r,i,s):(M(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Se(l.path),o=vw(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===ao.MERGE){let l=n;l.source.fromUser?o=rRe(t,e,l.path,l.children,r,i,s):(M(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=WM(t,e,l.path,l.children,r,i,a,s))}else if(n.type===ao.ACK_USER_WRITE){let l=n;l.revert?o=oRe(t,e,l.path,r,i,s):o=iRe(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===ao.LISTEN_COMPLETE)o=sRe(t,e,n.path,r,s);else throw Ec("Unknown operation type: "+n.type);let A=s.getChanges();return nRe(e,o,A),{viewCache:o,changes:A}}function nRe(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Qw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(DX(Qw(e)))}}function LX(t,e,n,r,i,s){let o=e.eventCache;if(_w(r,n)!=null)return e;{let a,A;if(Se(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=ac(e),c=l instanceof Ce?l:Ce.EMPTY_NODE,u=vL(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let l=ww(r,ac(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=ve(n);if(l===".priority"){M(vA(n)===1,"Can't have a priority with additional path components");let c=o.getNode();A=e.serverCache.getNode();let u=G6(r,n,c,A);u!=null?a=t.filter.updatePriority(c,u):a=o.getNode()}else{let c=At(n),u;if(o.isCompleteForChild(l)){A=e.serverCache.getNode();let h=G6(r,n,o.getNode(),A);h!=null?u=o.getNode().getImmediateChild(l).updateChild(c,h):u=o.getNode().getImmediateChild(l)}else u=SL(r,l,e.serverCache);u!=null?a=t.filter.updateChild(o.getNode(),l,u,c,i,s):a=o.getNode()}}return oE(e,a,o.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function vw(t,e,n,r,i,s,o,a){let A=e.serverCache,l,c=o?t.filter:t.filter.getIndexedFilter();if(Se(n))l=c.updateFullNode(A.getNode(),r,null);else if(c.filtersNodes()&&!A.isFiltered()){let d=A.getNode().updateChild(n,r);l=c.updateFullNode(A.getNode(),d,null)}else{let d=ve(n);if(!A.isCompleteForPath(n)&&vA(n)>1)return e;let f=At(n),m=A.getNode().getImmediateChild(d).updateChild(f,r);d===".priority"?l=c.updatePriority(A.getNode(),m):l=c.updateChild(A.getNode(),d,m,f,MX,null)}let u=RX(e,l,A.isFullyInitialized()||Se(n),c.filtersNodes()),h=new mE(i,u,s);return LX(t,u,n,i,h,a)}function YM(t,e,n,r,i,s,o){let a=e.eventCache,A,l,c=new mE(i,e,s);if(Se(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),A=oE(e,l,!0,t.filter.filtersNodes());else{let u=ve(n);if(u===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),A=oE(e,l,a.isFullyInitialized(),a.isFiltered());else{let h=At(n),d=a.getNode().getImmediateChild(u),f;if(Se(h))f=r;else{let g=c.getCompleteChild(u);g!=null?mL(h)===".priority"&&g.getChild(QX(h)).isEmpty()?f=g:f=g.updateChild(h,r):f=Ce.EMPTY_NODE}if(d.equals(f))A=e;else{let g=t.filter.updateChild(a.getNode(),u,f,h,c,o);A=oE(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return A}function H6(t,e){return t.eventCache.isCompleteForChild(e)}function rRe(t,e,n,r,i,s,o){let a=e;return r.foreach((A,l)=>{let c=bt(n,A);H6(e,ve(c))&&(a=YM(t,a,c,l,i,s,o))}),r.foreach((A,l)=>{let c=bt(n,A);H6(e,ve(c))||(a=YM(t,a,c,l,i,s,o))}),a}function Y6(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function WM(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let A=e,l;Se(n)?l=r:l=new pr(null).setTree(n,r);let c=e.serverCache.getNode();return l.children.inorderTraversal((u,h)=>{if(c.hasChild(u)){let d=e.serverCache.getNode().getImmediateChild(u),f=Y6(t,d,h);A=vw(t,A,new Ye(u),f,i,s,o,a)}}),l.children.inorderTraversal((u,h)=>{let d=!e.serverCache.isCompleteForChild(u)&&h.value===null;if(!c.hasChild(u)&&!d){let f=e.serverCache.getNode().getImmediateChild(u),g=Y6(t,f,h);A=vw(t,A,new Ye(u),g,i,s,o,a)}}),A}function iRe(t,e,n,r,i,s,o){if(_w(i,n)!=null)return e;let a=e.serverCache.isFiltered(),A=e.serverCache;if(r.value!=null){if(Se(n)&&A.isFullyInitialized()||A.isCompleteForPath(n))return vw(t,e,n,A.getNode().getChild(n),i,s,a,o);if(Se(n)){let l=new pr(null);return A.getNode().forEachChild(Ao,(c,u)=>{l=l.set(new Ye(c),u)}),WM(t,e,n,l,i,s,a,o)}else return e}else{let l=new pr(null);return r.foreach((c,u)=>{let h=bt(n,c);A.isCompleteForPath(h)&&(l=l.set(c,A.getNode().getChild(h)))}),WM(t,e,n,l,i,s,a,o)}}function sRe(t,e,n,r,i){let s=e.serverCache,o=RX(e,s.getNode(),s.isFullyInitialized()||Se(n),s.isFiltered());return LX(t,o,n,r,MX,i)}function oRe(t,e,n,r,i,s){let o;if(_w(r,n)!=null)return e;{let a=new mE(r,e,i),A=e.eventCache.getNode(),l;if(Se(n)||ve(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=ww(r,ac(e));else{let u=e.serverCache.getNode();M(u instanceof Ce,"serverChildren would be complete if leaf node"),c=vL(r,u)}c=c,l=t.filter.updateFullNode(A,c,s)}else{let c=ve(n),u=SL(r,c,e.serverCache);u==null&&e.serverCache.isCompleteForChild(c)&&(u=A.getImmediateChild(c)),u!=null?l=t.filter.updateChild(A,c,u,At(n),a,s):e.eventCache.getNode().hasChild(c)?l=t.filter.updateChild(A,c,Ce.EMPTY_NODE,At(n),a,s):l=A,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ww(r,ac(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||_w(r,He())!=null,oE(e,l,o,t.filter.filtersNodes())}}var JM=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new gE(r.getIndex()),s=SDe(r);this.processor_=$De(s);let o=n.serverCache,a=n.eventCache,A=i.updateFullNode(Ce.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(Ce.EMPTY_NODE,a.getNode(),null),c=new co(A,o.isFullyInitialized(),i.filtersNodes()),u=new co(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Pw(u,c),this.eventGenerator_=new UM(this.query_)}get query(){return this.query_}};function aRe(t){return t.viewCache_.serverCache.getNode()}function ARe(t){return Qw(t.viewCache_)}function lRe(t,e){let n=ac(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function W6(t){return t.eventRegistrations_.length===0}function cRe(t,e){t.eventRegistrations_.push(e)}function J6(t,e,n){let r=[];if(n){M(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function z6(t,e,n,r){e.type===ao.MERGE&&e.source.queryId!==null&&(M(ac(t.viewCache_),"We should always have a full cache before handling merges"),M(Qw(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=tRe(t.processor_,i,e,n,r);return eRe(t.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,OX(t,s.changes,s.viewCache.eventCache.getNode(),null)}function uRe(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ft,(s,o)=>{r.push(Cd(s,o))}),n.isFullyInitialized()&&r.push(DX(n.getNode())),OX(t,r,n.getNode(),e)}function OX(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return xDe(t.eventGenerator_,e,n,i)}var Sw,bw=class{constructor(){this.views=new Map}};function hRe(t){M(!Sw,"__referenceConstructor has already been defined"),Sw=t}function dRe(){return M(Sw,"Reference.ts has not been loaded"),Sw}function fRe(t){return t.views.size===0}function bL(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return M(s!=null,"SyncTree gave us an op for an invalid query."),z6(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(z6(o,e,n,r));return s}}function UX(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=ww(n,i?r:null),A=!1;a?A=!0:r instanceof Ce?(a=vL(n,r),A=!1):(a=Ce.EMPTY_NODE,A=!1);let l=Pw(new co(a,A,!1),new co(r,i,!1));return new JM(e,l)}return o}function gRe(t,e,n,r,i,s){let o=UX(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),cRe(o,n),uRe(o,n)}function pRe(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=SA(t);if(i==="default")for(let[A,l]of t.views.entries())o=o.concat(J6(l,n,r)),W6(l)&&(t.views.delete(A),l.query._queryParams.loadsAllData()||s.push(l.query));else{let A=t.views.get(i);A&&(o=o.concat(J6(A,n,r)),W6(A)&&(t.views.delete(i),A.query._queryParams.loadsAllData()||s.push(A.query)))}return a&&!SA(t)&&s.push(new(dRe())(e._repo,e._path)),{removed:s,events:o}}function PX(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wA(t,e){let n=null;for(let r of t.views.values())n=n||lRe(r,e);return n}function VX(t,e){if(e._queryParams.loadsAllData())return qw(t);{let r=e._queryIdentifier;return t.views.get(r)}}function qX(t,e){return VX(t,e)!=null}function SA(t){return qw(t)!=null}function qw(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Dw;function ERe(t){M(!Dw,"__referenceConstructor has already been defined"),Dw=t}function mRe(){return M(Dw,"Reference.ts has not been loaded"),Dw}var CRe=1,Rw=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pr(null),this.pendingWriteTree_=XDe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function DL(t,e,n,r,i){return UDe(t.pendingWriteTree_,e,n,r,i),i?vd(t,new Id(QL(),e,n)):[]}function IRe(t,e,n,r){PDe(t.pendingWriteTree_,e,n,r);let i=pr.fromObject(n);return vd(t,new EE(QL(),e,i))}function BA(t,e,n=!1){let r=VDe(t.pendingWriteTree_,e);if(qDe(t.pendingWriteTree_,e)){let s=new pr(null);return r.snap!=null?s=s.set(He(),!0):wn(r.children,o=>{s=s.set(new Ye(o),!0)}),vd(t,new OM(r.path,s,n))}else return[]}function SE(t,e,n){return vd(t,new Id(wL(),e,n))}function yRe(t,e,n){let r=pr.fromObject(n);return vd(t,new EE(wL(),e,r))}function BRe(t,e){return vd(t,new Bw(wL(),e))}function QRe(t,e,n){let r=RL(t,n);if(r){let i=TL(r),s=i.path,o=i.queryId,a=gr(s,e),A=new Bw(_L(o),a);return kL(t,s,A)}else return[]}function Tw(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||qX(o,e))){let A=pRe(o,e,n,r);fRe(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let l=A.removed;if(a=A.events,!i){let c=l.findIndex(h=>h._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(s,(h,d)=>SA(d));if(c&&!u){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let d=vRe(h);for(let f=0;f<d.length;++f){let g=d[f],m=g.query,y=WX(t,g);t.listenProvider_.startListening(AE(m),CE(t,m),y.hashFn,y.onComplete)}}}!u&&l.length>0&&!r&&(c?t.listenProvider_.stopListening(AE(e),null):l.forEach(h=>{let d=t.queryToTagMap.get(Hw(h));t.listenProvider_.stopListening(AE(h),d)}))}SRe(t,l)}return a}function GX(t,e,n,r){let i=RL(t,r);if(i!=null){let s=TL(i),o=s.path,a=s.queryId,A=gr(o,e),l=new Id(_L(a),A,n);return kL(t,o,l)}else return[]}function wRe(t,e,n,r){let i=RL(t,r);if(i){let s=TL(i),o=s.path,a=s.queryId,A=gr(o,e),l=pr.fromObject(n),c=new EE(_L(a),A,l);return kL(t,o,c)}else return[]}function zM(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,d)=>{let f=gr(h,i);s=s||wA(d,f),o=o||SA(d)});let a=t.syncPointTree_.get(i);a?(o=o||SA(a),s=s||wA(a,He())):(a=new bw,t.syncPointTree_=t.syncPointTree_.set(i,a));let A;s!=null?A=!0:(A=!1,s=Ce.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((d,f)=>{let g=wA(f,He());g&&(s=s.updateImmediateChild(d,g))}));let l=qX(a,e);if(!l&&!e._queryParams.loadsAllData()){let h=Hw(e);M(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let d=bRe();t.queryToTagMap.set(h,d),t.tagToQueryMap.set(d,h)}let c=Vw(t.pendingWriteTree_,i),u=gRe(a,e,n,c,s,A);if(!l&&!o&&!r){let h=VX(a,e);u=u.concat(DRe(t,e,h))}return u}function Gw(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let A=gr(o,e),l=wA(a,A);if(l)return l});return NX(i,e,s,n,!0)}function _Re(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,c)=>{let u=gr(l,n);r=r||wA(c,u)});let i=t.syncPointTree_.get(n);i?r=r||wA(i,He()):(i=new bw,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new co(r,!0,!1):null,a=Vw(t.pendingWriteTree_,e._path),A=UX(i,e,a,s?o.getNode():Ce.EMPTY_NODE,s);return ARe(A)}function vd(t,e){return HX(e,t.syncPointTree_,null,Vw(t.pendingWriteTree_,He()))}function HX(t,e,n,r){if(Se(t.path))return YX(t,e,n,r);{let i=e.get(He());n==null&&i!=null&&(n=wA(i,He()));let s=[],o=ve(t.path),a=t.operationForChild(o),A=e.children.get(o);if(A&&a){let l=n?n.getImmediateChild(o):null,c=FX(r,o);s=s.concat(HX(a,A,l,c))}return i&&(s=s.concat(bL(i,t,r,n))),s}}function YX(t,e,n,r){let i=e.get(He());n==null&&i!=null&&(n=wA(i,He()));let s=[];return e.children.inorderTraversal((o,a)=>{let A=n?n.getImmediateChild(o):null,l=FX(r,o),c=t.operationForChild(o);c&&(s=s.concat(YX(c,a,A,l)))}),i&&(s=s.concat(bL(i,t,r,n))),s}function WX(t,e){let n=e.query,r=CE(t,n);return{hashFn:()=>(aRe(e)||Ce.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?QRe(t,n._path,r):BRe(t,n._path);{let s=Obe(i,n);return Tw(t,n,null,s)}}}}function CE(t,e){let n=Hw(e);return t.queryToTagMap.get(n)}function Hw(t){return t._path.toString()+"$"+t._queryIdentifier}function RL(t,e){return t.tagToQueryMap.get(e)}function TL(t){let e=t.indexOf("$");return M(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function kL(t,e,n){let r=t.syncPointTree_.get(e);M(r,"Missing sync point for query tag that we're tracking");let i=Vw(t.pendingWriteTree_,e);return bL(r,n,i,null)}function vRe(t){return t.fold((e,n,r)=>{if(n&&SA(n))return[qw(n)];{let i=[];return n&&(i=PX(n)),wn(r,(s,o)=>{i=i.concat(o)}),i}})}function AE(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(mRe())(t._repo,t._path):t}function SRe(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Hw(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function bRe(){return CRe++}function DRe(t,e,n){let r=e._path,i=CE(t,e),s=WX(t,n),o=t.listenProvider_.startListening(AE(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)M(!SA(a.value),"If we're adding a query, it shouldn't be shadowed");else{let A=a.fold((l,c,u)=>{if(!Se(l)&&c&&SA(c))return[qw(c).query];{let h=[];return c&&(h=h.concat(PX(c).map(d=>d.query))),wn(u,(d,f)=>{h=h.concat(f)}),h}});for(let l=0;l<A.length;++l){let c=A[l];t.listenProvider_.stopListening(AE(c),CE(t,c))}}return o}var jM=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},KM=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=bt(this.path_,e);return new t(this.syncTree_,n)}node(){return Gw(this.syncTree_,this.path_)}},RRe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},j6=function(t,e,n){if(!t||typeof t!="object")return t;if(M(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return TRe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kRe(t[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},TRe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+t)}},kRe=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&M(!1,"Unexpected increment value: "+r);let i=e.node();if(M(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},JX=function(t,e,n,r){return FL(e,new KM(n,t),r)},NL=function(t,e,n){return FL(t,new jM(e),n)};function FL(t,e,n){let r=t.getPriority().val(),i=j6(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=j6(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ed(a,Ft(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ed(i))),o.forEachChild(ft,(a,A)=>{let l=FL(A,e.getImmediateChild(a),n);l!==A&&(s=s.updateImmediateChild(a,l))}),s}}var IE=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Yw(t,e){let n=e instanceof Ye?e:new Ye(e),r=t,i=ve(n);for(;i!==null;){let s=ta(r.node.children,i)||{children:{},childCount:0};r=new IE(i,r,s),n=At(n),i=ve(n)}return r}function cc(t){return t.node.value}function xL(t,e){t.node.value=e,XM(t)}function zX(t){return t.node.childCount>0}function NRe(t){return cc(t)===void 0&&!zX(t)}function Ww(t,e){wn(t.node.children,(n,r)=>{e(new IE(n,t,r))})}function jX(t,e,n,r){n&&!r&&e(t),Ww(t,i=>{jX(i,e,!0,r)}),n&&r&&e(t)}function FRe(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function bE(t){return new Ye(t.parent===null?t.name:bE(t.parent)+"/"+t.name)}function XM(t){t.parent!==null&&xRe(t.parent,t.name,t)}function xRe(t,e,n){let r=NRe(n),i=li(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,XM(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,XM(t))}var MRe=/[\[\].#$\/\u0000-\u001F\u007F]/,LRe=/[\[\].#$\u0000-\u001F\u007F]/,AM=10*1024*1024,Jw=function(t){return typeof t=="string"&&t.length!==0&&!MRe.test(t)},KX=function(t){return typeof t=="string"&&t.length!==0&&!LRe.test(t)},ORe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),KX(t)},yE=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ow(t)||t&&typeof t=="object"&&li(t,".sv")},uo=function(t,e,n,r){r&&e===void 0||DE(Cr(t,"value"),e,n)},DE=function(t,e,n){let r=n instanceof Ye?new yM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ic(r));if(typeof e=="function")throw new Error(t+"contains a function "+ic(r)+" with contents = "+e.toString());if(Ow(e))throw new Error(t+"contains "+e.toString()+" "+ic(r));if(typeof e=="string"&&e.length>AM/3&&Ud(e)>AM)throw new Error(t+"contains a string greater than "+AM+" utf8 bytes "+ic(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(wn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Jw(o)))throw new Error(t+" contains an invalid key ("+o+") "+ic(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fDe(r,o),DE(t,a,r),gDe(r)}),i&&s)throw new Error(t+' contains ".value" child '+ic(r)+" in addition to actual children.")}},URe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let s=uE(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Jw(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(dDe);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Fi(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},XX=function(t,e,n,r){if(r&&e===void 0)return;let i=Cr(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let s=[];wn(e,(o,a)=>{let A=new Ye(o);if(DE(i,a,bt(n,A)),mL(A)===".priority"&&!yE(a))throw new Error(i+"contains an invalid value for '"+A.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(A)}),URe(i,s)},ML=function(t,e,n){if(!(n&&e===void 0)){if(Ow(e))throw new Error(Cr(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yE(e))throw new Error(Cr(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},RE=function(t,e,n,r){if(!(r&&n===void 0)&&!Jw(n))throw new Error(Cr(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Sd=function(t,e,n,r){if(!(r&&n===void 0)&&!KX(n))throw new Error(Cr(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},PRe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sd(t,e,n,r)},ei=function(t,e){if(ve(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ZX=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ORe(n))throw new Error(Cr(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var ZM=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function zw(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!CL(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function $X(t,e,n){zw(t,n),eZ(t,r=>CL(r,e))}function ti(t,e,n){zw(t,n),eZ(t,r=>Fi(r,e)||Fi(e,r))}function eZ(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(VRe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function VRe(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();oc&&Qn("event: "+n.toString()),wd(r)}}}var tZ="repo_interrupt",qRe=25,$M=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yw(),this.transactionQueueTree_=new IE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function GRe(t,e,n){if(t.stats_=gL(t.repoInfo_),t.forceRestClient_||qbe())t.server_=new kM(t.repoInfo_,(r,i,s,o)=>{K6(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>X6(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new IL(t.repoInfo_,e,(r,i,s,o)=>{K6(t,r,i,s,o)},r=>{X6(t,r)},r=>{HRe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Hbe(t.repoInfo_,()=>new LM(t.stats_,t.server_)),t.infoData_=new NM,t.infoSyncTree_=new Rw({startListening:(r,i,s,o)=>{let a=[],A=t.infoData_.getNode(r._path);return A.isEmpty()||(a=SE(t.infoSyncTree_,r._path,A),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),LL(t,"connected",!1),t.serverSyncTree_=new Rw({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,A)=>{let l=o(a,A);ti(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function nZ(t){let n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function TE(t){return RRe({timestamp:nZ(t)})}function K6(t,e,n,r,i){t.dataUpdateCount++;let s=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let A=Od(n,l=>Ft(l));o=wRe(t.serverSyncTree_,s,A,i)}else{let A=Ft(n);o=GX(t.serverSyncTree_,s,A,i)}else if(r){let A=Od(n,l=>Ft(l));o=yRe(t.serverSyncTree_,s,A)}else{let A=Ft(n);o=SE(t.serverSyncTree_,s,A)}let a=s;o.length>0&&(a=Bd(t,s)),ti(t.eventQueue_,a,o)}function X6(t,e){LL(t,"connected",e),e===!1&&JRe(t)}function HRe(t,e){wn(e,(n,r)=>{LL(t,n,r)})}function LL(t,e,n){let r=new Ye("/.info/"+e),i=Ft(n);t.infoData_.updateSnapshot(r,i);let s=SE(t.infoSyncTree_,r,i);ti(t.eventQueue_,r,s)}function jw(t){return t.nextWriteId_++}function YRe(t,e,n){let r=_Re(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=Ft(i).withIndex(e._queryParams.getIndex());zM(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=SE(t.serverSyncTree_,e._path,s);else{let a=CE(t.serverSyncTree_,e);o=GX(t.serverSyncTree_,e._path,s,a)}return ti(t.eventQueue_,e._path,o),Tw(t.serverSyncTree_,e,n,null,!0),s},i=>(bd(t,"get for query "+Xt(e)+" failed: "+i),Promise.reject(new Error(i))))}function OL(t,e,n,r,i){bd(t,"set",{path:e.toString(),value:n,priority:r});let s=TE(t),o=Ft(n,r),a=Gw(t.serverSyncTree_,e),A=NL(o,a,s),l=jw(t),c=DL(t.serverSyncTree_,e,A,l,!0);zw(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(h,d)=>{let f=h==="ok";f||Kn("set at "+e+" failed: "+h);let g=BA(t.serverSyncTree_,l,!f);ti(t.eventQueue_,e,g),bA(t,i,h,d)});let u=PL(t,e);Bd(t,u),ti(t.eventQueue_,u,[])}function WRe(t,e,n,r){bd(t,"update",{path:e.toString(),value:n});let i=!0,s=TE(t),o={};if(wn(n,(a,A)=>{i=!1,o[a]=JX(bt(e,a),Ft(A),t.serverSyncTree_,s)}),i)Qn("update() called with empty data.  Don't do anything."),bA(t,r,"ok",void 0);else{let a=jw(t),A=IRe(t.serverSyncTree_,e,o,a);zw(t.eventQueue_,A),t.server_.merge(e.toString(),n,(l,c)=>{let u=l==="ok";u||Kn("update at "+e+" failed: "+l);let h=BA(t.serverSyncTree_,a,!u),d=h.length>0?Bd(t,e):e;ti(t.eventQueue_,d,h),bA(t,r,l,c)}),wn(n,l=>{let c=PL(t,bt(e,l));Bd(t,c)}),ti(t.eventQueue_,e,[])}}function JRe(t){bd(t,"onDisconnectEvents");let e=TE(t),n=yw();xM(t.onDisconnect_,He(),(i,s)=>{let o=JX(i,s,t.serverSyncTree_,e);_d(n,i,o)});let r=[];xM(n,He(),(i,s)=>{r=r.concat(SE(t.serverSyncTree_,i,s));let o=PL(t,i);Bd(t,o)}),t.onDisconnect_=yw(),ti(t.eventQueue_,He(),r)}function zRe(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&FM(t.onDisconnect_,e),bA(t,n,r,i)})}function Z6(t,e,n,r){let i=Ft(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&_d(t.onDisconnect_,e,i),bA(t,r,s,o)})}function jRe(t,e,n,r,i){let s=Ft(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&_d(t.onDisconnect_,e,s),bA(t,i,o,a)})}function KRe(t,e,n,r){if(YE(n)){Qn("onDisconnect().update() called with empty data.  Don't do anything."),bA(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&wn(n,(o,a)=>{let A=Ft(a);_d(t.onDisconnect_,bt(e,o),A)}),bA(t,r,i,s)})}function XRe(t,e,n){let r;ve(e._path)===".info"?r=zM(t.infoSyncTree_,e,n):r=zM(t.serverSyncTree_,e,n),$X(t.eventQueue_,e._path,r)}function eL(t,e,n){let r;ve(e._path)===".info"?r=Tw(t.infoSyncTree_,e,n):r=Tw(t.serverSyncTree_,e,n),$X(t.eventQueue_,e._path,r)}function rZ(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tZ)}function ZRe(t){t.persistentConnection_&&t.persistentConnection_.resume(tZ)}function bd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qn(n,...e)}function bA(t,e,n,r){e&&wd(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function $Re(t,e,n,r,i,s){bd(t,"transaction on "+e);let o={path:e,update:n,onComplete:r,status:null,order:uX(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=UL(t,e,void 0);o.currentInputSnapshot=a;let A=o.update(a.val());if(A===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{DE("transaction failed: Data returned ",A,o.path),o.status=0;let l=Yw(t.transactionQueueTree_,e),c=cc(l)||[];c.push(o),xL(l,c);let u;typeof A=="object"&&A!==null&&li(A,".priority")?(u=ta(A,".priority"),M(yE(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(Gw(t.serverSyncTree_,e)||Ce.EMPTY_NODE).getPriority().val();let h=TE(t),d=Ft(A,u),f=NL(d,a,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=f,o.currentWriteId=jw(t);let g=DL(t.serverSyncTree_,e,f,o.currentWriteId,o.applyLocally);ti(t.eventQueue_,e,g),Kw(t,t.transactionQueueTree_)}}function UL(t,e,n){return Gw(t.serverSyncTree_,e,n)||Ce.EMPTY_NODE}function Kw(t,e=t.transactionQueueTree_){if(e||Xw(t,e),cc(e)){let n=sZ(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&eTe(t,bE(e),n)}else zX(e)&&Ww(e,n=>{Kw(t,n)})}function eTe(t,e,n){let r=n.map(l=>l.currentWriteId),i=UL(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let c=n[l];M(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;let u=gr(e,c.path);s=s.updateChild(u,c.currentOutputSnapshotRaw)}let a=s.val(!0),A=e;t.server_.put(A.toString(),a,l=>{bd(t,"transaction put response",{path:A.toString(),status:l});let c=[];if(l==="ok"){let u=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(BA(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&u.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Xw(t,Yw(t.transactionQueueTree_,e)),Kw(t,t.transactionQueueTree_),ti(t.eventQueue_,e,c);for(let h=0;h<u.length;h++)wd(u[h])}else{if(l==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{Kn("transaction at "+A.toString()+" failed: "+l);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=l}Bd(t,e)}},o)}function Bd(t,e){let n=iZ(t,e),r=bE(n),i=sZ(t,n);return tTe(t,i,r),r}function tTe(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let A=e[a],l=gr(n,A.path),c=!1,u;if(M(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),A.status===4)c=!0,u=A.abortReason,i=i.concat(BA(t.serverSyncTree_,A.currentWriteId,!0));else if(A.status===0)if(A.retryCount>=qRe)c=!0,u="maxretry",i=i.concat(BA(t.serverSyncTree_,A.currentWriteId,!0));else{let h=UL(t,A.path,o);A.currentInputSnapshot=h;let d=e[a].update(h.val());if(d!==void 0){DE("transaction failed: Data returned ",d,A.path);let f=Ft(d);typeof d=="object"&&d!=null&&li(d,".priority")||(f=f.updatePriority(h.getPriority()));let m=A.currentWriteId,y=TE(t),I=NL(f,h,y);A.currentOutputSnapshotRaw=f,A.currentOutputSnapshotResolved=I,A.currentWriteId=jw(t),o.splice(o.indexOf(m),1),i=i.concat(DL(t.serverSyncTree_,A.path,I,A.currentWriteId,A.applyLocally)),i=i.concat(BA(t.serverSyncTree_,m,!0))}else c=!0,u="nodata",i=i.concat(BA(t.serverSyncTree_,A.currentWriteId,!0))}ti(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(u),!1,null))))}Xw(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)wd(r[a]);Kw(t,t.transactionQueueTree_)}function iZ(t,e){let n,r=t.transactionQueueTree_;for(n=ve(e);n!==null&&cc(r)===void 0;)r=Yw(r,n),e=At(e),n=ve(e);return r}function sZ(t,e){let n=[];return oZ(t,e,n),n.sort((r,i)=>r.order-i.order),n}function oZ(t,e,n){let r=cc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ww(e,i=>{oZ(t,i,n)})}function Xw(t,e){let n=cc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,xL(e,n.length>0?n:void 0)}Ww(e,r=>{Xw(t,r)})}function PL(t,e){let n=bE(iZ(t,e)),r=Yw(t.transactionQueueTree_,e);return FRe(r,i=>{lM(t,i)}),lM(t,r),jX(r,i=>{lM(t,i)}),n}function lM(t,e){let n=cc(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(M(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(BA(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?xL(e,void 0):n.length=s+1,ti(t.eventQueue_,bE(e),i);for(let o=0;o<r.length;o++)wd(r[o])}}function nTe(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function rTe(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Kn(`Invalid query segment '${n}' in query '${t}'`)}return e}var tL=function(t,e){let n=iTe(t),r=n.namespace;n.domain==="firebase.com"&&lo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&lo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Nbe();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new fw(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ye(n.pathString)}},iTe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",A=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let c=t.indexOf("/");c===-1&&(c=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(c,u)),c<u&&(i=nTe(t.substring(c,u)));let h=rTe(t.substring(Math.min(t.length,u)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",A=parseInt(e.substring(l+1),10)):l=e.length;let d=e.slice(0,l);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{let f=e.indexOf(".");r=e.substring(0,f).toLowerCase(),n=e.substring(f+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:A,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var $6="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sTe=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,s=new Array(8);for(i=7;i>=0;i--)s[i]=$6.charAt(n%64),n=Math.floor(n/64);M(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=$6.charAt(e[i]);return M(o.length===20,"nextPushId: Length should be 20."),o}}();var kw=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xt(this.snapshot.exportVal())}},Nw=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var BE=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Fw=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new hn;return zRe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ei("OnDisconnect.remove",this._path);let e=new hn;return Z6(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ei("OnDisconnect.set",this._path),uo("OnDisconnect.set",e,this._path,!1);let n=new hn;return Z6(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){ei("OnDisconnect.setWithPriority",this._path),uo("OnDisconnect.setWithPriority",e,this._path,!1),ML("OnDisconnect.setWithPriority",n,!1);let r=new hn;return jRe(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){ei("OnDisconnect.update",this._path),XX("OnDisconnect.update",e,this._path,!1);let n=new hn;return KRe(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var Er=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Se(this._path)?null:mL(this._path)}get ref(){return new ni(this._repo,this._path)}get _queryIdentifier(){let e=U6(this._queryParams),n=fL(e);return n==="{}"?"default":n}get _queryObject(){return U6(this._queryParams)}isEqual(e){if(e=de(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=CL(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+hDe(this._path)}};function Zw(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function RA(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ao){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==_A)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==zo)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ft){if(e!=null&&!yE(e)||n!=null&&!yE(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(M(t.getIndex()instanceof hE||t.getIndex()===BL,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $w(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ni=class t extends Er{constructor(e,n){super(e,n,new pE,!1)}get parent(){let e=QX(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Qd=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Ye(e),r=DA(this.ref,e);return new t(this._node.getChild(n),r,ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,DA(this.ref,r),ft)))}hasChild(e){let n=new Ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function VL(t,e){return t=de(t),t._checkNotDeleted("ref"),e!==void 0?DA(t._root,e):t._root}function qL(t,e){t=de(t),t._checkNotDeleted("refFromURL");let n=tL(e,t._repo.repoInfo_.nodeAdmin);ZX("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&lo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),VL(t,n.path.toString())}function DA(t,e){return t=de(t),ve(t._path)===null?PRe("child","path",e,!1):Sd("child","path",e,!1),new ni(t._repo,bt(t._path,e))}function aZ(t,e){t=de(t),ei("push",t._path),uo("push",e,t._path,!0);let n=nZ(t._repo),r=sTe(n),i=DA(t,r),s=DA(t,r),o;return e!=null?o=e0(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function AZ(t){return ei("remove",t._path),e0(t,null)}function e0(t,e){t=de(t),ei("set",t._path),uo("set",e,t._path,!1);let n=new hn;return OL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function lZ(t,e){t=de(t),ei("setPriority",t._path),ML("setPriority",e,!1);let n=new hn;return OL(t._repo,bt(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function cZ(t,e,n){if(ei("setWithPriority",t._path),uo("setWithPriority",e,t._path,!1),ML("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new hn;return OL(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function uZ(t,e){XX("update",e,t._path,!1);let n=new hn;return WRe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function hZ(t){t=de(t);let e=new BE(()=>{}),n=new QE(e);return YRe(t._repo,t,n).then(r=>new Qd(r,new ni(t._repo,t._path),t._queryParams.getIndex()))}var QE=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new kw("value",this,new Qd(e.snapshotNode,new ni(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Nw(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},xw=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Nw(this,e,n):null}createEvent(e,n){M(e.childName!=null,"Child events should have a childName.");let r=DA(new ni(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new kw(e.type,this,new Qd(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function kE(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let A=n,l=(c,u)=>{eL(t._repo,t,a),A(c,u)};l.userCallback=n.userCallback,l.context=n.context,n=l}let o=new BE(n,s||void 0),a=e==="value"?new QE(o):new xw(e,o);return XRe(t._repo,t,a),()=>eL(t._repo,t,a)}function t0(t,e,n,r){return kE(t,"value",e,n,r)}function GL(t,e,n,r){return kE(t,"child_added",e,n,r)}function HL(t,e,n,r){return kE(t,"child_changed",e,n,r)}function YL(t,e,n,r){return kE(t,"child_moved",e,n,r)}function WL(t,e,n,r){return kE(t,"child_removed",e,n,r)}function JL(t,e,n){let r=null,i=n?new BE(n):null;e==="value"?r=new QE(i):e&&(r=new xw(e,i)),eL(t._repo,t,r)}var ri=class{},Mw=class extends ri{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){uo("endAt",this._value,e._path,!0);let n=TM(e._queryParams,this._value,this._key);if($w(n),RA(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Er(e._repo,e._path,n,e._orderByCalled)}};function dZ(t,e){return RE("endAt","key",e,!0),new Mw(t,e)}var nL=class extends ri{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){uo("endBefore",this._value,e._path,!1);let n=TDe(e._queryParams,this._value,this._key);if($w(n),RA(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Er(e._repo,e._path,n,e._orderByCalled)}};function fZ(t,e){return RE("endBefore","key",e,!0),new nL(t,e)}var Lw=class extends ri{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){uo("startAt",this._value,e._path,!0);let n=RM(e._queryParams,this._value,this._key);if($w(n),RA(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Er(e._repo,e._path,n,e._orderByCalled)}};function gZ(t=null,e){return RE("startAt","key",e,!0),new Lw(t,e)}var rL=class extends ri{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){uo("startAfter",this._value,e._path,!1);let n=RDe(e._queryParams,this._value,this._key);if($w(n),RA(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Er(e._repo,e._path,n,e._orderByCalled)}};function pZ(t,e){return RE("startAfter","key",e,!0),new rL(t,e)}var iL=class extends ri{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Er(e._repo,e._path,bDe(e._queryParams,this._limit),e._orderByCalled)}};function EZ(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new iL(t)}var sL=class extends ri{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Er(e._repo,e._path,DDe(e._queryParams,this._limit),e._orderByCalled)}};function mZ(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new sL(t)}var oL=class extends ri{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Zw(e,"orderByChild");let n=new Ye(this._path);if(Se(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new hE(n),i=Uw(e._queryParams,r);return RA(i),new Er(e._repo,e._path,i,!0)}};function CZ(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Sd("orderByChild","path",t,!1),new oL(t)}var aL=class extends ri{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Zw(e,"orderByKey");let n=Uw(e._queryParams,Ao);return RA(n),new Er(e._repo,e._path,n,!0)}};function IZ(){return new aL}var AL=class extends ri{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Zw(e,"orderByPriority");let n=Uw(e._queryParams,ft);return RA(n),new Er(e._repo,e._path,n,!0)}};function yZ(){return new AL}var lL=class extends ri{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Zw(e,"orderByValue");let n=Uw(e._queryParams,BL);return RA(n),new Er(e._repo,e._path,n,!0)}};function BZ(){return new lL}var cL=class extends ri{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(uo("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Mw(this._value,this._key)._apply(new Lw(this._value,this._key)._apply(e))}};function QZ(t,e){return RE("equalTo","key",e,!0),new cL(t,e)}function Mi(t,...e){let n=de(t);for(let r of e)n=r._apply(n);return n}hRe(ni);ERe(ni);var oTe="FIREBASE_DATABASE_EMULATOR_HOST",uL={},aTe=!1;function ATe(t,e,n,r){t.repoInfo_=new fw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function zL(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||lo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=tL(s,i),a=o.repoInfo,A,l;typeof process<"u"&&process.env&&(l=process.env[oTe]),l?(A=!0,s=`http://${l}?ns=${a.namespace}`,o=tL(s,i),a=o.repoInfo):A=!o.repoInfo.secure;let c=i&&A?new sE(sE.OWNER):new EM(t.name,t.options,e);ZX("Invalid Firebase Database URL",o),Se(o.path)||lo("Database URL must point to the root of a Firebase Database (not including a child path).");let u=cTe(a,t,c,new pM(t.name,n));return new hL(u,t)}function lTe(t,e){let n=uL[e];(!n||n[t.key]!==t)&&lo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),rZ(t),delete n[t.key]}function cTe(t,e,n,r){let i=uL[e.name];i||(i={},uL[e.name]=i);let s=i[t.toURLString()];return s&&lo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $M(t,aTe,n,r),i[t.toURLString()]=s,s}var hL=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GRe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ni(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lTe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&lo("Cannot call "+e+" on a deleted database.")}};function wZ(){BX.IS_TRANSPORT_INITIALIZED&&Kn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function _Z(){wZ(),cE.forceDisallow()}function vZ(){wZ(),dd.forceDisallow(),cE.forceAllow()}function SZ(t,e,n,r={}){t=de(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&lo("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&lo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new sE(sE.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:mc(r.mockUserToken,t.app.options.projectId);s=new sE(o)}ATe(i,e,n,s)}function bZ(t){t=de(t),t._checkNotDeleted("goOffline"),rZ(t._repo)}function DZ(t){t=de(t),t._checkNotDeleted("goOnline"),ZRe(t._repo)}function RZ(t,e){dX(t,e)}function uTe(t){EL(Cc),ho(new Sn("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return zL(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Nr(w6,_6,t),Nr(w6,_6,"esm2017")}var hTe={".sv":"timestamp"};function TZ(){return hTe}function kZ(t){return{".sv":{increment:t}}}var dL=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function NZ(t,e,n){var r;if(t=de(t),ei("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,s=new hn,o=(A,l,c)=>{let u=null;A?s.reject(A):(u=new Qd(c,new ni(t._repo,t._path),ft),s.resolve(new dL(l,u)))},a=t0(t,()=>{});return $Re(t._repo,t._path,e,o,a,i),s.promise}IL.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};IL.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Jbe(eX.default.Client);uTe("node");var dTe="@firebase/database-compat",fTe="1.0.3";var gTe=new na("@firebase/database-compat"),FZ=function(t){let e="FIREBASE WARNING: "+t;gTe.warn(e)};var pTe=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Cr(t,e)+"must be a boolean.")},ETe=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Cr(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var jL=class{constructor(e){this._delegate=e}cancel(e){ue("OnDisconnect.cancel",0,1,arguments.length),an("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){ue("OnDisconnect.remove",0,1,arguments.length),an("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){ue("OnDisconnect.set",1,2,arguments.length),an("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){ue("OnDisconnect.setWithPriority",2,3,arguments.length),an("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(ue("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,FZ("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}an("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var KL=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return ue("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var uc=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return ue("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ue("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ue("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ue("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return ue("DataSnapshot.child",0,1,arguments.length),e=String(e),Sd("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return ue("DataSnapshot.hasChild",1,1,arguments.length),Sd("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return ue("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return ue("DataSnapshot.forEach",1,1,arguments.length),an("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return ue("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ue("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ue("DataSnapshot.ref",0,0,arguments.length),new jo(this._database,this._delegate.ref)}get ref(){return this.getRef()}},n0=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;ue("Query.on",2,4,arguments.length),an("Query.on","callback",n,!1);let o=t.getCancelAndContextArgs_("Query.on",r,i),a=(l,c)=>{n.call(o.context,new uc(this.database,l),c)};a.userCallback=n,a.context=o.context;let A=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return t0(this._delegate,a,A),n;case"child_added":return GL(this._delegate,a,A),n;case"child_removed":return WL(this._delegate,a,A),n;case"child_changed":return HL(this._delegate,a,A),n;case"child_moved":return YL(this._delegate,a,A),n;default:throw new Error(Cr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(ue("Query.off",0,3,arguments.length),ETe("Query.off",e,!0),an("Query.off","callback",n,!0),I0("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,JL(this._delegate,e,i)}else JL(this._delegate,e)}get(){return hZ(this._delegate).then(e=>new uc(this.database,e))}once(e,n,r,i){ue("Query.once",1,4,arguments.length),an("Query.once","callback",n,!0);let s=t.getCancelAndContextArgs_("Query.once",r,i),o=new hn,a=(l,c)=>{let u=new uc(this.database,l);n&&n.call(s.context,u,c),o.resolve(u)};a.userCallback=n,a.context=s.context;let A=l=>{s.cancel&&s.cancel.call(s.context,l),o.reject(l)};switch(e){case"value":t0(this._delegate,a,A,{onlyOnce:!0});break;case"child_added":GL(this._delegate,a,A,{onlyOnce:!0});break;case"child_removed":WL(this._delegate,a,A,{onlyOnce:!0});break;case"child_changed":HL(this._delegate,a,A,{onlyOnce:!0});break;case"child_moved":YL(this._delegate,a,A,{onlyOnce:!0});break;default:throw new Error(Cr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return ue("Query.limitToFirst",1,1,arguments.length),new t(this.database,Mi(this._delegate,EZ(e)))}limitToLast(e){return ue("Query.limitToLast",1,1,arguments.length),new t(this.database,Mi(this._delegate,mZ(e)))}orderByChild(e){return ue("Query.orderByChild",1,1,arguments.length),new t(this.database,Mi(this._delegate,CZ(e)))}orderByKey(){return ue("Query.orderByKey",0,0,arguments.length),new t(this.database,Mi(this._delegate,IZ()))}orderByPriority(){return ue("Query.orderByPriority",0,0,arguments.length),new t(this.database,Mi(this._delegate,yZ()))}orderByValue(){return ue("Query.orderByValue",0,0,arguments.length),new t(this.database,Mi(this._delegate,BZ()))}startAt(e=null,n){return ue("Query.startAt",0,2,arguments.length),new t(this.database,Mi(this._delegate,gZ(e,n)))}startAfter(e=null,n){return ue("Query.startAfter",0,2,arguments.length),new t(this.database,Mi(this._delegate,pZ(e,n)))}endAt(e=null,n){return ue("Query.endAt",0,2,arguments.length),new t(this.database,Mi(this._delegate,dZ(e,n)))}endBefore(e=null,n){return ue("Query.endBefore",0,2,arguments.length),new t(this.database,Mi(this._delegate,fZ(e,n)))}equalTo(e,n){return ue("Query.equalTo",1,2,arguments.length),new t(this.database,Mi(this._delegate,QZ(e,n)))}toString(){return ue("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ue("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(ue("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,an(e,"cancel",i.cancel,!0),i.context=r,I0(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Cr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new jo(this.database,new ni(this._delegate._repo,this._delegate._path))}},jo=class t extends n0{constructor(e,n){super(e,new Er(n._repo,n._path,new pE,!1)),this.database=e,this._delegate=n}getKey(){return ue("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return ue("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,DA(this._delegate,e))}getParent(){ue("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return ue("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){ue("Reference.set",1,2,arguments.length),an("Reference.set","onComplete",n,!0);let r=e0(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(ue("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,FZ("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ei("Reference.update",this._delegate._path),an("Reference.update","onComplete",n,!0);let r=uZ(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){ue("Reference.setWithPriority",2,3,arguments.length),an("Reference.setWithPriority","onComplete",r,!0);let i=cZ(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){ue("Reference.remove",0,1,arguments.length),an("Reference.remove","onComplete",e,!0);let n=AZ(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){ue("Reference.transaction",1,3,arguments.length),an("Reference.transaction","transactionUpdate",e,!1),an("Reference.transaction","onComplete",n,!0),pTe("Reference.transaction","applyLocally",r,!0);let i=NZ(this._delegate,e,{applyLocally:r}).then(s=>new KL(s.committed,new uc(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){ue("Reference.setPriority",1,2,arguments.length),an("Reference.setPriority","onComplete",n,!0);let r=lZ(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){ue("Reference.push",0,2,arguments.length),an("Reference.push","onComplete",n,!0);let r=aZ(this._delegate,e),i=r.then(o=>new t(this.database,o));n&&i.then(()=>n(null),o=>n(o));let s=new t(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return ei("Reference.onDisconnect",this._delegate._path),new jL(new Fw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var hc=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:_Z,forceLongPolling:vZ}}useEmulator(e,n,r={}){SZ(this._delegate,e,n,r)}ref(e){if(ue("database.ref",0,1,arguments.length),e instanceof jo){let n=qL(this._delegate,e.toString());return new jo(this,n)}else{let n=VL(this._delegate,e);return new jo(this,n)}}refFromURL(e){ue("database.refFromURL",1,1,arguments.length);let r=qL(this._delegate,e);return new jo(this,r)}goOffline(){return ue("database.goOffline",0,0,arguments.length),bZ(this._delegate)}goOnline(){return ue("database.goOnline",0,0,arguments.length),DZ(this._delegate)}};hc.ServerValue={TIMESTAMP:TZ(),increment:t=>kZ(t)};function mTe({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){EL(n);let a=new y0("database-standalone"),A=new WE("auth-internal",a);A.setComponent(new Sn("auth-internal",()=>r,"PRIVATE"));let l;return i&&(l=new WE("app-check-internal",a),l.setComponent(new Sn("app-check-internal",()=>i,"PRIVATE"))),{instance:new hc(zL(t,A,l,e,o),t),namespace:s}}var CTe=Object.freeze({__proto__:null,initStandalone:mTe});var ITe=hc.ServerValue;function yTe(t){t.INTERNAL.registerComponent(new Sn("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new hc(i,r)},"PUBLIC").setServiceProps({Reference:jo,Query:n0,Database:hc,DataSnapshot:uc,enableLogging:RZ,INTERNAL:CTe,ServerValue:ITe}).setMultipleInstances(!0)),t.registerVersion(dTe,fTe,"node")}yTe(Dt);function NE(t,e,n="on",r=gc){return new hs(i=>{let s=null;return s=t[n](e,(o,a)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),n==="on"?{unsubscribe(){s!=null&&t.off(e,s)}}:{unsubscribe(){}}}).pipe(Je(i=>{let{snapshot:s,prevKey:o}=i,a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),r1())}function BTe(t){return typeof t=="string"}function QTe(t){return typeof t.exportVal=="function"}function UZ(t){return t==null}function PZ(t){return typeof t.set=="function"}function xZ(t,e){return PZ(e)?e:t.ref(e)}function VZ(t,e){if(BTe(t))return e.stringCase();if(PZ(t))return e.firebaseCase();if(QTe(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function qZ(t){return(UZ(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function GZ(t,e,n){e=qZ(e);let r=e.map(i=>NE(t,i,"on",n));return Rd(...r)}function wTe(t,e,n){let r=GZ(t,e).pipe(kA((i,s)=>[...i,s],[]));return vTe(t,r,n)}function _Te(t,e){return NE(t,"value","on",e).pipe(Je(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function vTe(t,e,n){return _Te(t,n).pipe(s1(e),Je(([i,s])=>{let o=i.lastKeyToLoad,a=s.map(A=>A.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),i1(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),Je(i=>i.actions))}function MZ(t,e){return function(r,i){return VZ(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function STe(t){return function(n){return n?VZ(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function bTe(t,e,n){return NE(t,"value","once",n).pipe(si(r=>{let i=[Tr(r)];return e.forEach(s=>i.push(NE(t,s,"on",n))),Rd(...i).pipe(kA(RTe,[]))}),xE())}function HZ(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function DTe(t,e){if(UZ(e))return 0;{let n=HZ(t,e);return n===-1?t.length:n+1}}function RTe(t,e){let{payload:n,prevKey:r,key:i}=e,s=HZ(t,i),o=DTe(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(A=>{let l={payload:A,type:"value",prevKey:a,key:A.key};return a=A.key,t=[...t,l],!1})}return t;case"child_added":if(s>-1)(t[s-1]?.key||null)!==r&&(t=t.filter(A=>A.payload.key!==n.key),t.splice(o,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(o,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(s>-1){let a=t.splice(s,1)[0];return t=t.slice(),t.splice(o,0,a),t}return t;default:return t}}function LZ(t,e,n){return e=qZ(e),bTe(t,e,n)}function TTe(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:MZ(r,"update"),set:MZ(r,"set"),push:i=>r.push(i),remove:STe(r),snapshotChanges(i){return LZ(t,i,n).pipe(yt)},stateChanges(i){return GZ(t,i,n).pipe(yt)},auditTrail(i){return wTe(t,i,n).pipe(yt)},valueChanges(i,s){return LZ(t,i,n).pipe(Je(a=>a.map(A=>s&&s.idField?se(x({},A.payload.val()),{[s.idField]:A.key}):A.payload.val())),yt)}}}function OZ(t,e){return function(){return NE(t,"value","on",e)}}function kTe(t,e){return{query:t,snapshotChanges(){return OZ(t,e.schedulers.outsideAngular)().pipe(yt)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return OZ(t,e.schedulers.outsideAngular)().pipe(yt,Je(r=>r.payload.exists()?r.payload.val():null))}}}var NTe=new Ke("angularfire2.realtimeDatabaseURL"),FTe=new Ke("angularfire2.database.use-emulator"),xTe=(()=>{class t{schedulers;database;constructor(n,r,i,s,o,a,A,l,c,u,h,d,f,g,m){this.schedulers=a;let y=A,I=fo(n,o,r);l&&Jd(I,o,c,h,d,f,u,g),this.database=sa(`${I.name}.database.${i}`,"AngularFireDatabase",I.name,()=>{let _=o.runOutsideAngular(()=>I.database(i||void 0));return y&&_.useEmulator(...y),_},[y])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>xZ(this.database,n)),s=i;return r&&(s=r(i)),TTe(s,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>xZ(this.database,n));return kTe(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(Y(ps),Y(Es,8),Y(NTe,8),Y(fs),Y(Ai),Y(ra),Y(FTe,8),Y(go,8),Y(Vd,8),Y(qd,8),Y(Gd,8),Y(Hd,8),Y(Yd,8),Y(Wd,8),Y(Oi,8))};static \u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),YZ=(()=>{class t{constructor(){Dt.registerVersion("angularfire",Ui.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=qt({type:t});static \u0275inj=Gt({providers:[xTe]})}return t})();var WZ={production:!1,firebase:{apiKey:"AIzaSyDmrgrnCMgL6-r563RM62VIE06BnMHgtug",authDomain:"crud-app-d735f.firebaseapp.com",projectId:"crud-app-d735f",storageBucket:"crud-app-d735f.appspot.com",messagingSenderId:"366503446665",appId:"1:366503446665:web:19058a82bec51a8bffde58",measurementId:"G-D7EQ2GQ4RM"}};var JZ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qt({type:e,bootstrap:[iB]}),e.\u0275inj=Gt({providers:[u1()],imports:[c1,MJ,O1.initializeApp(WZ.firebase),U1,P8,YW,YZ,DJ,RJ]});let t=e;return t})();var MTe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qt({type:e,bootstrap:[iB]}),e.\u0275inj=Gt({imports:[JZ,h1]});let t=e;return t})();export{oo as a,MTe as b};
